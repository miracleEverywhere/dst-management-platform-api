import{_ as q,e as E,b as F,f as G,h as k,aA as T,aB as O,A as i,o as b,w as t,a,z as n,l as e,I as U,v as f,t as g,s as R,n as A,aC as S}from"./index-CMKCSYdO.js";import{V}from"./VRow-DoAY8C7w.js";import{V as d}from"./VCol-BFJpflil.js";import{V as c}from"./VTextField-DSK81GDs.js";import{T as p}from"./index-DdU_lRdx.js";import{V as I,a as u}from"./VRadioGroup-Bdg8RxNG.js";import{V as v}from"./VChip-Bk2gsPMH.js";import{V as C}from"./VSlider--BRqHjtu.js";import{V as $}from"./VNumberInput-9QZhnGS_.js";import{V as z}from"./VForm-DoitQom2.js";/* empty css              */import"./index-DGBzjDo7.js";import"./VInput-BVFTscmb.js";import"./VTooltip-TkMGmhqz.js";import"./VSelectionControl-DRxzzoA5.js";import"./VSlideGroup-Br9BzrjI.js";import"./VDivider-Cxv4jZxD.js";const j={__name:"room",props:{formData:{type:Object,default:()=>({})},roomCount:{type:Number,default:0},maxPlayers:{type:Number,default:0}},setup(B,{expose:D}){const P=B,{mobile:y}=E(),{t:l}=F();G(()=>{(P.formData?.id||0)!==0?s.value=P.formData:(s.value.masterPort=P.roomCount+T.masterPort+1,s.value.gameMode="endless",s.value.clusterKey=O(14),s.value.modInOne=!0)});const N=k(),s=k({id:0,gameName:"",description:"",gameMode:"",customGameMode:"",pvp:!1,maxPlayer:2,maxRollBack:10,modInOne:!1,modData:"",vote:!1,pauseEmpty:!0,password:"",token:"",masterIP:"127.0.0.1",masterPort:0,clusterKey:""}),x=k({gameName:[r=>r?!0:l("game.base.step1.gameName.required")],customGameMode:[r=>r?!0:l("game.base.step1.gameMode.modes.custom.required")],token:[r=>r?!0:l("game.base.step1.token.required")],masterIP:[r=>r?!0:l("game.base.step1.masterIP.required")],masterPort:[r=>r?!0:l("game.base.step1.masterPort.required")],clusterKey:[r=>r?!0:l("game.base.step1.clusterKey.required")]}),M=k(!1),_=k(!1),w=k(!1),K=()=>{s.value.token=S()};return D({validate:async()=>{const{valid:r}=await N.value.validate();return r?{validate:!0,formData:s.value}:{validate:!1,formData:{}}}}),(r,m)=>(b(),i(z,{ref_key:"roomFormRef",ref:N},{default:t(()=>[a(V,null,{default:t(()=>[a(d,null,{default:t(()=>[n(a(c,{modelValue:e(s).gameName,"onUpdate:modelValue":m[0]||(m[0]=o=>e(s).gameName=o),rules:e(x).gameName,label:e(l)("game.base.step1.gameName.name")},null,8,["modelValue","rules","label"]),[[p,e(l)("game.base.step1.gameName.tip")]])]),_:1})]),_:1}),a(V,null,{default:t(()=>[a(d,null,{default:t(()=>[n(a(c,{modelValue:e(s).description,"onUpdate:modelValue":m[1]||(m[1]=o=>e(s).description=o),label:e(l)("game.base.step1.description.name")},null,8,["modelValue","label"]),[[p,e(l)("game.base.step1.description.tip")]])]),_:1})]),_:1}),a(V,null,{default:t(()=>[a(d,null,{default:t(()=>[a(I,{modelValue:e(s).gameMode,"onUpdate:modelValue":m[3]||(m[3]=o=>e(s).gameMode=o),inline:""},{prepend:t(()=>[n((b(),i(v,null,{default:t(()=>[f(g(e(l)("game.base.step1.gameMode.name")),1)]),_:1})),[[p,e(l)("game.base.step1.gameMode.tip")]])]),default:t(()=>[a(u,{label:e(l)("game.base.step1.gameMode.modes.endless"),value:"endless",class:"mr-4"},null,8,["label"]),a(u,{label:e(l)("game.base.step1.gameMode.modes.survival"),value:"survival",class:"mr-4"},null,8,["label"]),a(u,{label:e(l)("game.base.step1.gameMode.modes.relaxed"),value:"relaxed",class:"mr-4"},null,8,["label"]),a(u,{label:e(l)("game.base.step1.gameMode.modes.wilderness"),value:"wilderness",class:"mr-4"},null,8,["label"]),a(u,{label:e(l)("game.base.step1.gameMode.modes.lightsOut"),value:"lightsOut",class:"mr-4"},null,8,["label"]),a(u,{label:e(l)("game.base.step1.gameMode.modes.lavaarena"),value:"lavaarena",class:"mr-4"},null,8,["label"]),a(u,{label:e(l)("game.base.step1.gameMode.modes.quagmire"),value:"quagmire",class:"mr-4"},null,8,["label"]),a(u,{label:e(l)("game.base.step1.gameMode.modes.custom.name"),value:"custom",class:"mr-4"},null,8,["label"]),e(s).gameMode==="custom"?(b(),i(c,{key:0,modelValue:e(s).customGameMode,"onUpdate:modelValue":m[2]||(m[2]=o=>e(s).customGameMode=o),rules:e(x).customGameMode,label:e(l)("game.base.step1.gameMode.modes.custom.label")},null,8,["modelValue","rules","label"])):U("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(V,null,{default:t(()=>[a(d,null,{default:t(()=>[a(C,{modelValue:e(s).maxPlayer,"onUpdate:modelValue":m[4]||(m[4]=o=>e(s).maxPlayer=o),max:P.maxPlayers===0?64:P.maxPlayers,min:1,class:"align-center","hide-details":"",step:"1",style:{"margin-left":"-1px"}},{label:t(()=>[n((b(),i(v,{style:{"margin-right":"1rem"}},{default:t(()=>[f(g(e(l)("game.base.step1.maxPlayer.name")),1)]),_:1})),[[p,e(l)("game.base.step1.maxPlayer.tip")]])]),append:t(()=>[a(v,{label:"",color:"primary"},{default:t(()=>[f(g(e(s).maxPlayer),1)]),_:1})]),_:1},8,["modelValue","max"])]),_:1})]),_:1}),a(V,null,{default:t(()=>[a(d,{cols:e(y)?12:4},{default:t(()=>[a(I,{modelValue:e(s).pvp,"onUpdate:modelValue":m[5]||(m[5]=o=>e(s).pvp=o),inline:""},{prepend:t(()=>[n((b(),i(v,null,{default:t(()=>[f(g(e(l)("game.base.step1.pvp.name")),1)]),_:1})),[[p,e(l)("game.base.step1.pvp.tip")]])]),default:t(()=>[a(u,{label:e(l)("game.base.step1.pvp.enable"),value:!0,class:"mr-4"},null,8,["label"]),a(u,{label:e(l)("game.base.step1.pvp.disable"),value:!1,class:"mr-4"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["cols"]),a(d,{cols:e(y)?12:4},{default:t(()=>[a(I,{modelValue:e(s).vote,"onUpdate:modelValue":m[6]||(m[6]=o=>e(s).vote=o),inline:""},{prepend:t(()=>[n((b(),i(v,null,{default:t(()=>[f(g(e(l)("game.base.step1.vote.name")),1)]),_:1})),[[p,e(l)("game.base.step1.vote.tip")]])]),default:t(()=>[a(u,{label:e(l)("game.base.step1.vote.enable"),value:!0,class:"mr-4"},null,8,["label"]),a(u,{label:e(l)("game.base.step1.vote.disable"),value:!1,class:"mr-4"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["cols"]),a(d,{cols:e(y)?12:4},{default:t(()=>[a(I,{modelValue:e(s).pauseEmpty,"onUpdate:modelValue":m[7]||(m[7]=o=>e(s).pauseEmpty=o),inline:""},{prepend:t(()=>[n((b(),i(v,null,{default:t(()=>[f(g(e(l)("game.base.step1.pauseEmpty.name")),1)]),_:1})),[[p,e(l)("game.base.step1.pauseEmpty.tip")]])]),default:t(()=>[a(u,{label:e(l)("game.base.step1.pauseEmpty.enable"),value:!0,class:"mr-4"},null,8,["label"]),a(u,{label:e(l)("game.base.step1.pauseEmpty.disable"),value:!1,class:"mr-4"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["cols"])]),_:1}),a(V,null,{default:t(()=>[a(d,null,{default:t(()=>[a(C,{modelValue:e(s).maxRollBack,"onUpdate:modelValue":m[8]||(m[8]=o=>e(s).maxRollBack=o),max:64,min:1,class:"align-center","hide-details":"",step:"1",style:{"margin-left":"-1px"}},{label:t(()=>[n((b(),i(v,{style:{"margin-right":"1rem"}},{default:t(()=>[f(g(e(l)("game.base.step1.maxRollBack.name")),1)]),_:1})),[[p,e(l)("game.base.step1.maxRollBack.tip")]])]),append:t(()=>[a(v,{label:"",color:"primary"},{default:t(()=>[f(g(e(s).maxRollBack),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(V,null,{default:t(()=>[a(d,null,{default:t(()=>[n(a(c,{modelValue:e(s).password,"onUpdate:modelValue":m[9]||(m[9]=o=>e(s).password=o),label:e(l)("game.base.step1.password.name"),"append-inner-icon":e(M)?"ri-eye-off-line":"ri-eye-line",type:e(M)?"text":"password","onClick:appendInner":m[10]||(m[10]=o=>M.value=!e(M))},null,8,["modelValue","label","append-inner-icon","type"]),[[p,e(l)("game.base.step1.password.tip")]])]),_:1})]),_:1}),a(V,null,{default:t(()=>[a(d,{class:"fcc"},{default:t(()=>[n(a(c,{modelValue:e(s).token,"onUpdate:modelValue":m[11]||(m[11]=o=>e(s).token=o),rules:e(x).token,label:e(l)("game.base.step1.token.name"),"append-inner-icon":e(_)?"ri-eye-off-line":"ri-eye-line",type:e(_)?"text":"password",class:"w-100","onClick:appendInner":m[12]||(m[12]=o=>_.value=!e(_))},null,8,["modelValue","rules","label","append-inner-icon","type"]),[[p,e(l)("game.base.step1.token.tip")]]),e(y)?U("",!0):(b(),i(R,{key:0,density:"comfortable",variant:"text",class:"ml-4",color:"success","prepend-icon":"ri-add-line",onClick:K},{default:t(()=>[f(g(e(l)("game.base.step1.token.buttonAdd")),1)]),_:1})),e(y)?U("",!0):(b(),i(R,{key:1,density:"comfortable",variant:"text",class:"ml-4",color:"info",href:"https://accounts.klei.com",target:"_blank","prepend-icon":"ri-links-line"},{default:t(()=>[f(g(e(l)("game.base.step1.token.buttonUrl")),1)]),_:1}))]),_:1})]),_:1}),a(V,null,{default:t(()=>[a(d,{cols:e(y)?12:9,style:A(e(y)?{marginBottom:"1.25rem"}:{})},{default:t(()=>[n(a(c,{modelValue:e(s).masterIP,"onUpdate:modelValue":m[13]||(m[13]=o=>e(s).masterIP=o),rules:e(x).masterIP,label:e(l)("game.base.step1.masterIP.name")},null,8,["modelValue","rules","label"]),[[p,e(l)("game.base.step1.masterIP.tip")]])]),_:1},8,["cols","style"]),a(d,{cols:e(y)?12:3},{default:t(()=>[n(a($,{modelValue:e(s).masterPort,"onUpdate:modelValue":m[14]||(m[14]=o=>e(s).masterPort=o),rules:e(x).masterPort,label:e(l)("game.base.step1.masterPort.name"),min:1,max:65535,style:{"margin-bottom":"-1.25rem"}},null,8,["modelValue","rules","label"]),[[p,e(l)("game.base.step1.masterPort.tip")]])]),_:1},8,["cols"])]),_:1}),a(V,null,{default:t(()=>[a(d,null,{default:t(()=>[n(a(c,{modelValue:e(s).clusterKey,"onUpdate:modelValue":m[15]||(m[15]=o=>e(s).clusterKey=o),rules:e(x).clusterKey,label:e(l)("game.base.step1.clusterKey.name"),"append-inner-icon":e(w)?"ri-eye-off-line":"ri-eye-line",type:e(w)?"text":"password","onClick:appendInner":m[16]||(m[16]=o=>w.value=!e(w))},null,8,["modelValue","rules","label","append-inner-icon","type"]),[[p,e(l)("game.base.step1.clusterKey.tip")]])]),_:1})]),_:1})]),_:1},512))}},ne=q(j,[["__scopeId","data-v-0d8e7162"]]);export{ne as default};
