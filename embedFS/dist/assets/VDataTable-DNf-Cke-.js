import{bj as gt,bk as mt,K as T,ap as G,j as w,W as he,bl as Ce,aS as de,ao as W,a1 as z,J as U,a2 as ne,L as X,k as b,a as P,D as N,an as E,bm as vt,b8 as O,M as ae,h as L,b2 as Oe,bn as ht,bo as yt,aN as j,bp as bt,bq as _e,a6 as ge,a4 as C,br as le,bs as q,aY as pt,aE as xt,e as ye,a$ as St,F as K,bt as Pt,ax as be,aV as pe,P as Pe,n as wt,bu as kt,s as Be,v as we,bv as ee,q as te,t as It,bw as ce,av as me,at as J,l as Q,as as Dt,au as Ft}from"./index-CMKCSYdO.js";import{V as ke}from"./VPagination-Cc6OLUvh.js";import{V as Ee,a as xe}from"./VSelect-DXelBhLk.js";import{V as Tt}from"./VChip-Bk2gsPMH.js";import{V as Ie,m as Vt}from"./VTable-CnF6faJ0.js";import{V as Ct}from"./VDivider-Cxv4jZxD.js";function De(e,t,l){return Object.keys(e).filter(a=>gt(a)&&a.endsWith(t)).reduce((a,n)=>(a[n.slice(0,-t.length)]=r=>mt(e[n],r,l(r)),a),{})}const Ot=T({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Ae=Symbol.for("vuetify:data-table-pagination");function _t(e){const t=G(e,"page",void 0,a=>Number(a??1)),l=G(e,"itemsPerPage",void 0,a=>Number(a??10));return{page:t,itemsPerPage:l}}function Bt(e){const{page:t,itemsPerPage:l,itemsLength:a}=e,n=w(()=>l.value===-1?0:l.value*(t.value-1)),r=w(()=>l.value===-1?a.value:Math.min(a.value,n.value+l.value)),o=w(()=>l.value===-1||a.value===0?1:Math.ceil(a.value/l.value));he([t,o],()=>{t.value>o.value&&(t.value=o.value)});function i(c){l.value=c,t.value=1}function s(){t.value=de(t.value+1,1,o.value)}function u(){t.value=de(t.value-1,1,o.value)}function f(c){t.value=de(c,1,o.value)}const m={page:t,itemsPerPage:l,startIndex:n,stopIndex:r,pageCount:o,itemsLength:a,nextPage:s,prevPage:u,setPage:f,setItemsPerPage:i};return z(Ae,m),m}function Et(){const e=W(Ae);if(!e)throw new Error("Missing pagination!");return e}function At(e){const t=Ce("usePaginatedItems"),{items:l,startIndex:a,stopIndex:n,itemsPerPage:r}=e,o=w(()=>r.value<=0?l.value:l.value.slice(a.value,n.value));return he(o,i=>{t.emit("update:currentItems",i)},{immediate:!0}),{paginatedItems:o}}const Ne=T({prevIcon:{type:E,default:"$prev"},nextIcon:{type:E,default:"$next"},firstIcon:{type:E,default:"$first"},lastIcon:{type:E,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Fe=U()({name:"VDataTableFooter",props:Ne(),setup(e,t){let{slots:l}=t;const{t:a}=ne(),{page:n,pageCount:r,startIndex:o,stopIndex:i,itemsLength:s,itemsPerPage:u,setItemsPerPage:f}=Et(),m=w(()=>e.itemsPerPageOptions.map(c=>typeof c=="number"?{value:c,title:c===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(c)}:{...c,title:isNaN(Number(c.title))?a(c.title):c.title}));return X(()=>{const c=ke.filterProps(e);return b("div",{class:"v-data-table-footer"},[l.prepend?.(),b("div",{class:"v-data-table-footer__items-per-page"},[b("span",{"aria-label":a(e.itemsPerPageText)},[a(e.itemsPerPageText)]),P(Ee,{items:m.value,modelValue:u.value,"onUpdate:modelValue":g=>f(Number(g)),density:"compact",variant:"outlined",hideDetails:!0},null)]),b("div",{class:"v-data-table-footer__info"},[b("div",null,[a(e.pageText,s.value?o.value+1:0,i.value,s.value)])]),b("div",{class:"v-data-table-footer__pagination"},[P(ke,N({modelValue:n.value,"onUpdate:modelValue":g=>n.value=g,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},c),null)])])}),{}}}),Y=vt({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:l}=t;const a=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return P(a,{class:ae(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:O(e.height),width:O(e.width),maxWidth:O(e.maxWidth),left:n==="start"?O(e.fixedOffset||null):void 0,right:n==="end"?O(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?O(e.indent):void 0}},{default:()=>[l.default?.()]})}),Nt=T({headers:Array},"DataTable-header"),Me=Symbol.for("vuetify:data-table-headers"),Re={title:"",sortable:!1},Mt={...Re,width:48};function Rt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(l=>({element:l,priority:0}));return{enqueue:(l,a)=>{let n=!1;for(let r=0;r<t.length;r++)if(t[r].priority>a){t.splice(r,0,{element:l,priority:a}),n=!0;break}n||t.push({element:l,priority:a})},size:()=>t.length,count:()=>{let l=0;if(!t.length)return 0;const a=Math.floor(t[0].priority);for(let n=0;n<t.length;n++)Math.floor(t[n].priority)===a&&(l+=1);return l},dequeue:()=>t.shift()}}function ve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const l of e.children)ve(l,t);return t}function $e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const l of e)l.key&&t.add(l.key),l.children&&$e(l.children,t);return t}function $t(e){if(e.key){if(e.key==="data-table-group")return Re;if(["data-table-expand","data-table-select"].includes(e.key))return Mt}}function Se(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(l=>Se(l,t+1))):t}function Ht(e){let t=!1;function l(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(i!=="none"&&(r.fixed=i),r.fixed===!0&&(r.fixed="start"),r.fixed===o)if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)l(r.children[s],o,o);else for(let s=0;s<r.children.length;s++)l(r.children[s],o,o);else!t&&o==="start"?r.lastFixed=!0:!t&&o==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?yt(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),t=!0;else if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)l(r.children[s],o);else for(let s=0;s<r.children.length;s++)l(r.children[s],o);else t=!1}for(let r=e.length-1;r>=0;r--)l(e[r],"start");for(let r=0;r<e.length;r++)l(e[r],"end");let a=0;for(let r=0;r<e.length;r++)a=He(e[r],a);let n=0;for(let r=e.length-1;r>=0;r--)n=Le(e[r],n)}function He(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const l of e.children)t=He(l,t)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Le(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const l of e.children)t=Le(l,t)}else e.fixed==="end"&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Lt(e,t){const l=[];let a=0;const n=Rt(e);for(;n.size()>0;){let o=n.count();const i=[];let s=1;for(;o>0;){const{element:u,priority:f}=n.dequeue(),m=t-a-Se(u);if(i.push({...u,rowspan:m??1,colspan:u.children?ve(u).length:1}),u.children)for(const c of u.children){const g=f%1+s/Math.pow(10,a+2);n.enqueue(c,a+m+g)}s+=1,o-=1}a+=1,l.push(i)}return{columns:e.map(o=>ve(o)).flat(),headers:l}}function je(e){const t=[];for(const l of e){const a={...$t(l),...l},n=a.key??(typeof a.value=="string"?a.value:null),r=a.value??n??null,o={...a,key:n,value:r,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?je(a.children):void 0};t.push(o)}return t}function jt(e,t){const l=L([]),a=L([]),n=L({}),r=L({}),o=L({});Oe(()=>{const u=(e.headers||Object.keys(e.items[0]??{}).map(v=>({key:v,title:ht(v)}))).slice(),f=$e(u);t?.groupBy?.value.length&&!f.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),t?.showSelect?.value&&!f.has("data-table-select")&&u.unshift({key:"data-table-select"}),t?.showExpand?.value&&!f.has("data-table-expand")&&u.push({key:"data-table-expand"});const m=je(u);Ht(m);const c=Math.max(...m.map(v=>Se(v)))+1,g=Lt(m,c);l.value=g.headers,a.value=g.columns;const p=g.headers.flat(1);for(const v of p)v.key&&(v.sortable&&(v.sort&&(n.value[v.key]=v.sort),v.sortRaw&&(r.value[v.key]=v.sortRaw)),v.filter&&(o.value[v.key]=v.filter))});const i={headers:l,columns:a,sortFunctions:n,sortRawFunctions:r,filterFunctions:o};return z(Me,i),i}function re(){const e=W(Me);if(!e)throw new Error("Missing headers!");return e}const Gt={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:l}=e;return new Set(l?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},Ge={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,currentPage:l,selected:a}=e;return Ge.select({items:l,value:t,selected:a})}},Kt={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,allItems:l}=e;return new Set(t?l.map(a=>a.value):[])}},Wt=T({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:Function},"DataTable-select"),Ke=Symbol.for("vuetify:data-table-selection");function zt(e,t){let{allItems:l,currentPage:a}=t;const n=G(e,"modelValue",e.modelValue,h=>{const x=e.valueComparator;return x?new Set(j(h).map(k=>l.value.find(S=>x(k,S.value))?.value??k)):new Set(j(h).map(k=>bt(k)?l.value.find(S=>k===S.value)?.value??k:l.value.find(S=>_e(k,S.value))?.value??k))},h=>[...h.values()]),r=w(()=>l.value.filter(h=>h.selectable)),o=w(()=>a.value.filter(h=>h.selectable)),i=w(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Gt;case"all":return Kt;case"page":default:return Ge}}),s=ge(null);function u(h){return j(h).every(x=>n.value.has(x.value))}function f(h){return j(h).some(x=>n.value.has(x.value))}function m(h,x){const k=i.value.select({items:h,value:x,selected:new Set(n.value)});n.value=k}function c(h,x,k){const S=[];if(x=x??a.value.findIndex(_=>_.value===h.value),e.selectStrategy!=="single"&&k?.shiftKey&&s.value!==null){const[_,$]=[s.value,x].sort((A,I)=>A-I);S.push(...a.value.slice(_,$+1).filter(A=>A.selectable))}else S.push(h),s.value=x;m(S,!u([h]))}function g(h){const x=i.value.selectAll({value:h,allItems:r.value,currentPage:o.value,selected:new Set(n.value)});n.value=x}const p=w(()=>n.value.size>0),v=w(()=>{const h=i.value.allSelected({allItems:r.value,currentPage:o.value});return!!h.length&&u(h)}),d=C(()=>i.value.showSelectAll),D={toggleSelect:c,select:m,selectAll:g,isSelected:u,isSomeSelected:f,someSelected:p,allSelected:v,showSelectAll:d,lastSelectedIndex:s,selectStrategy:i};return z(Ke,D),D}function se(){const e=W(Ke);if(!e)throw new Error("Missing selection!");return e}const Ut=T({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),We=Symbol.for("vuetify:data-table-sort");function Qt(e){const t=G(e,"sortBy"),l=C(()=>e.mustSort),a=C(()=>e.multiSort);return{sortBy:t,mustSort:l,multiSort:a}}function Jt(e){const{sortBy:t,mustSort:l,multiSort:a,page:n}=e,r=s=>{if(s.key==null)return;let u=t.value.map(m=>({...m}))??[];const f=u.find(m=>m.key===s.key);f?f.order==="desc"?l.value&&u.length===1?f.order="asc":u=u.filter(m=>m.key!==s.key):f.order="desc":a.value?u.push({key:s.key,order:"asc"}):u=[{key:s.key,order:"asc"}],t.value=u,n&&(n.value=1)};function o(s){return!!t.value.find(u=>u.key===s.key)}const i={sortBy:t,toggleSort:r,isSorted:o};return z(We,i),i}function ze(){const e=W(We);if(!e)throw new Error("Missing sort!");return e}function Yt(e,t,l,a){const n=ne();return{sortedItems:w(()=>l.value.length?Xt(t.value,l.value,n.current.value,{transform:a?.transform,sortFunctions:{...e.customKeySort,...a?.sortFunctions?.value},sortRawFunctions:a?.sortRawFunctions?.value}):t.value)}}function Xt(e,t,l,a){const n=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,a?.transform?a.transform(o):o]).sort((o,i)=>{for(let s=0;s<t.length;s++){let u=!1;const f=t[s].key,m=t[s].order??"asc";if(m===!1)continue;let c=le(o[1],f),g=le(i[1],f),p=o[0].raw,v=i[0].raw;if(m==="desc"&&([c,g]=[g,c],[p,v]=[v,p]),a?.sortRawFunctions?.[f]){const d=a.sortRawFunctions[f](p,v);if(d==null)continue;if(u=!0,d)return d}if(a?.sortFunctions?.[f]){const d=a.sortFunctions[f](c,g);if(d==null)continue;if(u=!0,d)return d}if(!u&&(c instanceof Date&&g instanceof Date&&(c=c.getTime(),g=g.getTime()),[c,g]=[c,g].map(d=>d!=null?d.toString().toLocaleLowerCase():d),c!==g))return q(c)&&q(g)?0:q(c)?-1:q(g)?1:!isNaN(c)&&!isNaN(g)?Number(c)-Number(g):n.compare(c,g)}return 0}).map(o=>{let[i]=o;return i})}const Ue=T({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:E,default:"$sortAsc"},sortDescIcon:{type:E,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...pe(),...be(),...Pt()},"VDataTableHeaders"),Te=U()({name:"VDataTableHeaders",props:Ue(),setup(e,t){let{slots:l}=t;const{t:a}=ne(),{toggleSort:n,sortBy:r,isSorted:o}=ze(),{someSelected:i,allSelected:s,selectAll:u,showSelectAll:f}=se(),{columns:m,headers:c}=re(),{loaderClasses:g}=pt(e);function p(I,y){if(!(e.sticky||e.fixedHeader)&&!I.fixed)return;const F=typeof I.fixed=="string"?I.fixed:I.fixed?"start":"none";return{position:"sticky",left:F==="start"?O(I.fixedOffset):void 0,right:F==="end"?O(I.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${y})`:void 0}}function v(I,y){I.key==="Enter"&&!e.disableSort&&n(y)}function d(I){const y=r.value.find(F=>F.key===I.key);return y?y.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:D,backgroundColorStyles:h}=xt(()=>e.color),{displayClasses:x,mobile:k}=ye(e),S=w(()=>({headers:c.value,columns:m.value,toggleSort:n,isSorted:o,sortBy:r.value,someSelected:i.value,allSelected:s.value,selectAll:u,getSortIcon:d})),_=w(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},x.value,g.value]),$=I=>{let{column:y,x:F,y:V}=I;const oe=y.key==="data-table-select"||y.key==="data-table-expand",Z=y.key==="data-table-group"&&y.width===0&&!y.title,ue=N(e.headerProps??{},y.headerProps??{});return P(Y,N({tag:"th",align:y.align,class:[{"v-data-table__th--sortable":y.sortable&&!e.disableSort,"v-data-table__th--sorted":o(y),"v-data-table__th--fixed":y.fixed},..._.value],style:{width:O(y.width),minWidth:O(y.minWidth),maxWidth:O(y.maxWidth),...p(y,V)},colspan:y.colspan,rowspan:y.rowspan,fixed:y.fixed,nowrap:y.nowrap,lastFixed:y.lastFixed,firstFixedEnd:y.firstFixedEnd,noPadding:oe,empty:Z,tabindex:y.sortable?0:void 0,onClick:y.sortable?()=>n(y):void 0,onKeydown:y.sortable?M=>v(M,y):void 0},ue),{default:()=>{const M=`header.${y.key}`,H={column:y,selectAll:u,isSorted:o,toggleSort:n,sortBy:r.value,someSelected:i.value,allSelected:s.value,getSortIcon:d};return l[M]?l[M](H):Z?"":y.key==="data-table-select"?l["header.data-table-select"]?.(H)??(f.value&&P(xe,{density:e.density,modelValue:s.value,indeterminate:i.value&&!s.value,"onUpdate:modelValue":u},null)):b("div",{class:"v-data-table-header__content"},[b("span",null,[y.title]),y.sortable&&!e.disableSort&&P(Pe,{key:"icon",class:"v-data-table-header__sort-icon",icon:d(y)},null),e.multiSort&&o(y)&&b("div",{key:"badge",class:ae(["v-data-table-header__sort-badge",...D.value]),style:wt(h.value)},[r.value.findIndex(ie=>ie.key===y.key)+1])])}})},A=()=>{const I=w(()=>m.value.filter(F=>F?.sortable&&!e.disableSort)),y=w(()=>{if(m.value.find(V=>V.key==="data-table-select")!=null)return s.value?"$checkboxOn":i.value?"$checkboxIndeterminate":"$checkboxOff"});return P(Y,N({tag:"th",class:[..._.value],colspan:c.value.length+1},e.headerProps),{default:()=>[b("div",{class:"v-data-table-header__content"},[P(Ee,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:I.value,label:a("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:y.value,"onClick:append":()=>u(!s.value)},{chip:F=>P(Tt,{onClick:F.item.raw?.sortable?()=>n(F.item.raw):void 0,onMousedown:V=>{V.preventDefault(),V.stopPropagation()}},{default:()=>[F.item.title,P(Pe,{class:ae(["v-data-table__td-sort-icon",o(F.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:d(F.item.raw),size:"small"},null)]})})])]})};X(()=>k.value?b("tr",null,[P(A,null,null)]):b(K,null,[l.headers?l.headers(S.value):c.value.map((I,y)=>b("tr",null,[I.map((F,V)=>P($,{column:F,x:V,y},null))])),e.loading&&b("tr",{class:"v-data-table-progress"},[b("th",{colspan:m.value.length},[P(St,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),Zt=T({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Qe=Symbol.for("vuetify:data-table-group");function qt(e){return{groupBy:G(e,"groupBy")}}function ea(e){const{disableSort:t,groupBy:l,sortBy:a}=e,n=L(new Set),r=w(()=>l.value.map(f=>({...f,order:f.order??!1})).concat(t?.value?[]:a.value));function o(f){return n.value.has(f.id)}function i(f){const m=new Set(n.value);o(f)?m.delete(f.id):m.add(f.id),n.value=m}function s(f){function m(c){const g=[];for(const p of c.items)"type"in p&&p.type==="group"?g.push(...m(p)):g.push(p);return[...new Set(g)]}return m({items:f})}const u={sortByWithGroups:r,toggleGroup:i,opened:n,groupBy:l,extractRows:s,isGroupOpen:o};return z(Qe,u),u}function Je(){const e=W(Qe);if(!e)throw new Error("Missing group!");return e}function ta(e,t){if(!e.length)return[];const l=new Map;for(const a of e){const n=le(a.raw,t);l.has(n)||l.set(n,[]),l.get(n).push(a)}return l}function Ye(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const n=ta(e,t[0]),r=[],o=t.slice(1);return n.forEach((i,s)=>{const u=t[0],f=`${a}_${u}_${s}`;r.push({depth:l,id:f,key:u,value:s,items:o.length?Ye(i,o,l+1,f):i,type:"group"})}),r}function Xe(e,t,l){const a=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&a.push(n),(t.has(n.id)||n.value==null)&&(a.push(...Xe(n.items,t,l)),l&&a.push({...n,type:"group-summary"}))):a.push(n);return a}function aa(e,t,l,a){return{flatItems:w(()=>{if(!t.value.length)return e.value;const r=Ye(e.value,t.value.map(o=>o.key));return Xe(r,l.value,kt(a))})}}const Ze=T({item:{type:Object,required:!0},groupCollapseIcon:{type:E,default:"$tableGroupCollapse"},groupExpandIcon:{type:E,default:"$tableGroupExpand"},...pe()},"VDataTableGroupHeaderRow"),la=U()({name:"VDataTableGroupHeaderRow",props:Ze(),setup(e,t){let{slots:l}=t;const{isGroupOpen:a,toggleGroup:n,extractRows:r}=Je(),{isSelected:o,isSomeSelected:i,select:s}=se(),{columns:u}=re(),f=w(()=>r([e.item])),m=C(()=>u.value.length-(u.value.some(c=>c.key==="data-table-select")?1:0));return()=>b("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(c=>{if(c.key==="data-table-group"){const g=a(e.item)?e.groupCollapseIcon:e.groupExpandIcon,p=()=>n(e.item);return l["data-table-group"]?.({item:e.item,count:f.value.length,props:{icon:g,onClick:p}})??P(Y,{class:"v-data-table-group-header-row__column",colspan:m.value},{default:()=>[P(Be,{size:"small",variant:"text",icon:g,onClick:p},null),b("span",null,[e.item.value]),b("span",null,[we("("),f.value.length,we(")")])]})}else if(c.key==="data-table-select"){const g=o(f.value),p=i(f.value)&&!g,v=d=>s(f.value,d);return l["data-table-select"]?.({props:{modelValue:g,indeterminate:p,"onUpdate:modelValue":v}})??P(Y,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[P(xe,{density:e.density,modelValue:g,indeterminate:p,"onUpdate:modelValue":v},null)]})}return""})])}}),na=T({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),qe=Symbol.for("vuetify:datatable:expanded");function ra(e){const t=C(()=>e.expandOnClick),l=G(e,"expanded",e.expanded,i=>new Set(i),i=>[...i.values()]);function a(i,s){const u=new Set(l.value),f=ee(i.value);if(s)u.add(f);else{const m=[...l.value].find(c=>ee(c)===f);u.delete(m)}l.value=u}function n(i){const s=ee(i.value);return[...l.value].some(u=>ee(u)===s)}function r(i){a(i,!n(i))}const o={expand:a,expanded:l,expandOnClick:t,isExpanded:n,toggleExpand:r};return z(qe,o),o}function et(){const e=W(qe);if(!e)throw new Error("foo");return e}const tt=T({index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:E,default:"$collapse"},expandIcon:{type:E,default:"$expand"},onClick:ce(),onContextmenu:ce(),onDblclick:ce(),...pe(),...be()},"VDataTableRow"),sa=U()({name:"VDataTableRow",props:tt(),setup(e,t){let{slots:l}=t;const{displayClasses:a,mobile:n}=ye(e,"v-data-table__tr"),{isSelected:r,toggleSelect:o,someSelected:i,allSelected:s,selectAll:u}=se(),{isExpanded:f,toggleExpand:m}=et(),{toggleSort:c,sortBy:g,isSorted:p}=ze(),{columns:v}=re();X(()=>b("tr",{class:ae(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},a.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&v.value.map((d,D)=>{const h=e.item,x=`item.${d.key}`,k=`header.${d.key}`,S={index:e.index,item:h.raw,internalItem:h,value:le(h.columns,d.key),column:d,isSelected:r,toggleSelect:o,isExpanded:f,toggleExpand:m},_={column:d,selectAll:u,isSorted:p,toggleSort:c,sortBy:g.value,someSelected:i.value,allSelected:s.value,getSortIcon:()=>""},$=typeof e.cellProps=="function"?e.cellProps({index:S.index,item:S.item,internalItem:S.internalItem,value:S.value,column:d}):e.cellProps,A=typeof d.cellProps=="function"?d.cellProps({index:S.index,item:S.item,internalItem:S.internalItem,value:S.value}):d.cellProps,I=d.key==="data-table-select"||d.key==="data-table-expand",y=d.key==="data-table-group"&&d.width===0&&!d.title;return P(Y,N({align:d.align,indent:d.intent,class:{"v-data-table__td--expanded-row":d.key==="data-table-expand","v-data-table__td--select-row":d.key==="data-table-select"},fixed:d.fixed,fixedOffset:d.fixedOffset,fixedEndOffset:d.fixedEndOffset,lastFixed:d.lastFixed,firstFixedEnd:d.firstFixedEnd,maxWidth:n.value?void 0:d.maxWidth,noPadding:I,empty:y,nowrap:d.nowrap,width:n.value?void 0:d.width},$,A),{default:()=>{if(d.key==="data-table-select")return l["item.data-table-select"]?.({...S,props:{disabled:!h.selectable,modelValue:r([h]),onClick:te(()=>o(h),["stop"])}})??P(xe,{disabled:!h.selectable,density:e.density,modelValue:r([h]),onClick:te(V=>o(h,e.index,V),["stop"])},null);if(d.key==="data-table-expand")return l["item.data-table-expand"]?.({...S,props:{icon:f(h)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:te(()=>m(h),["stop"])}})??P(Be,{icon:f(h)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:te(()=>m(h),["stop"])},null);if(l[x]&&!n.value)return l[x](S);const F=It(S.value);return n.value?b(K,null,[b("div",{class:"v-data-table__td-title"},[l[k]?.(_)??d.title]),b("div",{class:"v-data-table__td-value"},[l[x]?.(S)??F])]):F}})})]))}}),at=T({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...me(tt(),["collapseIcon","expandIcon","density"]),...me(Ze(),["groupCollapseIcon","groupExpandIcon","density"]),...be()},"VDataTableRows"),Ve=U()({name:"VDataTableRows",inheritAttrs:!1,props:at(),setup(e,t){let{attrs:l,slots:a}=t;const{columns:n}=re(),{expandOnClick:r,toggleExpand:o,isExpanded:i}=et(),{isSelected:s,toggleSelect:u}=se(),{toggleGroup:f,isGroupOpen:m}=Je(),{t:c}=ne(),{mobile:g}=ye(e);return X(()=>{const p=me(e,["groupCollapseIcon","groupExpandIcon","density"]);return e.loading&&(!e.items.length||a.loading)?b("tr",{class:"v-data-table-rows-loading",key:"loading"},[b("td",{colspan:n.value.length},[a.loading?.()??c(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?b("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[b("td",{colspan:n.value.length},[a["no-data"]?.()??c(e.noDataText)])]):b(K,null,[e.items.map((v,d)=>{if(v.type==="group"){const x={index:d,item:v,columns:n.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:u,toggleGroup:f,isGroupOpen:m};return a["group-header"]?a["group-header"](x):P(la,N({key:`group-header_${v.id}`,item:v},De(l,":groupHeader",()=>x),p),a)}if(v.type==="group-summary"){const x={index:d,item:v,columns:n.value,toggleGroup:f};return a["group-summary"]?.(x)??""}const D={index:d,item:v.raw,internalItem:v,columns:n.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:u},h={...D,props:N({key:`item_${v.key??v.index}`,onClick:r.value?()=>{o(v)}:void 0,index:d,item:v,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,density:e.density,mobile:g.value},De(l,":row",()=>D),typeof e.rowProps=="function"?e.rowProps({item:D.item,index:D.index,internalItem:D.internalItem}):e.rowProps)};return b(K,{key:h.props.key},[a.item?a.item(h):P(sa,h.props,a),i(v)&&a["expanded-row"]?.(D)])})])}),{}}}),oa=T({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function ua(e,t,l,a){const n=e.returnObject?t:J(t,e.itemValue),r=J(t,e.itemSelectable,!0),o=a.reduce((i,s)=>(s.key!=null&&(i[s.key]=J(t,s.value)),i),{});return{type:"item",key:e.returnObject?J(t,e.itemValue):n,index:l,value:n,selectable:r,columns:o,raw:t}}function ia(e,t,l){return t.map((a,n)=>ua(e,a,n,l))}function da(e,t){return{items:w(()=>ia(e,e.items,t.value))}}function ca(e){let{page:t,itemsPerPage:l,sortBy:a,groupBy:n,search:r}=e;const o=Ce("VDataTable"),i=()=>({page:t.value,itemsPerPage:l.value,sortBy:a.value,groupBy:n.value,search:r.value});let s=null;he(i,u=>{_e(s,u)||(s&&s.search!==u.search&&(t.value=1),o.emit("update:options",u),s=u)},{deep:!0,immediate:!0})}const fa=(e,t,l)=>{if(e==null||t==null)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const a=[];let n=e.indexOf(t);for(;~n;)a.push([n,n+t.length]),n=e.indexOf(t,n+t.length);return a.length?a:-1};function fe(e,t){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const ga=T({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function ma(e,t,l){const a=[],n=l?.default??fa,r=l?.filterKeys?j(l.filterKeys):!1,o=Object.keys(l?.customKeyFilter??{}).length;if(!e?.length)return a;let i=null;e:for(let s=0;s<e.length;s++){const[u,f=u]=j(e[s]),m={},c={};let g=-1;if((t||o>0)&&!l?.noFilter){let p=!1;if(typeof u=="object"){if(u.type==="divider"||u.type==="subheader"){i?.type==="divider"&&u.type==="subheader"&&a.push(i),i={index:s,matches:{},type:u.type};continue}const D=r||Object.keys(f);p=D.length===o;for(const h of D){const x=J(f,h),k=l?.customKeyFilter?.[h];if(g=k?k(x,t,u):n(x,t,u),g!==-1&&g!==!1)k?m[h]=fe(g,t):c[h]=fe(g,t);else if(l?.filterMode==="every")continue e}}else g=n(u,t,u),g!==-1&&g!==!1&&(c.title=fe(g,t));const v=Object.keys(c).length,d=Object.keys(m).length;if(!v&&!d||l?.filterMode==="union"&&d!==o&&!v||l?.filterMode==="intersection"&&(d!==o||!v&&o>0&&!p))continue}i&&(a.push(i),i=null),a.push({index:s,matches:{...c,...m}})}return a}function va(e,t,l,a){const n=ge([]),r=ge(new Map),o=w(()=>a?.transform?Q(t).map(s=>[s,a.transform(s)]):Q(t));Oe(()=>{const s=typeof l=="function"?l():Q(l),u=typeof s!="string"&&typeof s!="number"?"":String(s),f=ma(o.value,u,{customKeyFilter:{...e.customKeyFilter,...Q(a?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),m=Q(t),c=[],g=new Map;f.forEach(p=>{let{index:v,matches:d}=p;const D=m[v];c.push(D),g.set(D.value,d)}),n.value=c,r.value=g});function i(s){return r.value.get(s.value)}return{filteredItems:n,filteredMatches:r,getMatches:i}}const ha=T({...at(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...na(),...Zt(),...Nt(),...oa(),...Wt(),...Ut(),...Ue(),...Vt()},"DataTable"),ya=T({...Ot(),...ha(),...ga(),...Ne()},"VDataTable"),ka=U()({name:"VDataTable",props:ya(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:l,slots:a}=t;const{groupBy:n}=qt(e),{sortBy:r,multiSort:o,mustSort:i}=Qt(e),{page:s,itemsPerPage:u}=_t(e),{disableSort:f}=Dt(e),{columns:m,headers:c,sortFunctions:g,sortRawFunctions:p,filterFunctions:v}=jt(e,{groupBy:n,showSelect:C(()=>e.showSelect),showExpand:C(()=>e.showExpand)}),{items:d}=da(e,m),D=C(()=>e.search),{filteredItems:h}=va(e,d,D,{transform:R=>R.columns,customKeyFilter:v}),{toggleSort:x}=Jt({sortBy:r,multiSort:o,mustSort:i,page:s}),{sortByWithGroups:k,opened:S,extractRows:_,isGroupOpen:$,toggleGroup:A}=ea({groupBy:n,sortBy:r,disableSort:f}),{sortedItems:I}=Yt(e,h,k,{transform:R=>({...R.raw,...R.columns}),sortFunctions:g,sortRawFunctions:p}),{flatItems:y}=aa(I,n,S,()=>!!a["group-summary"]),F=w(()=>y.value.length),{startIndex:V,stopIndex:oe,pageCount:Z,setItemsPerPage:ue}=Bt({page:s,itemsPerPage:u,itemsLength:F}),{paginatedItems:M}=At({items:y,startIndex:V,stopIndex:oe,itemsPerPage:u}),H=w(()=>_(M.value)),{isSelected:ie,select:lt,selectAll:nt,toggleSelect:rt,someSelected:st,allSelected:ot}=zt(e,{allItems:d,currentPage:H}),{isExpanded:ut,toggleExpand:it}=ra(e);ca({page:s,itemsPerPage:u,sortBy:r,groupBy:n,search:D}),Ft({VDataTableRows:{hideNoData:C(()=>e.hideNoData),noDataText:C(()=>e.noDataText),loading:C(()=>e.loading),loadingText:C(()=>e.loadingText)}});const B=w(()=>({page:s.value,itemsPerPage:u.value,sortBy:r.value,pageCount:Z.value,toggleSort:x,setItemsPerPage:ue,someSelected:st.value,allSelected:ot.value,isSelected:ie,select:lt,selectAll:nt,toggleSelect:rt,isExpanded:ut,toggleExpand:it,isGroupOpen:$,toggleGroup:A,items:H.value.map(R=>R.raw),internalItems:H.value,groupedItems:M.value,columns:m.value,headers:c.value}));return X(()=>{const R=Fe.filterProps(e),dt=Te.filterProps(e),ct=Ve.filterProps(e),ft=Ie.filterProps(e);return P(Ie,N({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ft,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(B.value),default:()=>a.default?a.default(B.value):b(K,null,[a.colgroup?.(B.value),!e.hideDefaultHeader&&b("thead",{key:"thead"},[P(Te,dt,a)]),a.thead?.(B.value),!e.hideDefaultBody&&b("tbody",null,[a["body.prepend"]?.(B.value),a.body?a.body(B.value):P(Ve,N(l,ct,{items:M.value}),a),a["body.append"]?.(B.value)]),a.tbody?.(B.value),a.tfoot?.(B.value)]),bottom:()=>a.bottom?a.bottom(B.value):!e.hideDefaultFooter&&b(K,null,[P(Ct,null,null),P(Fe,R,{prepend:a["footer.prepend"]})])})}),{}}});export{ka as V,Qt as a,_t as b,qt as c,jt as d,Bt as e,aa as f,zt as g,ra as h,ca as i,Jt as j,Fe as k,Te as l,Ve as m,Ne as n,ha as o,ea as p,Ot as q,da as u};
