import{f as N,h as T,b as j,e as q,y as i,o as n,w as l,a,l as e,x as u,k as c,t as g,c as I,F as L,v as M,p as O,q as $,B as A}from"./index-y7gjWuPm.js";import{V}from"./VAlert-CvkfT0jV.js";import{V as b}from"./VRow-DSxK_lZ_.js";import{V as p}from"./VCol-umKj9uol.js";import{V as v,a as m}from"./VRadioGroup-BCN_Kltz.js";import{T as d}from"./index-DsZHk2_O.js";import{V as f}from"./VSpacer-Mg5KYyj9.js";import{V as _}from"./VTextField-uMFdyion.js";import{V as C}from"./VMenu-DsEiLSfo.js";import{V as U}from"./VTimePicker-DvCD9Cto.js";import{V as w}from"./VNumberInput-CGuiiiie.js";import{V as E}from"./VForm-JEVD2o8Q.js";/* empty css              */import"./VSelectionControl-BnRoO89R.js";import"./VInput-MzIIapS-.js";import"./index-MCHUliHX.js";import"./VTooltip-C69kia46.js";import"./dialog-transition-BlTEFOz9.js";const G={class:"fcc h-100"},J={style:{width:"30px"}},P={style:{width:"55px"}},ue={__name:"roomSetting",props:{roomSetting:{type:Object,default:()=>({})}},setup(B,{expose:F}){const R=B;N(()=>{Object.keys(R.roomSetting).length!==0&&(s.value=R.roomSetting)});const{t}=j(),{mobile:S}=q(),x=T(),s=T({backup:{enable:!0,setting:[{time:"06:00:00"}]},backupClean:{enable:!1,setting:30},restart:{enable:!1,setting:"06:30:00"},keepalive:{enable:!1,setting:30},scheduledStartStop:{enable:!1,setting:{start:"07:00:00",stop:"01:00:00"}},tickRate:15,startType:"32-bit"}),h=T({backupClean:[k=>k?!0:t("game.base.step4.form.backupClean.required")],keepalive:[k=>k?!0:t("game.base.step4.form.keepalive.required")]}),D=k=>{if(s.value.backup.setting.length===1){A(t("game.base.step4.form.backup.deleteBlock"),"error");return}s.value.backup.setting=s.value.backup.setting.filter(o=>o.time!==k)};return F({validate:async()=>{const k={validate:!1,formData:{}},{valid:o}=await x.value.validate();return o?{validate:!0,formData:s.value}:k}}),(k,o)=>(n(),i(E,{ref_key:"roomSettingFormRef",ref:x,class:"mt-4","fast-fail":""},{default:l(()=>[a(V,{color:"primary",title:e(t)("game.base.step4.form.backup.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(b,{class:"mt-0"},{default:l(()=>[a(p,null,{default:l(()=>[u((n(),i(v,{modelValue:e(s).backup.enable,"onUpdate:modelValue":o[0]||(o[0]=r=>e(s).backup.enable=r),inline:"",color:"primary",class:"mt-2"},{prepend:l(()=>[c("span",null,g(e(t)("game.base.step4.form.backup.name")),1)]),default:l(()=>[a(m,{label:e(t)("game.base.step4.form.backup.enable"),value:!0},null,8,["label"]),a(m,{label:e(t)("game.base.step4.form.backup.disable"),value:!1},null,8,["label"])]),_:1},8,["modelValue"])),[[d,e(t)("game.base.step4.form.backup.tip.name")]])]),_:1}),a(f)]),_:1}),a(b,{class:"mt-0"},{default:l(()=>[(n(!0),I(L,null,M(e(s).backup.setting,r=>(n(),i(p,{cols:e(S)?10:3},{default:l(()=>[u((n(),i(_,{modelValue:r.time,"onUpdate:modelValue":y=>r.time=y,disabled:!e(s).backup.enable,"append-icon":"ri-close-line",label:e(t)("game.base.step4.form.backup.time"),"onClick:append":y=>D(r.time)},{default:l(()=>[a(C,{"close-on-content-click":!1,activator:"parent"},{default:l(()=>[a(U,{modelValue:r.time,"onUpdate:modelValue":y=>r.time=y,"use-seconds":"",format:"24hr"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","label","onClick:append"])),[[d,e(t)("game.base.step4.form.backup.tip.time")]])]),_:2},1032,["cols"]))),256)),a(p,{cols:1},{default:l(()=>[c("div",G,[a(O,{variant:"text",color:"primary",disabled:!e(s).backup.enable,density:"comfortable","prepend-icon":"ri-add-line",onClick:o[1]||(o[1]=r=>e(s).backup.setting.push({time:"00:00:00"}))},{default:l(()=>[$(g(e(t)("game.base.step4.form.backup.add")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),a(V,{color:"primary",title:e(t)("game.base.step4.form.backupClean.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(b,{class:"mt-0"},{default:l(()=>[a(p,null,{default:l(()=>[u((n(),i(v,{modelValue:e(s).backupClean.enable,"onUpdate:modelValue":o[2]||(o[2]=r=>e(s).backupClean.enable=r),inline:"",color:"primary",class:"mt-2"},{prepend:l(()=>[c("span",null,g(e(t)("game.base.step4.form.backupClean.name")),1)]),default:l(()=>[a(m,{label:e(t)("game.base.step4.form.backupClean.enable"),value:!0},null,8,["label"]),a(m,{label:e(t)("game.base.step4.form.backupClean.disable"),value:!1},null,8,["label"])]),_:1},8,["modelValue"])),[[d,e(t)("game.base.step4.form.backupClean.tip.name")]])]),_:1}),a(f)]),_:1}),a(b,{class:"mt-0"},{default:l(()=>[a(p,{cols:e(S)?12:4},{default:l(()=>[u((n(),i(w,{modelValue:e(s).backupClean.setting,"onUpdate:modelValue":o[3]||(o[3]=r=>e(s).backupClean.setting=r),rules:e(h).backupClean,disabled:!e(s).backupClean.enable,label:e(t)("game.base.step4.form.backupClean.days"),min:1,style:{"margin-bottom":"-1.25rem"}},{"append-inner":l(()=>[c("div",J,g(e(t)("game.base.step4.form.backupClean.unit")),1)]),_:1},8,["modelValue","rules","disabled","label"])),[[d,e(t)("game.base.step4.form.backupClean.tip.days")]])]),_:1},8,["cols"]),a(f)]),_:1}),a(V,{color:"primary",title:e(t)("game.base.step4.form.restart.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(b,{class:"mt-0"},{default:l(()=>[a(p,null,{default:l(()=>[u((n(),i(v,{modelValue:e(s).restart.enable,"onUpdate:modelValue":o[4]||(o[4]=r=>e(s).restart.enable=r),inline:"",color:"primary",class:"mt-2"},{prepend:l(()=>[c("span",null,g(e(t)("game.base.step4.form.restart.name")),1)]),default:l(()=>[a(m,{label:e(t)("game.base.step4.form.restart.enable"),value:!0},null,8,["label"]),a(m,{label:e(t)("game.base.step4.form.restart.disable"),value:!1},null,8,["label"])]),_:1},8,["modelValue"])),[[d,e(t)("game.base.step4.form.restart.tip.name")]])]),_:1}),a(f)]),_:1}),a(b,{class:"mt-0"},{default:l(()=>[a(p,{cols:e(S)?12:4},{default:l(()=>[u((n(),i(_,{modelValue:e(s).restart.setting,"onUpdate:modelValue":o[6]||(o[6]=r=>e(s).restart.setting=r),disabled:!e(s).restart.enable,label:e(t)("game.base.step4.form.backup.time")},{default:l(()=>[a(C,{"close-on-content-click":!1,activator:"parent"},{default:l(()=>[a(U,{modelValue:e(s).restart.setting,"onUpdate:modelValue":o[5]||(o[5]=r=>e(s).restart.setting=r),"use-seconds":"",format:"24hr"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","disabled","label"])),[[d,e(t)("game.base.step4.form.restart.tip.time")]])]),_:1},8,["cols"]),a(f)]),_:1}),a(V,{color:"primary",title:e(t)("game.base.step4.form.keepalive.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(b,{class:"mt-0"},{default:l(()=>[a(p,null,{default:l(()=>[u((n(),i(v,{modelValue:e(s).keepalive.enable,"onUpdate:modelValue":o[7]||(o[7]=r=>e(s).keepalive.enable=r),inline:"",color:"primary",class:"mt-2"},{prepend:l(()=>[c("span",null,g(e(t)("game.base.step4.form.keepalive.name")),1)]),default:l(()=>[a(m,{label:e(t)("game.base.step4.form.keepalive.enable"),value:!0},null,8,["label"]),a(m,{label:e(t)("game.base.step4.form.keepalive.disable"),value:!1},null,8,["label"])]),_:1},8,["modelValue"])),[[d,e(t)("game.base.step4.form.restart.tip.name")]])]),_:1}),a(f)]),_:1}),a(b,{class:"mt-0"},{default:l(()=>[a(p,{cols:e(S)?12:4},{default:l(()=>[u((n(),i(w,{modelValue:e(s).keepalive.setting,"onUpdate:modelValue":o[8]||(o[8]=r=>e(s).keepalive.setting=r),rules:e(h).keepalive,disabled:!e(s).keepalive.enable,label:e(t)("game.base.step4.form.keepalive.interval"),min:1,style:{"margin-bottom":"-1.25rem"}},{"append-inner":l(()=>[c("div",P,g(e(t)("game.base.step4.form.keepalive.unit")),1)]),_:1},8,["modelValue","rules","disabled","label"])),[[d,e(t)("game.base.step4.form.keepalive.tip.interval")]])]),_:1},8,["cols"]),a(f)]),_:1}),a(V,{color:"primary",title:e(t)("game.base.step4.form.scheduledStartStop.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(b,{class:"mt-0"},{default:l(()=>[a(p,null,{default:l(()=>[u((n(),i(v,{modelValue:e(s).scheduledStartStop.enable,"onUpdate:modelValue":o[9]||(o[9]=r=>e(s).scheduledStartStop.enable=r),inline:"",color:"primary",class:"mt-2"},{prepend:l(()=>[c("span",null,g(e(t)("game.base.step4.form.scheduledStartStop.name")),1)]),default:l(()=>[a(m,{label:e(t)("game.base.step4.form.scheduledStartStop.enable"),value:!0},null,8,["label"]),a(m,{label:e(t)("game.base.step4.form.scheduledStartStop.disable"),value:!1},null,8,["label"])]),_:1},8,["modelValue"])),[[d,e(t)("game.base.step4.form.scheduledStartStop.tip.name")]])]),_:1}),a(f)]),_:1}),a(b,{class:"mt-0"},{default:l(()=>[a(p,{cols:e(S)?12:4},{default:l(()=>[u((n(),i(_,{modelValue:e(s).scheduledStartStop.setting.start,"onUpdate:modelValue":o[11]||(o[11]=r=>e(s).scheduledStartStop.setting.start=r),disabled:!e(s).scheduledStartStop.enable,label:e(t)("game.base.step4.form.scheduledStartStop.time.start")},{default:l(()=>[a(C,{"close-on-content-click":!1,activator:"parent"},{default:l(()=>[a(U,{modelValue:e(s).scheduledStartStop.setting.start,"onUpdate:modelValue":o[10]||(o[10]=r=>e(s).scheduledStartStop.setting.start=r),"use-seconds":"",format:"24hr"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","disabled","label"])),[[d,e(t)("game.base.step4.form.scheduledStartStop.tip.start")]])]),_:1},8,["cols"]),a(p,{cols:e(S)?12:4},{default:l(()=>[u((n(),i(_,{modelValue:e(s).scheduledStartStop.setting.stop,"onUpdate:modelValue":o[13]||(o[13]=r=>e(s).scheduledStartStop.setting.stop=r),disabled:!e(s).scheduledStartStop.enable,label:e(t)("game.base.step4.form.scheduledStartStop.time.stop")},{default:l(()=>[a(C,{"close-on-content-click":!1,activator:"parent"},{default:l(()=>[a(U,{modelValue:e(s).scheduledStartStop.setting.stop,"onUpdate:modelValue":o[12]||(o[12]=r=>e(s).scheduledStartStop.setting.stop=r),"use-seconds":"",format:"24hr"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","disabled","label"])),[[d,e(t)("game.base.step4.form.scheduledStartStop.tip.stop")]])]),_:1},8,["cols"]),a(f)]),_:1}),a(V,{color:"primary",title:e(t)("game.base.step4.form.tickRate.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(b,{class:"mt-0"},{default:l(()=>[a(p,null,{default:l(()=>[u((n(),i(v,{modelValue:e(s).tickRate,"onUpdate:modelValue":o[14]||(o[14]=r=>e(s).tickRate=r),inline:"",color:"primary",class:"mt-2"},{prepend:l(()=>[c("span",null,g(e(t)("game.base.step4.form.tickRate.name")),1)]),default:l(()=>[a(m,{label:"15",value:15,class:"mr-4"}),a(m,{label:"30",value:30,class:"mr-4"}),a(m,{label:"45",value:45,class:"mr-4"}),a(m,{label:"60",value:60,class:"mr-4"})]),_:1},8,["modelValue"])),[[d,e(t)("game.base.step4.form.tickRate.tip")]])]),_:1}),a(f)]),_:1}),a(V,{color:"primary",title:e(t)("game.base.step4.form.startType.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(b,{class:"mt-0"},{default:l(()=>[a(p,null,{default:l(()=>[u((n(),i(v,{modelValue:e(s).startType,"onUpdate:modelValue":o[15]||(o[15]=r=>e(s).startType=r),inline:"",color:"primary",class:"mt-2"},{prepend:l(()=>[c("span",null,g(e(t)("game.base.step4.form.startType.name")),1)]),default:l(()=>[a(m,{label:e(t)("game.base.step4.form.startType.32-bit"),value:"32-bit"},null,8,["label"]),a(m,{label:e(t)("game.base.step4.form.startType.64-bit"),value:"64-bit"},null,8,["label"]),a(m,{label:"LuaJIT",value:"luajit"})]),_:1},8,["modelValue"])),[[d,e(t)("game.base.step4.form.startType.tip")]])]),_:1}),a(f)]),_:1})]),_:1},512))}};export{ue as default};
