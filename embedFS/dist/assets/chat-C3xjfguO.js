import x from"./log-BlEttoQu.js";import{g as b,h as r,f as y,a3 as I,N as L,y as M,o as B,w as o,a as t,k as u,s as g,l as m,q as w,p as N}from"./index-CBjUexYG.js";import{l as R}from"./logs-Cl1JhOP1.js";import{c as k,a as q,V as H}from"./VCard-Dcae7csx.js";import{V as S}from"./VSwitch-DjpuNuAg.js";import{V as T}from"./VChip-IzQUOK91.js";import{V as z}from"./VRow-Bj3h_q5V.js";import{V as E}from"./VSpacer-BHp0DjOQ.js";import{V as U}from"./VCol-B45jb4cO.js";import{V as D}from"./VNumberInput-BWm29x0J.js";import"./axios-KbiksPFU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-Cyt7-BUT.js";import"./VInput-k_ad5GzK.js";import"./VSelectionControl-DM_cupWE.js";import"./VSlideGroup-BTJY2N2a.js";/* empty css              */import"./VTextField-DbONA2f3.js";const j={class:"card-header"},A={class:"fcc"},se={__name:"chat",setup(F){const _=b(),c=r(""),l=r(!0),a=r(0),p=()=>{const i={roomID:_.room.id,worldID:0,logType:"chat",lines:a.value};R.content.get(i).then(e=>{c.value=e.data.join(`
`)})};let n=null;const C=()=>{n=setInterval(()=>{l.value&&p()},2e3)},f=()=>{n&&(clearInterval(n),n=null)},V=()=>Math.round(Math.max(2,Math.floor(s.value-390))/22.5),h=()=>Math.max(2,Math.floor(s.value-160)),s=r(window.innerHeight),v=I(()=>{s.value=window.innerHeight,a.value=V()},200);return y(async()=>{window.addEventListener("resize",v),a.value=V(),C()}),L(()=>{f(),window.removeEventListener("beforeunload",f),window.removeEventListener("resize",v)}),(i,e)=>(B(),M(H,{height:h()},{default:o(()=>[t(k,{class:"my-2"},{default:o(()=>[u("div",j,[e[3]||(e[3]=u("span",null,"游戏日志",-1)),u("div",A,[t(S,{modelValue:m(l),"onUpdate:modelValue":e[0]||(e[0]=d=>g(l)?l.value=d:null),color:"info","hide-details":""},{prepend:o(()=>[t(T,{color:"info"},{default:o(()=>[...e[2]||(e[2]=[w(" 自动刷新 ",-1)])]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),t(q,null,{default:o(()=>[t(x,{content:m(c),height:h()-150},null,8,["content","height"]),t(z,{class:"my-4"},{default:o(()=>[t(E),t(U,{cols:"6",md:"2",class:"fcc"},{default:o(()=>[t(D,{modelValue:m(a),"onUpdate:modelValue":e[1]||(e[1]=d=>g(a)?a.value=d:null),label:"行","hide-details":"",density:"compact",class:"mr-4"},null,8,["modelValue"]),t(N,{onClick:p},{default:o(()=>[...e[4]||(e[4]=[w(" 刷新 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["height"]))}};export{se as default};
