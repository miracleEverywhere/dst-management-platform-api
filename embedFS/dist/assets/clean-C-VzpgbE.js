import{_ as q}from"./Result-BoOjBMS-.js";import{ad as H,ae as E,aL as M,ap as U,a as t,n as j,H as O,aO as J,aP as K,av as Q,aS as W,ak as X,ai as Y,g as Z,d as ee,e as le,b as ae,f as I,j as te,a4 as se,N as oe,c as R,l as e,o as r,y as d,w as l,k as n,t as s,A as m,p as w,q as o,s as ne,a9 as G,F as z,C as A}from"./index-BNm0b3DU.js";import{l as F}from"./logs-8DnyX1L6.js";import{c as ce,a as re,V as y}from"./VCard-DfXZha2J.js";import{V as ue}from"./VContainer-C_hK4IY0.js";import{V as de}from"./VRow-D_Bj2AG5.js";import{V as x}from"./VCol-Chpy8AZn.js";import{V as i}from"./VChip-CgWDpSfx.js";import"./axios-0vDxsXQW.js";/* empty css              */import"./index-CxiSqQIY.js";const D=Symbol.for("vuetify:v-item-group"),ie=E({...W(),...Q({selectedClass:"v-item--selected"}),...K(),...J()},"VItemGroup"),me=H()({name:"VItemGroup",props:ie(),emits:{"update:modelValue":f=>!0},setup(f,_){let{slots:b}=_;const{themeClasses:C}=M(f),{isSelected:a,select:g,next:v,prev:k,selected:u}=U(f,D);return()=>t(f.tag,{class:O(["v-item-group",C.value,f.class]),style:j(f.style)},{default:()=>[b.default?.({isSelected:a,select:g,next:v,prev:k,selected:u.value})]})}}),S=H()({name:"VItem",props:X(),emits:{"group:selected":f=>!0},setup(f,_){let{slots:b}=_;const{isSelected:C,select:a,toggle:g,selectedClass:v,value:k,disabled:u}=Y(f,D);return()=>b.default?.({isSelected:C.value,selectedClass:v.value,select:a,toggle:g,value:k.value,disabled:u.value})}}),fe={class:"card-header"},ge={class:"card-header mr-4 my-4"},_e={class:"ma-4 d-flex align-center"},pe={class:"card-header mr-4 my-4"},he={class:"ma-4 d-flex align-center"},ve={class:"card-header mr-4 my-4"},ke={class:"ma-4 d-flex align-center"},ye={class:"card-header mr-4 my-4"},be={class:"ma-4 d-flex align-center"},Ce={class:"card-header mr-4 my-4"},Ve={class:"ma-4 d-flex align-center"},ze={__name:"clean",setup(f){const _=Z(),b=ee(),{mobile:C}=le(),{t:a}=ae(),g=I({game:0,chat:0,steam:0,access:0,runtime:0}),v=I(!1),k=()=>{const T={roomID:_.room.id};v.value=!0,F.clean.info.get(T).then(h=>{u.value=[],g.value=h.data}).finally(()=>{v.value=!1})},u=I([]),N=I(!1),$=()=>{if(u.value.length===0){A(a("logs.clean.noSelected"),"error");return}N.value=!0;const T={roomID:_.room.id,game:u.value.includes(0),chat:u.value.includes(1),steam:u.value.includes(2),access:u.value.includes(3),runtime:u.value.includes(4)};F.clean.delete(T).then(h=>{A(h.message),u.value=[],k()}).finally(()=>{N.value=!1})},V=()=>Math.max(2,Math.floor(P.value-120)),P=I(window.innerHeight),L=se(()=>{P.value=window.innerHeight},200);return te(async()=>{_.room.id!==0&&(k(),window.addEventListener("resize",L))}),oe(()=>{window.removeEventListener("resize",L)}),(T,h)=>{const B=q;return e(_).gameVersion.local!==0?(r(),R(z,{key:0},[e(_).room.id!==0?(r(),d(y,{key:0,height:V()},{default:l(()=>[t(ce,null,{default:l(()=>[n("div",fe,[n("span",null,s(e(a)("logs.clean.title")),1),n("div",null,[e(C)?m("",!0):(r(),d(w,{key:0,color:"info",class:"mr-2",onClick:h[0]||(h[0]=c=>u.value=[0,1,2,3,4])},{default:l(()=>[o(s(e(a)("logs.clean.selectAll")),1)]),_:1})),t(w,{color:"error",class:"mr-2",onClick:$},{default:l(()=>[o(s(e(a)("logs.clean.delete")),1)]),_:1}),t(w,{color:"default",loading:e(v),onClick:k},{default:l(()=>[o(s(e(a)("logs.clean.refresh")),1)]),_:1},8,["loading"])])])]),_:1}),t(re,null,{default:l(()=>[t(me,{modelValue:e(u),"onUpdate:modelValue":h[1]||(h[1]=c=>ne(u)?u.value=c:null),multiple:""},{default:l(()=>[t(ue,{height:V()-70,style:{"overflow-y":"auto"}},{default:l(()=>[t(de,null,{default:l(()=>[t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:p})=>[t(y,{onClick:p},{default:l(()=>[n("div",ge,[n("div",_e,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.game")),1)]),_:1}),n("span",null,s(e(G)(e(g).game)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:p})=>[t(y,{onClick:p},{default:l(()=>[n("div",pe,[n("div",he,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.chat")),1)]),_:1}),n("span",null,s(e(G)(e(g).chat)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:p})=>[t(y,{onClick:p},{default:l(()=>[n("div",ve,[n("div",ke,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.steam")),1)]),_:1}),n("span",null,s(e(G)(e(g).steam)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:p})=>[t(y,{onClick:p},{default:l(()=>[n("div",ye,[n("div",be,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.access")),1)]),_:1}),n("span",null,s(e(G)(e(g).access)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:p})=>[t(y,{onClick:p},{default:l(()=>[n("div",Ce,[n("div",Ve,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.runtime")),1)]),_:1}),n("span",null,s(e(G)(e(g).runtime)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["height"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["height"])):(r(),d(B,{key:1,title:e(a)("global.noRoomSelected.title"),"sub-title":e(a)("global.noRoomSelected.subTitle"),type:"error",height:V()},{default:l(()=>[t(w,{to:"/rooms",class:"mt-4"},{default:l(()=>[o(s(e(a)("global.noRoomSelected.button")),1)]),_:1})]),_:1},8,["title","sub-title","height"]))],64)):(r(),R(z,{key:1},[e(b).userInfo.role==="admin"?(r(),d(B,{key:0,title:e(a)("global.noGame.title"),"sub-title":e(a)("global.noGame.subTitle"),height:V(),type:"error"},{default:l(()=>[t(w,{to:"/install",class:"mt-4"},{default:l(()=>[o(s(e(a)("global.noGame.button")),1)]),_:1})]),_:1},8,["title","sub-title","height"])):(r(),d(B,{key:1,title:e(a)("global.noGameNoAdmin.title"),"sub-title":e(a)("global.noGameNoAdmin.subTitle"),height:V(),type:"error"},null,8,["title","sub-title","height"]))],64))}}};export{ze as default};
