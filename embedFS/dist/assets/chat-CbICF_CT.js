import x from"./log-4fksqC7a.js";import{g as b,h as r,f as y,a3 as I,N as L,y as M,o as B,w as o,a as t,k as u,s as g,l as m,q as w,p as N}from"./index-y7gjWuPm.js";import{l as R}from"./logs-BusTAoaZ.js";import{c as k,a as q,V as H}from"./VCard-3t1lA3T-.js";import{V as S}from"./VSwitch-EU_MqDkn.js";import{V as T}from"./VChip-wyhN0sI-.js";import{V as z}from"./VRow-DSxK_lZ_.js";import{V as E}from"./VSpacer-Mg5KYyj9.js";import{V as U}from"./VCol-umKj9uol.js";import{V as D}from"./VNumberInput-CGuiiiie.js";import"./preview-BkvUQe_B.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./axios-BmRfRVbX.js";import"./index-MCHUliHX.js";import"./VInput-MzIIapS-.js";import"./VSelectionControl-BnRoO89R.js";import"./VSlideGroup-C6UwHDjq.js";/* empty css              */import"./VTextField-uMFdyion.js";const j={class:"card-header"},A={class:"fcc"},ie={__name:"chat",setup(F){const _=b(),c=r(""),l=r(!0),a=r(0),p=()=>{const i={roomID:_.room.id,worldID:0,logType:"chat",lines:a.value};R.content.get(i).then(e=>{c.value=e.data.join(`
`)})};let n=null;const C=()=>{n=setInterval(()=>{l.value&&p()},2e3)},f=()=>{n&&(clearInterval(n),n=null)},V=()=>Math.round(Math.max(2,Math.floor(s.value-390))/22.5),h=()=>Math.max(2,Math.floor(s.value-160)),s=r(window.innerHeight),v=I(()=>{s.value=window.innerHeight,a.value=V()},200);return y(async()=>{window.addEventListener("resize",v),a.value=V(),C()}),L(()=>{f(),window.removeEventListener("beforeunload",f),window.removeEventListener("resize",v)}),(i,e)=>(B(),M(H,{height:h()},{default:o(()=>[t(k,{class:"my-2"},{default:o(()=>[u("div",j,[e[3]||(e[3]=u("span",null,"游戏日志",-1)),u("div",A,[t(S,{modelValue:m(l),"onUpdate:modelValue":e[0]||(e[0]=d=>g(l)?l.value=d:null),color:"info","hide-details":""},{prepend:o(()=>[t(T,{color:"info"},{default:o(()=>[...e[2]||(e[2]=[w(" 自动刷新 ",-1)])]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),t(q,null,{default:o(()=>[t(x,{content:m(c),height:h()-150},null,8,["content","height"]),t(z,{class:"my-4"},{default:o(()=>[t(E),t(U,{cols:"6",md:"2",class:"fcc"},{default:o(()=>[t(D,{modelValue:m(a),"onUpdate:modelValue":e[1]||(e[1]=d=>g(a)?a.value=d:null),label:"行","hide-details":"",density:"compact",class:"mr-4"},null,8,["modelValue"]),t(N,{onClick:p},{default:o(()=>[...e[4]||(e[4]=[w(" 刷新 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["height"]))}};export{ie as default};
