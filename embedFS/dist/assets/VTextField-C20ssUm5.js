import{ah as J,ai as O,a3 as k,aj as Q,a as o,z as oe,b8 as ce,k as a,n as H,K as M,b7 as ye,b4 as xe,aW as ue,aP as Ce,bb as he,a_ as Ve,bc as _e,aK as fe,i as h,f as T,aZ as ke,a$ as Ie,O as Se,bd as Pe,F as Z,E as G,aS as Fe,b5 as Be,be as we,bf as te,ap as ne,bg as Re,bh as Te,bi as Ae,bj as $e,bk as Le,ak as Ee,a5 as De,bl as se,ar as Ne,aL as Me,aM as Oe,as as Ue,bm as ze,aB as ie,bn as je}from"./index-ClrSl1t3.js";import{V as qe,a as We}from"./index-rIMhUL3t.js";import{b as Ke,d as Xe,u as ve,e as Ye,V as re,m as Ze}from"./VInput-Dh0vzV9z.js";const Ge=O({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ue(),...xe({transition:{component:qe}})},"VCounter"),He=J()({name:"VCounter",functional:!0,props:Ge(),setup(e,d){let{slots:n}=d;const u=k(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Q(()=>o(ye,{transition:e.transition},{default:()=>[oe(a("div",{class:M(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:H(e.style)},[n.default?n.default({counter:u.value,max:e.max,value:e.value}):u.value]),[[ce,e.active]])]})),{}}}),Je=O({floating:Boolean,...ue()},"VFieldLabel"),Y=J()({name:"VFieldLabel",props:Je(),setup(e,d){let{slots:n}=d;return Q(()=>o(Ke,{class:M(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:H(e.style)},n)),{}}}),Qe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],me=O({appendInnerIcon:ne,bgColor:String,clearable:Boolean,clearIcon:{type:ne,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:ne,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Qe.includes(e)},"onClick:clear":te(),"onClick:appendInner":te(),"onClick:prependInner":te(),...ue(),...we(),...Be(),...Fe()},"VField"),de=J()({name:"VField",inheritAttrs:!1,props:{id:String,details:Boolean,labelId:String,...Xe(),...me()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,d){let{attrs:n,emit:u,slots:l}=d;const{themeClasses:s}=Ce(e),{loaderClasses:I}=he(e),{focusClasses:U,isFocused:A,focus:S,blur:P}=ve(e),{InputIcon:$}=Ye(e),{roundedClasses:z}=Ve(e),{rtlClasses:j}=_e(),c=k(()=>e.dirty||e.active),V=k(()=>!!(e.label||l.label)),b=k(()=>!e.singleLine&&V.value),p=fe(),f=h(()=>e.id||`input-${p}`),q=k(()=>e.details?`${f.value}-messages`:void 0),W=T(),F=T(),K=T(),t=h(()=>["plain","underlined"].includes(e.variant)),i=h(()=>e.error||e.disabled?void 0:c.value&&A.value?e.color:e.baseColor),g=h(()=>{if(!(!e.iconColor||e.glow&&!A.value))return e.iconColor===!0?i.value:e.iconColor}),{backgroundColorClasses:B,backgroundColorStyles:L}=ke(()=>e.bgColor),{textColorClasses:_,textColorStyles:X}=Ie(i);Se(c,y=>{if(b.value&&!Re()){const m=W.value.$el,x=F.value.$el;requestAnimationFrame(()=>{const C=Te(m),r=x.getBoundingClientRect(),R=r.x-C.x,E=r.y-C.y-(C.height/2-r.height/2),D=r.width/.75,ee=Math.abs(D-C.width)>1?{maxWidth:Le(D)}:void 0,le=getComputedStyle(m),N=getComputedStyle(x),ae=parseFloat(le.transitionDuration)*1e3||150,be=parseFloat(N.getPropertyValue("--v-field-label-scale")),ge=N.getPropertyValue("color");m.style.visibility="visible",x.style.visibility="hidden",Ae(m,{transform:`translate(${R}px, ${E}px) scale(${be})`,color:ge,...ee},{duration:ae,easing:$e,direction:y?"normal":"reverse"}).finished.then(()=>{m.style.removeProperty("visibility"),x.style.removeProperty("visibility")})})}},{flush:"post"});const v=h(()=>({isActive:c,isFocused:A,controlRef:K,iconColor:g,blur:P,focus:S}));function w(y){y.target!==document.activeElement&&y.preventDefault()}return Q(()=>{const y=e.variant==="outlined",m=!!(l["prepend-inner"]||e.prependInnerIcon),x=!!(e.clearable||l.clear)&&!e.disabled,C=!!(l["append-inner"]||e.appendInnerIcon||x),r=()=>l.label?l.label({...v.value,label:e.label,props:{for:f.value}}):e.label;return a("div",G({class:["v-field",{"v-field--active":c.value,"v-field--appended":C,"v-field--center-affix":e.centerAffix??!t.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":m,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!r(),[`v-field--variant-${e.variant}`]:!0},s.value,B.value,U.value,I.value,z.value,j.value,e.class],style:[L.value,e.style],onClick:w},n),[a("div",{class:"v-field__overlay"},null),o(Pe,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),m&&a("div",{key:"prepend",class:"v-field__prepend-inner"},[l["prepend-inner"]?l["prepend-inner"](v.value):e.prependInnerIcon&&o($,{key:"prepend-icon",name:"prependInner",color:g.value},null)]),a("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&b.value&&o(Y,{key:"floating-label",ref:F,class:M([_.value]),floating:!0,for:f.value,"aria-hidden":!c.value,style:H(X.value)},{default:()=>[r()]}),V.value&&o(Y,{key:"label",ref:W,id:e.labelId,for:f.value,"aria-hidden":b.value&&c.value},{default:()=>[r()]}),l.default?.({...v.value,props:{id:f.value,class:"v-field__input","aria-describedby":q.value},focus:S,blur:P})??a("div",{id:f.value,class:"v-field__input","aria-describedby":q.value},null)]),x&&o(We,{key:"clear"},{default:()=>[oe(a("div",{class:"v-field__clearable",onMousedown:R=>{R.preventDefault(),R.stopPropagation()}},[o(Ee,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[l.clear?l.clear({...v.value,props:{onFocus:S,onBlur:P,onClick:e["onClick:clear"],tabindex:-1}}):o($,{name:"clear",onFocus:S,onBlur:P,tabindex:-1},null)]})]),[[ce,e.dirty]])]}),C&&a("div",{key:"append",class:"v-field__append-inner"},[l["append-inner"]?l["append-inner"](v.value):e.appendInnerIcon&&o($,{key:"append-icon",name:"appendInner",color:g.value},null)]),a("div",{class:M(["v-field__outline",_.value]),style:H(X.value)},[y&&a(Z,null,[a("div",{class:"v-field__outline__start"},null),b.value&&a("div",{class:"v-field__outline__notch"},[o(Y,{ref:F,floating:!0,for:f.value,"aria-hidden":!c.value},{default:()=>[r()]})]),a("div",{class:"v-field__outline__end"},null)]),t.value&&b.value&&o(Y,{ref:F,floating:!0,for:f.value,"aria-hidden":!c.value},{default:()=>[r()]})])])}),{controlRef:K,fieldIconColor:g}}}),pe=O({autocomplete:String},"autocomplete");function el(e){const d=fe(),n=De(0),u=k(()=>e.autocomplete==="suppress"),l=k(()=>{if(e.name)return u.value?`${e.name}-${d}-${n.value}`:e.name}),s=k(()=>u.value?"off":e.autocomplete);return{isSuppressing:u,fieldAutocomplete:s,fieldName:l,update:()=>n.value=new Date().getTime()}}function ll(e){function d(n,u){if(!e.autofocus||!n)return;const l=u[0].target;(l.matches("input,textarea")?l:l.querySelector("input,textarea"))?.focus()}return{onIntersect:d}}const al=["color","file","time","date","datetime-local","week","month"],tl=O({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...pe(),...Ze(),...me()},"VTextField"),ul=J()({name:"VTextField",directives:{vIntersect:se},inheritAttrs:!1,props:tl(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,d){let{attrs:n,emit:u,slots:l}=d;const s=Ne(e,"modelValue"),{isFocused:I,focus:U,blur:A}=ve(e),{onIntersect:S}=ll(e),P=h(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),$=h(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),z=h(()=>["plain","underlined"].includes(e.variant)),j=T(),c=T(),V=T(),b=el(e),p=h(()=>al.includes(e.type)||e.persistentPlaceholder||I.value||e.active);function f(){b.isSuppressing.value&&b.update(),I.value||U(),ie(()=>{V.value!==document.activeElement&&V.value?.focus()})}function q(t){u("mousedown:control",t),t.target!==V.value&&(f(),t.preventDefault())}function W(t){u("click:control",t)}function F(t,i){t.stopPropagation(),f(),ie(()=>{i(),je(e["onClick:clear"],t)})}function K(t){const i=t.target;if(!(e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type))){s.value=i.value;return}const g=i.value,B=i.selectionStart,L=i.selectionEnd;s.value=g,ie(()=>{let _=0;g.trimStart().length===i.value.length&&(_=g.length-i.value.length),B!=null&&(i.selectionStart=B-_),L!=null&&(i.selectionEnd=L-_)})}return Q(()=>{const t=!!(l.counter||e.counter!==!1&&e.counter!=null),i=!!(t||l.details),[g,B]=Me(n),{modelValue:L,..._}=re.filterProps(e),X=de.filterProps(e);return o(re,G({ref:j,modelValue:s.value,"onUpdate:modelValue":v=>s.value=v,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":z.value},e.class],style:e.style},g,_,{centerAffix:!z.value,focused:I.value}),{...l,default:v=>{let{id:w,isDisabled:y,isDirty:m,isReadonly:x,isValid:C,hasDetails:r,reset:R}=v;return o(de,G({ref:c,onMousedown:q,onClick:W,"onClick:clear":E=>F(E,R),role:e.role},Ue(X,["onClick:clear"]),{id:w.value,labelId:`${w.value}-label`,active:p.value||m.value,dirty:m.value||e.dirty,disabled:y.value,focused:I.value,details:r.value,error:C.value===!1}),{...l,default:E=>{let{props:{class:D,...ee},controlRef:le}=E;const N=a("input",G({ref:ae=>V.value=le.value=ae,value:s.value,onInput:K,autofocus:e.autofocus,readonly:x.value,disabled:y.value,name:b.fieldName.value,autocomplete:b.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:U,onBlur:A,"aria-labelledby":`${w.value}-label`},ee,B),null);return a(Z,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),oe(l.default?a("div",{class:M(D),"data-no-activator":""},[l.default({id:w}),N]):ze(N,{class:D}),[[se,S,null,{once:!0}]]),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:i?v=>a(Z,null,[l.details?.(v),t&&a(Z,null,[a("span",null,null),o(He,{active:e.persistentCounter||I.value,value:P.value,max:$.value,disabled:e.disabled},l.counter)])]):void 0})}),Oe({},j,c,V)}});export{ul as V,tl as m,el as u};
