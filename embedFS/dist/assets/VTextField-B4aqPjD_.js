import{ad as Q,ae as O,a0 as _,af as Z,a as o,x as oe,b4 as ce,k as a,n as K,H as M,b3 as ye,b0 as xe,aS as ue,aL as Ce,b9 as he,aW as Ve,bl as Ie,aG as fe,i as h,f as T,aV as _e,aX as ke,L as Se,bi as Pe,F as Y,B as J,aO as Fe,b1 as Be,bf as we,bm as te,al as ne,bn as Re,bo as Te,bp as Ae,bq as Le,br as $e,ag as De,a2 as Ee,bs as se,an as Ne,aH as Me,aI as Oe,ao as Ue,bt as qe,ax as ie,bu as ze}from"./index-BIB3igSj.js";import{V as We,a as He}from"./index-Cu_9AE_I.js";import{b as Xe,d as je,u as ve,e as Ge,V as re,m as Ye}from"./VInput-DvzUfva6.js";const Je=O({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ue(),...xe({transition:{component:We}})},"VCounter"),Ke=Q()({name:"VCounter",functional:!0,props:Je(),setup(e,d){let{slots:n}=d;const u=_(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Z(()=>o(ye,{transition:e.transition},{default:()=>[oe(a("div",{class:M(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:K(e.style)},[n.default?n.default({counter:u.value,max:e.max,value:e.value}):u.value]),[[ce,e.active]])]})),{}}}),Qe=O({floating:Boolean,...ue()},"VFieldLabel"),G=Q()({name:"VFieldLabel",props:Qe(),setup(e,d){let{slots:n}=d;return Z(()=>o(Xe,{class:M(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:K(e.style)},n)),{}}}),Ze=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],me=O({appendInnerIcon:ne,bgColor:String,clearable:Boolean,clearIcon:{type:ne,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:ne,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Ze.includes(e)},"onClick:clear":te(),"onClick:appendInner":te(),"onClick:prependInner":te(),...ue(),...we(),...Be(),...Fe()},"VField"),de=Q()({name:"VField",inheritAttrs:!1,props:{id:String,details:Boolean,labelId:String,...je(),...me()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,d){let{attrs:n,emit:u,slots:l}=d;const{themeClasses:s}=Ce(e),{loaderClasses:k}=he(e),{focusClasses:U,isFocused:A,focus:S,blur:P}=ve(e),{InputIcon:L}=Ge(e),{roundedClasses:q}=Ve(e),{rtlClasses:z}=Ie(),c=_(()=>e.dirty||e.active),V=_(()=>!!(e.label||l.label)),b=_(()=>!e.singleLine&&V.value),p=fe(),f=h(()=>e.id||`input-${p}`),W=_(()=>e.details?`${f.value}-messages`:void 0),H=T(),F=T(),X=T(),t=h(()=>["plain","underlined"].includes(e.variant)),i=h(()=>e.error||e.disabled?void 0:c.value&&A.value?e.color:e.baseColor),g=h(()=>{if(!(!e.iconColor||e.glow&&!A.value))return e.iconColor===!0?i.value:e.iconColor}),{backgroundColorClasses:B,backgroundColorStyles:$}=_e(()=>e.bgColor),{textColorClasses:I,textColorStyles:j}=ke(i);Se(c,y=>{if(b.value&&!Re()){const m=H.value.$el,x=F.value.$el;requestAnimationFrame(()=>{const C=Te(m),r=x.getBoundingClientRect(),R=r.x-C.x,D=r.y-C.y-(C.height/2-r.height/2),E=r.width/.75,ee=Math.abs(E-C.width)>1?{maxWidth:$e(E)}:void 0,le=getComputedStyle(m),N=getComputedStyle(x),ae=parseFloat(le.transitionDuration)*1e3||150,be=parseFloat(N.getPropertyValue("--v-field-label-scale")),ge=N.getPropertyValue("color");m.style.visibility="visible",x.style.visibility="hidden",Ae(m,{transform:`translate(${R}px, ${D}px) scale(${be})`,color:ge,...ee},{duration:ae,easing:Le,direction:y?"normal":"reverse"}).finished.then(()=>{m.style.removeProperty("visibility"),x.style.removeProperty("visibility")})})}},{flush:"post"});const v=h(()=>({isActive:c,isFocused:A,controlRef:X,iconColor:g,blur:P,focus:S}));function w(y){y.target!==document.activeElement&&y.preventDefault()}return Z(()=>{const y=e.variant==="outlined",m=!!(l["prepend-inner"]||e.prependInnerIcon),x=!!(e.clearable||l.clear)&&!e.disabled,C=!!(l["append-inner"]||e.appendInnerIcon||x),r=()=>l.label?l.label({...v.value,label:e.label,props:{for:f.value}}):e.label;return a("div",J({class:["v-field",{"v-field--active":c.value,"v-field--appended":C,"v-field--center-affix":e.centerAffix??!t.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":m,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!r(),[`v-field--variant-${e.variant}`]:!0},s.value,B.value,U.value,k.value,q.value,z.value,e.class],style:[$.value,e.style],onClick:w},n),[a("div",{class:"v-field__overlay"},null),o(Pe,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),m&&a("div",{key:"prepend",class:"v-field__prepend-inner"},[l["prepend-inner"]?l["prepend-inner"](v.value):e.prependInnerIcon&&o(L,{key:"prepend-icon",name:"prependInner",color:g.value},null)]),a("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&b.value&&o(G,{key:"floating-label",ref:F,class:M([I.value]),floating:!0,for:f.value,"aria-hidden":!c.value,style:K(j.value)},{default:()=>[r()]}),V.value&&o(G,{key:"label",ref:H,id:e.labelId,for:f.value,"aria-hidden":b.value&&c.value},{default:()=>[r()]}),l.default?.({...v.value,props:{id:f.value,class:"v-field__input","aria-describedby":W.value},focus:S,blur:P})??a("div",{id:f.value,class:"v-field__input","aria-describedby":W.value},null)]),x&&o(He,{key:"clear"},{default:()=>[oe(a("div",{class:"v-field__clearable",onMousedown:R=>{R.preventDefault(),R.stopPropagation()}},[o(De,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[l.clear?l.clear({...v.value,props:{onFocus:S,onBlur:P,onClick:e["onClick:clear"],tabindex:-1}}):o(L,{name:"clear",onFocus:S,onBlur:P,tabindex:-1},null)]})]),[[ce,e.dirty]])]}),C&&a("div",{key:"append",class:"v-field__append-inner"},[l["append-inner"]?l["append-inner"](v.value):e.appendInnerIcon&&o(L,{key:"append-icon",name:"appendInner",color:g.value},null)]),a("div",{class:M(["v-field__outline",I.value]),style:K(j.value)},[y&&a(Y,null,[a("div",{class:"v-field__outline__start"},null),b.value&&a("div",{class:"v-field__outline__notch"},[o(G,{ref:F,floating:!0,for:f.value,"aria-hidden":!c.value},{default:()=>[r()]})]),a("div",{class:"v-field__outline__end"},null)]),t.value&&b.value&&o(G,{ref:F,floating:!0,for:f.value,"aria-hidden":!c.value},{default:()=>[r()]})])])}),{controlRef:X,fieldIconColor:g}}}),pe=O({autocomplete:String},"autocomplete");function el(e){const d=fe(),n=Ee(0),u=_(()=>e.autocomplete==="suppress"),l=_(()=>{if(e.name)return u.value?`${e.name}-${d}-${n.value}`:e.name}),s=_(()=>u.value?"off":e.autocomplete);return{isSuppressing:u,fieldAutocomplete:s,fieldName:l,update:()=>n.value=new Date().getTime()}}function ll(e){function d(n,u){if(!e.autofocus||!n)return;const l=u[0].target;(l.matches("input,textarea")?l:l.querySelector("input,textarea"))?.focus()}return{onIntersect:d}}const al=["color","file","time","date","datetime-local","week","month"],tl=O({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...pe(),...Ye(),...me()},"VTextField"),ul=Q()({name:"VTextField",directives:{vIntersect:se},inheritAttrs:!1,props:tl(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,d){let{attrs:n,emit:u,slots:l}=d;const s=Ne(e,"modelValue"),{isFocused:k,focus:U,blur:A}=ve(e),{onIntersect:S}=ll(e),P=h(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),L=h(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),q=h(()=>["plain","underlined"].includes(e.variant)),z=T(),c=T(),V=T(),b=el(e),p=h(()=>al.includes(e.type)||e.persistentPlaceholder||k.value||e.active);function f(){b.isSuppressing.value&&b.update(),k.value||U(),ie(()=>{V.value!==document.activeElement&&V.value?.focus()})}function W(t){u("mousedown:control",t),t.target!==V.value&&(f(),t.preventDefault())}function H(t){u("click:control",t)}function F(t,i){t.stopPropagation(),f(),ie(()=>{i(),ze(e["onClick:clear"],t)})}function X(t){const i=t.target;if(!(e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type))){s.value=i.value;return}const g=i.value,B=i.selectionStart,$=i.selectionEnd;s.value=g,ie(()=>{let I=0;g.trimStart().length===i.value.length&&(I=g.length-i.value.length),B!=null&&(i.selectionStart=B-I),$!=null&&(i.selectionEnd=$-I)})}return Z(()=>{const t=!!(l.counter||e.counter!==!1&&e.counter!=null),i=!!(t||l.details),[g,B]=Me(n),{modelValue:$,...I}=re.filterProps(e),j=de.filterProps(e);return o(re,J({ref:z,modelValue:s.value,"onUpdate:modelValue":v=>s.value=v,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":q.value},e.class],style:e.style},g,I,{centerAffix:!q.value,focused:k.value}),{...l,default:v=>{let{id:w,isDisabled:y,isDirty:m,isReadonly:x,isValid:C,hasDetails:r,reset:R}=v;return o(de,J({ref:c,onMousedown:W,onClick:H,"onClick:clear":D=>F(D,R),role:e.role},Ue(j,["onClick:clear"]),{id:w.value,labelId:`${w.value}-label`,active:p.value||m.value,dirty:m.value||e.dirty,disabled:y.value,focused:k.value,details:r.value,error:C.value===!1}),{...l,default:D=>{let{props:{class:E,...ee},controlRef:le}=D;const N=a("input",J({ref:ae=>V.value=le.value=ae,value:s.value,onInput:X,autofocus:e.autofocus,readonly:x.value,disabled:y.value,name:b.fieldName.value,autocomplete:b.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:U,onBlur:A,"aria-labelledby":`${w.value}-label`},ee,B),null);return a(Y,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),oe(l.default?a("div",{class:M(E),"data-no-activator":""},[l.default({id:w}),N]):qe(N,{class:E}),[[se,S,null,{once:!0}]]),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:i?v=>a(Y,null,[l.details?.(v),t&&a(Y,null,[a("span",null,null),o(Ke,{active:e.persistentCounter||k.value,value:P.value,max:L.value,disabled:e.disabled},l.counter)])]):void 0})}),Oe({},z,c,V)}});export{ul as V,tl as m,el as u};
