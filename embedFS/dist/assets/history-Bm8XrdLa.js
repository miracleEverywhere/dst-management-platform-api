import{g as w,e as x,b as T,h as v,y as L,o as y,w as e,a,p as S,l as i,q as l,t as r,P as c,Q as d,G as n,c as B,E as I,a8 as D,B as N}from"./index-C_c0Exnr.js";import{p as $}from"./player-92benmGl.js";import{V as z}from"./VDataTable-B06mem0A.js";import{V as q}from"./VMenu-Pt5aSJwn.js";import{V as A}from"./VList-W5u6OCbN.js";import{V as _}from"./VChip-ZB3BK_Db.js";import{V as E,a as F}from"./VToolbar-0Nuazz1z.js";import{V as G}from"./VSkeletonLoader-B-96jRXL.js";import"./axios-BVFJ0DVt.js";import"./VPagination-BvGVuOQq.js";import"./VSelect-Cd8ItLVw.js";import"./VTextField-CkAuj97o.js";import"./index-2Zdw3G9d.js";import"./VInput-wpCm031A.js";import"./VCheckboxBtn-Cv--o_EO.js";import"./VSelectionControl-BVHEmJEC.js";import"./dialog-transition-BOxadGpj.js";import"./VTable-BofIWAHS.js";import"./filter-BwZVfOUl.js";import"./ssrBoot-CBq-u-WA.js";import"./VSlideGroup-MHUwctrw.js";const M={key:0},ne={__name:"history",props:{uidmap:{type:Array,default:()=>[]}},setup(V){const k=V,h=w(),{mobile:b}=x(),{t:o}=T(),g=[{key:"uid",title:o("game.player.online.header.uid")},{key:"nickname",title:o("game.player.online.header.nickname")},{key:"actions",title:o("game.player.online.header.actions")}],p=v(!1),m=(u,f,t)=>{p.value=!0;const s={roomID:h.room.id,uid:u,listType:f,actionType:t};$.list.post(s).then(C=>{N(C.message)}).finally(()=>{p.value=!1})};return(u,f)=>(y(),L(D,{border:"",rounded:"",class:"mt-4"},{default:e(()=>[a(z,{headers:g,items:k.uidmap},{loading:e(()=>[a(G,{type:"table-row@10"})]),top:e(()=>[a(E,{flat:""},{default:e(()=>[a(F,null,{default:e(()=>[a(n,{icon:"ri-contacts-line",start:""}),i(b)?I("",!0):(y(),B("span",M,r(i(o)("game.player.history.tabName")),1))]),_:1})]),_:1})]),"item.uid":e(({value:t})=>[a(_,{label:""},{default:e(()=>[l(r(t),1)]),_:2},1024)]),"item.nickname":e(({value:t})=>[a(_,{label:"",color:"primary"},{default:e(()=>[l(r(t),1)]),_:2},1024)]),"item.actions":e(({item:t})=>[a(S,{color:"info","append-icon":"ri-arrow-drop-down-line",variant:"text",loading:i(p)},{default:e(()=>[l(r(i(o)("platform.user.table.actions"))+" ",1),a(q,{activator:"parent"},{default:e(()=>[a(A,null,{default:e(()=>[a(c,{class:"text-info",onClick:s=>m(t.uid,"adminlist","add")},{prepend:e(()=>[a(n,{icon:"ri-user-star-line",size:"22"})]),default:e(()=>[a(d,null,{default:e(()=>[l(r(i(o)("game.player.online.actions.admin")),1)]),_:1})]),_:1},8,["onClick"]),a(c,{class:"text-error",onClick:s=>m(t.uid,"blocklist","add")},{prepend:e(()=>[a(n,{icon:"ri-user-forbid-line",size:"22"})]),default:e(()=>[a(d,null,{default:e(()=>[l(r(i(o)("game.player.online.actions.block")),1)]),_:1})]),_:1},8,["onClick"]),a(c,{class:"text-success",onClick:s=>m(t.uid,"whitelist","add")},{prepend:e(()=>[a(n,{icon:"ri-user-heart-line",size:"22"})]),default:e(()=>[a(d,null,{default:e(()=>[l(r(i(o)("game.player.online.actions.white")),1)]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["loading"])]),_:1},8,["items"])]),_:1}))}};export{ne as default};
