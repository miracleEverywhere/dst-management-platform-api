import{V as me,m as Be}from"./VTextField-CP4jc6f6.js";import{J as ue,K as W,an as oe,a4 as X,L as se,ao as we,a as I,D as O,al as Ie,bE as Se,W as j,k as C,F as Z,O as Pe,e as Fe,a6 as K,b1 as he,h as G,j as E,aD as Le,b0 as xe,aR as de,ar as Oe,aw as Ce,bx as Te,bk as Ee,aJ as _e,bF as Me,f as He,bG as $e,b7 as ae,n as ze,M as Ke,aP as Ne,a2 as Ae,aS as Ue,bt as pe,aM as qe,bp as fe,P as ge,bH as je,B as We,bI as Je,ag as Ge,v as Xe,a$ as Ye,bc as Qe,bJ as ye,bK as Ve}from"./index-DeHbA_nE.js";import{a as Ze}from"./VInput-BJqQ64aj.js";import{u as et,V as tt,a as be,d as lt,m as nt}from"./VList-DImB9Izd.js";import{V as at}from"./VMenu-eNSqB-Lk.js";import{V as ot}from"./VDivider-BMDGpAqT.js";import{V as ke,m as ut}from"./VSelectionControl-DqDk1AMu.js";import{V as st}from"./VChip-Ces28v7J.js";import{V as rt}from"./dialog-transition-jWvVTuJL.js";const it=W({indeterminate:Boolean,indeterminateIcon:{type:Ie,default:"$checkboxIndeterminate"},...ut({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),ct=ue()({name:"VCheckboxBtn",props:it(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,r){let{slots:l}=r;const u=oe(e,"indeterminate"),n=oe(e,"modelValue");function d(i){u.value&&(u.value=!1)}const m=X(()=>u.value?e.indeterminateIcon:e.falseIcon),a=X(()=>u.value?e.indeterminateIcon:e.trueIcon);return se(()=>{const i=we(ke.filterProps(e),["modelValue"]);return I(ke,O(i,{modelValue:n.value,"onUpdate:modelValue":[k=>n.value=k,d],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:m.value,trueIcon:a.value,"aria-checked":u.value?"mixed":void 0}),l)}),{}}}),dt=W({renderless:Boolean,...Pe()},"VVirtualScrollItem"),ft=ue()({name:"VVirtualScrollItem",inheritAttrs:!1,props:dt(),emits:{"update:height":e=>!0},setup(e,r){let{attrs:l,emit:u,slots:n}=r;const{resizeRef:d,contentRect:m}=Se(void 0,"border");j(()=>m.value?.height,a=>{a!=null&&u("update:height",a)}),se(()=>e.renderless?C(Z,null,[n.default?.({itemRef:d})]):C("div",O({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},l),[n.default?.()]))}}),vt=-1,mt=1,ve=100,ht=W({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function pt(e,r){const l=Fe(),u=K(0);he(()=>{u.value=parseFloat(e.itemHeight||0)});const n=K(0),d=K(Math.ceil((parseInt(e.height)||l.height.value)/(u.value||16))||1),m=K(0),a=K(0),i=G(),k=G();let s=0;const{resizeRef:T,contentRect:$}=Se();he(()=>{T.value=i.value});const _=E(()=>i.value===document.documentElement?l.height.value:$.value?.height||parseInt(e.height)||0),A=E(()=>!!(i.value&&k.value&&_.value&&u.value));let y=Array.from({length:r.value.length}),V=Array.from({length:r.value.length});const S=K(0);let D=-1;function Y(o){return y[o]||u.value}const z=Le(()=>{const o=performance.now();V[0]=0;const f=r.value.length;for(let w=1;w<=f;w++)V[w]=(V[w-1]||0)+Y(w-1);S.value=Math.max(S.value,performance.now()-o)},S),b=j(A,o=>{o&&(b(),s=k.value.offsetTop,z.immediate(),F(),~D&&Ce(()=>{Te&&window.requestAnimationFrame(()=>{ne(D),D=-1})}))});xe(()=>{z.clear()});function re(o,f){const w=y[o],t=u.value;u.value=t?Math.min(u.value,f):f,(w!==f||t!==u.value)&&(y[o]=f,z())}function R(o){o=de(o,0,r.value.length);const f=Math.floor(o),w=o%1,t=f+1,v=V[f]||0,h=V[t]||v;return v+(h-v)*w}function ee(o){return gt(V,o)}let N=0,U=0,B=0;j(_,(o,f)=>{f&&(F(),o<f&&requestAnimationFrame(()=>{U=0,F()}))});let Q=-1;function ie(){if(!i.value||!k.value)return;const o=i.value.scrollTop,f=performance.now();f-B>500?(U=Math.sign(o-N),s=k.value.offsetTop):U=o-N,N=o,B=f,window.clearTimeout(Q),Q=window.setTimeout(te,500),F()}function te(){!i.value||!k.value||(U=0,B=0,window.clearTimeout(Q),F())}let le=-1;function F(){cancelAnimationFrame(le),le=requestAnimationFrame(J)}function J(){if(!i.value||!_.value||!u.value)return;const o=N-s,f=Math.sign(U),w=Math.max(0,o-ve),t=de(ee(w),0,r.value.length),v=o+_.value+ve,h=de(ee(v)+1,t+1,r.value.length);if((f!==vt||t<n.value)&&(f!==mt||h>d.value)){const M=R(n.value)-R(t),L=R(h)-R(d.value);Math.max(M,L)>ve?(n.value=t,d.value=h):(t<=0&&(n.value=t),h>=r.value.length&&(d.value=h))}m.value=R(n.value),a.value=R(r.value.length)-R(d.value)}function ne(o){const f=R(o);!i.value||o&&!f?D=o:i.value.scrollTop=f}const ce=E(()=>r.value.slice(n.value,d.value).map((o,f)=>{const w=f+n.value;return{raw:o,index:w,key:Oe(o,e.itemKey,w)}}));return j(r,()=>{y=Array.from({length:r.value.length}),V=Array.from({length:r.value.length}),z.immediate(),F()},{deep:1}),{calculateVisibleItems:F,containerRef:i,markerRef:k,computedItems:ce,paddingTop:m,paddingBottom:a,scrollToIndex:ne,handleScroll:ie,handleScrollend:te,handleItemResize:re}}function gt(e,r){let l=e.length-1,u=0,n=0,d=null,m=-1;if(e[l]<r)return l;for(;u<=l;)if(n=u+l>>1,d=e[n],d>r)l=n-1;else if(d<r)m=n,u=n+1;else return d===r?n:u;return m}const yt=W({items:{type:Array,default:()=>[]},renderless:Boolean,...ht(),...Pe(),...Ne()},"VVirtualScroll"),Vt=ue()({name:"VVirtualScroll",props:yt(),setup(e,r){let{slots:l}=r;const u=Ee("VVirtualScroll"),{dimensionStyles:n}=_e(e),{calculateVisibleItems:d,containerRef:m,markerRef:a,handleScroll:i,handleScrollend:k,handleItemResize:s,scrollToIndex:T,paddingTop:$,paddingBottom:_,computedItems:A}=pt(e,X(()=>e.items));return Me(()=>e.renderless,()=>{function y(){const S=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";m.value===document.documentElement?(document[S]("scroll",i,{passive:!0}),document[S]("scrollend",k)):(m.value?.[S]("scroll",i,{passive:!0}),m.value?.[S]("scrollend",k))}He(()=>{m.value=$e(u.vnode.el,!0),y(!0)}),xe(y)}),se(()=>{const y=A.value.map(V=>I(ft,{key:V.key,renderless:e.renderless,"onUpdate:height":S=>s(V.index,S)},{default:S=>l.default?.({item:V.raw,index:V.index,...S})}));return e.renderless?C(Z,null,[C("div",{ref:a,class:"v-virtual-scroll__spacer",style:{paddingTop:ae($.value)}},null),y,C("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ae(_.value)}},null)]):C("div",{ref:m,class:Ke(["v-virtual-scroll",e.class]),onScrollPassive:i,onScrollend:k,style:ze([n.value,e.style])},[C("div",{ref:a,class:"v-virtual-scroll__container",style:{paddingTop:ae($.value),paddingBottom:ae(_.value)}},[y])])}),{calculateVisibleItems:d,scrollToIndex:T}}});function bt(e,r){const l=K(!1);let u;function n(a){cancelAnimationFrame(u),l.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{l.value=!1})})}async function d(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(l.value){const i=j(l,()=>{i(),a()})}else a()})}async function m(a){if(a.key==="Tab"&&r.value?.focus(),!["PageDown","PageUp","Home","End"].includes(a.key))return;const i=e.value?.$el;if(!i)return;(a.key==="Home"||a.key==="End")&&i.scrollTo({top:a.key==="Home"?0:i.scrollHeight,behavior:"smooth"}),await d();const k=i.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const s=i.getBoundingClientRect().top;for(const T of k)if(T.getBoundingClientRect().top>=s){T.focus();break}}else{const s=i.getBoundingClientRect().bottom;for(const T of[...k].reverse())if(T.getBoundingClientRect().bottom<=s){T.focus();break}}}return{onScrollPassive:n,onKeydown:m}}const kt=W({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function wt(e,r){const{t:l}=Ae(),u=Ue(),n=E(()=>`menu-${u}`),d=X(()=>pe(r)),m=X(()=>n.value),a=X(()=>l(pe(r)?e.closeText:e.openText));return{menuId:n,ariaExpanded:d,ariaControls:m,ariaLabel:a}}const It=W({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ie,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...kt(),...nt({itemChildren:!1})},"Select"),St=W({...It(),...we(Be({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Qe({transition:{component:rt}})},"VSelect"),Lt=ue()({name:"VSelect",props:St(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,r){let{slots:l}=r;const{t:u}=Ae(),n=G(),d=G(),m=G(),{items:a,transformIn:i,transformOut:k}=et(e),s=oe(e,"modelValue",[],t=>i(t===null?[null]:qe(t)),t=>{const v=k(t);return e.multiple?v:v[0]??null}),T=E(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:s.value.length),$=Ze(e),_=E(()=>s.value.map(t=>t.value)),A=K(!1);let y="",V=-1,S;const D=E(()=>e.hideSelected?a.value.filter(t=>!s.value.some(v=>(e.valueComparator||fe)(v,t))):a.value),Y=E(()=>e.hideNoData&&!D.value.length||$.isReadonly.value||$.isDisabled.value),z=oe(e,"menu"),b=E({get:()=>z.value,set:t=>{z.value&&!t&&d.value?.Î¨openChildren.size||t&&Y.value||(z.value=t)}}),{menuId:re,ariaExpanded:R,ariaControls:ee,ariaLabel:N}=wt(e,b),U=E(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),B=G(),Q=bt(B,n);function ie(t){e.openOnClear&&(b.value=!0)}function te(){Y.value||(b.value=!b.value)}function le(t){ye(t)&&F(t)}function F(t){if(!t.key||$.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(b.value=!0),["Escape","Tab"].includes(t.key)&&(b.value=!1),t.key==="Home"?B.value?.focus("first"):t.key==="End"&&B.value?.focus("last");const v=1e3;if(!ye(t))return;const h=performance.now();h-S>v&&(y="",V=-1),y+=t.key.toLowerCase(),S=h;const M=D.value;function L(){let g=c();return g||y.at(-1)===y.at(-2)&&(y=y.slice(0,-1),g=c(),g)||(V=-1,g=c(),g)?g:(y=t.key.toLowerCase(),c())}function c(){for(let g=V+1;g<M.length;g++){const H=M[g];if(H.title.toLowerCase().startsWith(y))return[H,g]}}const p=L();if(!p)return;const[P,q]=p;V=q,B.value?.focus(q),e.multiple||(s.value=[P])}function J(t){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const h=s.value.findIndex(L=>(e.valueComparator||fe)(L.value,t.value)),M=v??!~h;if(~h){const L=M?[...s.value,t]:[...s.value];L.splice(h,1),s.value=L}else M&&(s.value=[...s.value,t])}else{const h=v!==!1;s.value=h?[t]:[],Ce(()=>{b.value=!1})}}function ne(t){B.value?.$el.contains(t.relatedTarget)||(b.value=!1)}function ce(){e.eager&&m.value?.calculateVisibleItems()}function o(){A.value&&n.value?.focus()}function f(t){A.value=!0}function w(t){if(t==null)s.value=[];else if(Ve(n.value,":autofill")||Ve(n.value,":-webkit-autofill")){const v=a.value.find(h=>h.title===t);v&&J(v)}else n.value&&(n.value.value="")}return j(b,()=>{if(!e.hideSelected&&b.value&&s.value.length){const t=D.value.findIndex(v=>s.value.some(h=>(e.valueComparator||fe)(h.value,v.value)));Te&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{t>=0&&m.value?.scrollToIndex(t)})}}),j(a,(t,v)=>{b.value||A.value&&e.hideNoData&&!v.length&&t.length&&(b.value=!0)}),se(()=>{const t=!!(e.chips||l.chip),v=!!(!e.hideNoData||D.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),h=s.value.length>0,M=me.filterProps(e),L=h||!A.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return I(me,O({ref:n},M,{modelValue:s.value.map(c=>c.props.value).join(", "),"onUpdate:modelValue":w,focused:A.value,"onUpdate:focused":c=>A.value=c,validationValue:s.externalValue,counterValue:T.value,dirty:h,class:["v-select",{"v-select--active-menu":b.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":s.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:L,"onClick:clear":ie,"onMousedown:control":te,onBlur:ne,onKeydown:F,"aria-expanded":R.value,"aria-controls":ee.value,"aria-label":N.value,title:N.value}),{...l,default:()=>C(Z,null,[I(at,O({id:re.value,ref:d,modelValue:b.value,"onUpdate:modelValue":c=>b.value=c,activator:"parent",contentClass:"v-select__content",disabled:Y.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ce,onAfterLeave:o},U.value),{default:()=>[v&&I(tt,O({ref:B,selected:_.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:c=>c.preventDefault(),onKeydown:le,onFocusin:f,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},Q,e.listProps),{default:()=>[l["prepend-item"]?.(),!D.value.length&&!e.hideNoData&&(l["no-data"]?.()??I(be,{key:"no-data",title:u(e.noDataText)},null)),I(Vt,{ref:m,renderless:!0,items:D.value,itemKey:"value"},{default:c=>{let{item:p,index:P,itemRef:q}=c;const g=je(p.props),H=O(p.props,{ref:q,key:p.value,onClick:()=>J(p,null)});return p.type==="divider"?l.divider?.({props:p.raw,index:P})??I(ot,O(p.props,{key:`divider-${P}`}),null):p.type==="subheader"?l.subheader?.({props:p.raw,index:P})??I(lt,O(p.props,{key:`subheader-${P}`}),null):l.item?.({item:p,index:P,props:H})??I(be,O(H,{role:"option"}),{prepend:x=>{let{isSelected:De}=x;return C(Z,null,[e.multiple&&!e.hideSelected?I(ct,{key:p.value,modelValue:De,ripple:!1,tabindex:"-1",onClick:Re=>Re.preventDefault()},null):void 0,g.prependAvatar&&I(We,{image:g.prependAvatar},null),g.prependIcon&&I(ge,{icon:g.prependIcon},null)])}})}}),l["append-item"]?.()]})]}),s.value.map((c,p)=>{function P(x){x.stopPropagation(),x.preventDefault(),J(c,!1)}const q={"onClick:close":P,onKeydown(x){x.key!=="Enter"&&x.key!==" "||(x.preventDefault(),x.stopPropagation(),P(x))},onMousedown(x){x.preventDefault(),x.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},g=t?!!l.chip:!!l.selection,H=g?Je(t?l.chip({item:c,index:p,props:q}):l.selection({item:c,index:p})):void 0;if(!(g&&!H))return C("div",{key:c.value,class:"v-select__selection"},[t?l.chip?I(Ge,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:c.title}}},{default:()=>[H]}):I(st,O({key:"chip",closable:e.closableChips,size:"small",text:c.title,disabled:c.props.disabled},q),null):H??C("span",{class:"v-select__selection-text"},[c.title,e.multiple&&p<s.value.length-1&&C("span",{class:"v-select__selection-comma"},[Xe(",")])])])})]),"append-inner":function(){for(var c=arguments.length,p=new Array(c),P=0;P<c;P++)p[P]=arguments[P];return C(Z,null,[l["append-inner"]?.(...p),e.menuIcon?I(ge,{class:"v-select__menu-icon",color:n.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),Ye({isFocused:A,menu:b,select:J},n)}});export{Lt as V,ct as a};
