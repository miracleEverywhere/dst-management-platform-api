import{_ as $}from"./Result-_4bJ9fXr.js";import{ac as A,ad as q,aG as M,ao as U,a as t,n as j,H as K,aK as O,aL as J,au as Q,aO as W,aj as X,ah as Y,g as Z,d as ee,e as le,b as ae,h as I,f as te,a3 as se,N as oe,c as R,l as e,o as r,y as d,w as l,k as n,t as s,E as m,p as w,q as o,s as ne,a8 as G,F as z,B as F}from"./index-CDcWfGDJ.js";import{l as H}from"./logs-CwUVl1SS.js";import{c as ce,a as re,V as y}from"./VCard-BouBlXSm.js";import{V as ue}from"./VContainer-BoKUoFFr.js";import{V as de}from"./VRow-p1Sjh_dt.js";import{V as x}from"./VCol-DeigZOGo.js";import{V as i}from"./VChip-Dku4Yyu4.js";import"./axios-BurQrId6.js";/* empty css              */import"./index-DpLahWRr.js";const D=Symbol.for("vuetify:v-item-group"),ie=q({...W(),...Q({selectedClass:"v-item--selected"}),...J(),...O()},"VItemGroup"),me=A()({name:"VItemGroup",props:ie(),emits:{"update:modelValue":f=>!0},setup(f,_){let{slots:b}=_;const{themeClasses:C}=M(f),{isSelected:a,select:g,next:v,prev:k,selected:u}=U(f,D);return()=>t(f.tag,{class:K(["v-item-group",C.value,f.class]),style:j(f.style)},{default:()=>[b.default?.({isSelected:a,select:g,next:v,prev:k,selected:u.value})]})}}),S=A()({name:"VItem",props:X(),emits:{"group:selected":f=>!0},setup(f,_){let{slots:b}=_;const{isSelected:C,select:a,toggle:g,selectedClass:v,value:k,disabled:u}=Y(f,D);return()=>b.default?.({isSelected:C.value,selectedClass:v.value,select:a,toggle:g,value:k.value,disabled:u.value})}}),fe={class:"card-header"},ge={class:"card-header mr-4 my-4"},_e={class:"ma-4 d-flex align-center"},he={class:"card-header mr-4 my-4"},pe={class:"ma-4 d-flex align-center"},ve={class:"card-header mr-4 my-4"},ke={class:"ma-4 d-flex align-center"},ye={class:"card-header mr-4 my-4"},be={class:"ma-4 d-flex align-center"},Ce={class:"card-header mr-4 my-4"},Ve={class:"ma-4 d-flex align-center"},ze={__name:"clean",setup(f){const _=Z(),b=ee(),{mobile:C}=le(),{t:a}=ae(),g=I({game:0,chat:0,steam:0,access:0,runtime:0}),v=I(!1),k=()=>{const T={roomID:_.room.id};v.value=!0,H.clean.info.get(T).then(p=>{u.value=[],g.value=p.data}).finally(()=>{v.value=!1})},u=I([]),N=I(!1),E=()=>{if(u.value.length===0){F(a("logs.clean.noSelected"),"error");return}N.value=!0;const T={roomID:_.room.id,game:u.value.includes(0),chat:u.value.includes(1),steam:u.value.includes(2),access:u.value.includes(3),runtime:u.value.includes(4)};H.clean.delete(T).then(p=>{F(p.message),u.value=[],k()}).finally(()=>{N.value=!1})},V=()=>Math.max(2,Math.floor(L.value-120)),L=I(window.innerHeight),P=se(()=>{L.value=window.innerHeight},200);return te(async()=>{_.room.id!==0&&(k(),window.addEventListener("resize",P))}),oe(()=>{window.removeEventListener("resize",P)}),(T,p)=>{const B=$;return e(_).gameVersion.local!==0?(r(),R(z,{key:0},[e(_).room.id!==0?(r(),d(y,{key:0,height:V()},{default:l(()=>[t(ce,null,{default:l(()=>[n("div",fe,[n("span",null,s(e(a)("logs.clean.title")),1),n("div",null,[e(C)?m("",!0):(r(),d(w,{key:0,color:"info",class:"mr-2",onClick:p[0]||(p[0]=c=>u.value=[0,1,2,3,4])},{default:l(()=>[o(s(e(a)("logs.clean.selectAll")),1)]),_:1})),t(w,{color:"error",class:"mr-2",onClick:E},{default:l(()=>[o(s(e(a)("logs.clean.delete")),1)]),_:1}),t(w,{color:"default",loading:e(v),onClick:k},{default:l(()=>[o(s(e(a)("logs.clean.refresh")),1)]),_:1},8,["loading"])])])]),_:1}),t(re,null,{default:l(()=>[t(me,{modelValue:e(u),"onUpdate:modelValue":p[1]||(p[1]=c=>ne(u)?u.value=c:null),multiple:""},{default:l(()=>[t(ue,{height:V()-70,style:{"overflow-y":"auto"}},{default:l(()=>[t(de,null,{default:l(()=>[t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:h})=>[t(y,{onClick:h},{default:l(()=>[n("div",ge,[n("div",_e,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.game")),1)]),_:1}),n("span",null,s(e(G)(e(g).game)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:h})=>[t(y,{onClick:h},{default:l(()=>[n("div",he,[n("div",pe,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.chat")),1)]),_:1}),n("span",null,s(e(G)(e(g).chat)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:h})=>[t(y,{onClick:h},{default:l(()=>[n("div",ve,[n("div",ke,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.steam")),1)]),_:1}),n("span",null,s(e(G)(e(g).steam)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:h})=>[t(y,{onClick:h},{default:l(()=>[n("div",ye,[n("div",be,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.access")),1)]),_:1}),n("span",null,s(e(G)(e(g).access)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:h})=>[t(y,{onClick:h},{default:l(()=>[n("div",Ce,[n("div",Ve,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.runtime")),1)]),_:1}),n("span",null,s(e(G)(e(g).runtime)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["height"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["height"])):(r(),d(B,{key:1,title:e(a)("global.noRoomSelected.title"),"sub-title":e(a)("global.noRoomSelected.subTitle"),type:"error",height:V()},{default:l(()=>[t(w,{to:"/rooms",class:"mt-4"},{default:l(()=>[o(s(e(a)("global.noRoomSelected.button")),1)]),_:1})]),_:1},8,["title","sub-title","height"]))],64)):(r(),R(z,{key:1},[e(b).userInfo.role==="admin"?(r(),d(B,{key:0,title:e(a)("global.noGame.title"),"sub-title":e(a)("global.noGame.subTitle"),height:V(),type:"error"},{default:l(()=>[t(w,{to:"/install",class:"mt-4"},{default:l(()=>[o(s(e(a)("global.noGame.button")),1)]),_:1})]),_:1},8,["title","sub-title","height"])):(r(),d(B,{key:1,title:e(a)("global.noGameNoAdmin.title"),"sub-title":e(a)("global.noGameNoAdmin.subTitle"),height:V(),type:"error"},null,8,["title","sub-title","height"]))],64))}}};export{ze as default};
