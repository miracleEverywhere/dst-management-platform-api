import{j as T,f as v,e as x,b as C,L as U,c as i,o as n,k as B,a as m,w as r,l as t,x as N,y as p,q as V,t as h,F as f,v as c,s as b,ay as w,C as g}from"./index-Dqn-Y2oB.js";import{C as y}from"./CodeEditor-BeFx0ngU.js";import{a as D,V as W}from"./VRadioGroup-CflZCica.js";import{V as E}from"./VChip-CmX9MwQH.js";import{T as S}from"./index-CD3H4IwR.js";import{c as F,d as H,e as R,f as L}from"./VTabs-V0-46Px1.js";import"./VSelectionControl-B4F8mx-8.js";import"./VInput-9jI7hnYY.js";import"./index-BMOSmf1z.js";import"./VTooltip-Bjc0UPOi.js";import"./ssrBoot-BQTaxE_h.js";const M={class:"my-4"},j={key:0},q={key:1},ae={__name:"mod",props:{worlds:{type:Array,default:()=>[]},mod:{type:String,default:""},modInOne:{type:Boolean,default:!1},theme:{type:String,default:"light"},tabWindowHeight:{type:Number,default:600}},setup(I,{expose:O}){const d=I;T(()=>{e.value.modInOne=d.modInOne,e.value.modData=d.mod,e.value.worlds=d.worlds,d.worlds.length!==0&&(o.value=e.value.worlds[0].name)}),x();const{t:u}=C(),e=v({modInOne:!1,modData:"",worlds:[]}),k=()=>{e.value.modInOne||(o.value=e.value.worlds[0].name)},o=v("");return O({validate:async()=>{const s={validate:!1,formData:{}};if(e.value.modInOne)try{w.parse(e.value.modData)}catch{return g(u("game.base.step3.modDataError"),"error"),s}else for(let l of e.value.worlds)try{w.parse(l.modData)}catch{return g(u("game.base.step3.modDataError"),"error"),s}return s.validate=!0,s.formData=e.value,s}}),U(o,s=>{s||(o.value=e.value.worlds[0].name)}),(s,l)=>(n(),i(f,null,[B("div",M,[m(W,{modelValue:t(e).modInOne,"onUpdate:modelValue":[l[0]||(l[0]=a=>t(e).modInOne=a),k],inline:""},{prepend:r(()=>[N((n(),p(E,null,{default:r(()=>[V(h(t(u)("game.base.step3.modInOne.name")),1)]),_:1})),[[S,t(u)("game.base.step3.modInOne.tip")]])]),default:r(()=>[m(D,{label:t(u)("game.base.step3.modInOne.enable"),value:!0,class:"mr-4"},null,8,["label"]),m(D,{label:t(u)("game.base.step3.modInOne.disable"),value:!1,class:"mr-4"},null,8,["label"])]),_:1},8,["modelValue"])]),t(e).modInOne?(n(),i("div",j,[m(y,{modelValue:t(e).modData,"onUpdate:modelValue":l[1]||(l[1]=a=>t(e).modData=a),height:d.tabWindowHeight,theme:d.theme==="dark"?"lucario":"idea",class:"mt-4",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])])):(n(),i("div",q,[m(H,{modelValue:t(o),"onUpdate:modelValue":l[2]||(l[2]=a=>b(o)?o.value=a:null)},{default:r(()=>[(n(!0),i(f,null,c(t(e).worlds,a=>(n(),p(F,{value:a.name},{default:r(()=>[V(h(a.name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),m(L,{modelValue:t(o),"onUpdate:modelValue":l[3]||(l[3]=a=>b(o)?o.value=a:null)},{default:r(()=>[(n(!0),i(f,null,c(t(e).worlds,a=>(n(),p(R,{key:a.name,value:a.name},{default:r(()=>[m(y,{modelValue:a.modData,"onUpdate:modelValue":_=>a.modData=_,height:d.tabWindowHeight-54,theme:d.theme==="dark"?"lucario":"idea",class:"mt-4",mode:"lua",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue","height","theme"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))],64))}};export{ae as default};
