import{d as D}from"./index-Dcq4ln1t.js";import{J as oe,K as se,b6 as ae,e as ie,ap as re,a6 as S,j as h,bE as q,cf as ue,bx as K,W as ce,L as fe,a as y,k as w,P as U,M as A,n as ve,au as de,N as he,av as pe,O as ge,al as $,bA as me}from"./index-DeHbA_nE.js";function Se(l){let{selectedElement:a,containerElement:i,isRtl:s,isHorizontal:v}=l;const d=b(v,i),o=J(v,s,i),p=b(v,a),f=Q(v,a),g=p*.4;return o>f?f-g:o+d<f+p?f-d+p+g:o}function ye(l){let{selectedElement:a,containerElement:i,isHorizontal:s}=l;const v=b(s,i),d=Q(s,a),o=b(s,a);return d-v/2+o/2}function j(l,a){return a?.[l?"scrollWidth":"scrollHeight"]||0}function be(l,a){return a?.[l?"clientWidth":"clientHeight"]||0}function J(l,a,i){if(!i)return 0;const{scrollLeft:s,offsetWidth:v,scrollWidth:d}=i;return l?a?d-v+s:s:i.scrollTop}function b(l,a){return a?.[l?"offsetWidth":"offsetHeight"]||0}function Q(l,a){return a?.[l?"offsetLeft":"offsetTop"]||0}const xe=Symbol.for("vuetify:v-slide-group"),ze=se({centerActive:Boolean,scrollToActive:{type:Boolean,default:!0},contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:xe},nextIcon:{type:$,default:"$next"},prevIcon:{type:$,default:"$prev"},showArrows:{type:[Boolean,String],validator:l=>typeof l=="boolean"||["always","desktop","mobile"].includes(l)},...ge(),...pe({mobile:null}),...he(),...de({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Ae=oe()({name:"VSlideGroup",props:ze(),emits:{"update:modelValue":l=>!0},setup(l,a){let{slots:i}=a;const{isRtl:s}=ae(),{displayClasses:v,mobile:d}=ie(l),o=re(l,l.symbol),p=S(!1),f=S(0),g=S(0),H=S(0),r=h(()=>l.direction==="horizontal"),{resizeRef:u,contentRect:E}=q(),{resizeRef:c,contentRect:R}=q(),M=ue(),G=h(()=>({container:u.el,duration:200,easing:"easeOutQuart"})),X=h(()=>o.selected.value.length?o.items.value.findIndex(e=>e.id===o.selected.value[0]):-1),Y=h(()=>o.selected.value.length?o.items.value.findIndex(e=>e.id===o.selected.value[o.selected.value.length-1]):-1);if(K){let e=-1;ce(()=>[o.selected.value,E.value,R.value,r.value],()=>{cancelAnimationFrame(e),e=requestAnimationFrame(()=>{if(E.value&&R.value){const t=r.value?"width":"height";g.value=E.value[t],H.value=R.value[t],p.value=g.value+1<H.value}if(l.scrollToActive&&X.value>=0&&c.el){const t=c.el.children[Y.value];B(t,l.centerActive)}})})}const x=S(!1);function B(e,t){let n=0;t?n=ye({containerElement:u.el,isHorizontal:r.value,selectedElement:e}):n=Se({containerElement:u.el,isHorizontal:r.value,isRtl:s.value,selectedElement:e}),L(n)}function L(e){if(!K||!u.el)return;const t=b(r.value,u.el),n=J(r.value,s.value,u.el);if(!(j(r.value,u.el)<=t||Math.abs(e-n)<16)){if(r.value&&s.value&&u.el){const{scrollWidth:_,offsetWidth:V}=u.el;e=_-V-e}r.value?M.horizontal(e,G.value):M(e,G.value)}}function Z(e){const{scrollTop:t,scrollLeft:n}=e.target;f.value=r.value?n:t}function ee(e){if(x.value=!0,!(!p.value||!c.el)){for(const t of e.composedPath())for(const n of c.el.children)if(n===t){B(n);return}}}function te(e){x.value=!1}let T=!1;function le(e){!T&&!x.value&&!(e.relatedTarget&&c.el?.contains(e.relatedTarget))&&m(),T=!1}function N(){T=!0}function ne(e){if(!c.el)return;function t(n){e.preventDefault(),m(n)}r.value?e.key==="ArrowRight"?t(s.value?"prev":"next"):e.key==="ArrowLeft"&&t(s.value?"next":"prev"):e.key==="ArrowDown"?t("next"):e.key==="ArrowUp"&&t("prev"),e.key==="Home"?t("first"):e.key==="End"&&t("last")}function z(e,t){if(!e)return;let n=e;do n=n?.[t==="next"?"nextElementSibling":"previousElementSibling"];while(n?.hasAttribute("disabled"));return n}function m(e){if(!c.el)return;let t;if(!e)t=me(c.el)[0];else if(e==="next"){if(t=z(c.el.querySelector(":focus"),e),!t)return m("first")}else if(e==="prev"){if(t=z(c.el.querySelector(":focus"),e),!t)return m("last")}else e==="first"?(t=c.el.firstElementChild,t?.hasAttribute("disabled")&&(t=z(t,"next"))):e==="last"&&(t=c.el.lastElementChild,t?.hasAttribute("disabled")&&(t=z(t,"prev")));t&&t.focus({preventScroll:!0})}function C(e){const t=r.value&&s.value?-1:1,n=(e==="prev"?-t:t)*g.value;let W=f.value+n;if(r.value&&s.value&&u.el){const{scrollWidth:_,offsetWidth:V}=u.el;W+=_-V}L(W)}const O=h(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),k=h(()=>p.value||Math.abs(f.value)>0),F=h(()=>{switch(l.showArrows){case"always":return!0;case"desktop":return!d.value;case!0:return k.value;case"mobile":return d.value||k.value;default:return!d.value&&k.value}}),P=h(()=>Math.abs(f.value)>1),I=h(()=>{if(!u.value||!k.value)return!1;const e=j(r.value,u.el),t=be(r.value,u.el);return e-t-Math.abs(f.value)>1});return fe(()=>y(l.tag,{class:A(["v-slide-group",{"v-slide-group--vertical":!r.value,"v-slide-group--has-affixes":F.value,"v-slide-group--is-overflowing":p.value},v.value,l.class]),style:ve(l.style),tabindex:x.value||o.selected.value.length?-1:0,onFocus:le},{default:()=>[F.value&&w("div",{key:"prev",class:A(["v-slide-group__prev",{"v-slide-group__prev--disabled":!P.value}]),onMousedown:N,onClick:()=>P.value&&C("prev")},[i.prev?.(O.value)??y(D,null,{default:()=>[y(U,{icon:s.value?l.nextIcon:l.prevIcon},null)]})]),w("div",{key:"container",ref:u,class:A(["v-slide-group__container",l.contentClass]),onScroll:Z},[w("div",{ref:c,class:"v-slide-group__content",onFocusin:ee,onFocusout:te,onKeydown:ne},[i.default?.(O.value)])]),F.value&&w("div",{key:"next",class:A(["v-slide-group__next",{"v-slide-group__next--disabled":!I.value}]),onMousedown:N,onClick:()=>I.value&&C("next")},[i.next?.(O.value)??y(D,null,{default:()=>[y(U,{icon:s.value?l.prevIcon:l.nextIcon},null)]})])]})),{selected:o.selected,scrollTo:C,scrollOffset:f,focus:m,hasPrev:P,hasNext:I}}});export{Ae as V,xe as a,ze as m};
