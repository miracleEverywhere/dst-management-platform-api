import{ad as Q,ae as p,f as b,aX as ge,aV as ye,i as D,L as z,c4 as Ce,af as ee,k as y,n as le,H as O,ce as Te,a2 as Be,a as N,B as G,aI as De,Z as Ve,an as J,q as se,p as me,aM as ve,ah as Ae,a8 as fe,ag as He,au as Ie,b7 as Fe,a0 as Re,j as Ue,ao as ae,aR as $e,aN as ie}from"./index-CkNbSyGh.js";import{V as Le}from"./VTextField-CIbt9Jw8.js";const Ee=p({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),ke=Q()({name:"VTimePickerClock",props:Ee(),emits:{change:e=>!0,input:e=>!0},setup(e,d){let{emit:r}=d;const C=b(null),_=b(null),P=b(void 0),a=b(!1),i=b(null),c=b(null),w=Te(t=>r("change",t),750),{textColorClasses:$,textColorStyles:W}=ge(()=>e.color),{backgroundColorClasses:T,backgroundColorStyles:s}=ye(()=>e.color),A=D(()=>e.max-e.min+1),I=D(()=>e.double?A.value/2:A.value),g=D(()=>360/I.value),L=D(()=>g.value*Math.PI/180),F=D(()=>e.modelValue==null?e.min:e.modelValue),x=D(()=>.62),n=D(()=>{const t=[];for(let o=e.min;o<=e.max;o=o+e.step)t.push(o);return t});z(()=>e.modelValue,t=>{P.value=t});function v(t){P.value!==t&&(P.value=t),r("input",t)}function S(t){return!e.allowedValues||e.allowedValues(t)}function k(t){if(!e.scrollable||e.disabled)return;t.preventDefault();const o=Math.sign(-t.deltaY||1);let f=F.value;do f=f+o,f=(f-e.min+A.value)%A.value+e.min;while(!S(f)&&f!==F.value);f!==e.displayedValue&&v(f),w(f)}function V(t){return e.double&&t-e.min>=I.value}function B(t){return V(t)?x.value:1}function q(t){const o=e.rotate*Math.PI/180;return{x:Math.sin((t-e.min)*L.value+o)*B(t),y:-Math.cos((t-e.min)*L.value+o)*B(t)}}function H(t,o){const f=(Math.round(t/g.value)+(o?I.value:0))%A.value+e.min;return t<360-g.value/2?f:o?e.max-I.value+1:e.min}function l(t){const{x:o,y:f}=q(t);return{left:`${Math.round(50+o*50)}%`,top:`${Math.round(50+f*50)}%`}}function m(t,o){const f=o.x-t.x,R=o.y-t.y;return Math.sqrt(f*f+R*R)}function h(t,o){const f=2*Math.atan2(o.y-t.y-m(t,o),o.x-t.x);return Math.abs(f*180/Math.PI)}function u(t){i.value===null&&(i.value=t),c.value=t,v(t)}function M(t){if(t.preventDefault(),!a.value&&t.type!=="click"||!C.value)return;const{width:o,top:f,left:R}=C.value?.getBoundingClientRect(),{width:j}=_.value?.getBoundingClientRect()??{width:0},{clientX:Me,clientY:xe}="touches"in t?t.touches[0]:t,oe={x:o/2,y:-o/2},re={x:Me-R,y:f-xe},ce=Math.round(h(oe,re)-e.rotate+360)%360,de=e.double&&m(oe,re)<(j+j*x.value)/4,Ne=Math.ceil(15/g.value);let X;for(let te=0;te<Ne;te++)if(X=H(ce+te*g.value,de),S(X)||(X=H(ce-te*g.value,de),S(X)))return u(X)}function E(t){e.disabled||(t.preventDefault(),window.addEventListener("mousemove",M),window.addEventListener("touchmove",M),window.addEventListener("mouseup",K),window.addEventListener("touchend",K),i.value=null,c.value=null,a.value=!0,M(t))}function K(t){t.stopPropagation(),Y(),a.value=!1,c.value!==null&&S(c.value)&&r("change",c.value)}function Y(){window.removeEventListener("mousemove",M),window.removeEventListener("touchmove",M),window.removeEventListener("mouseup",K),window.removeEventListener("touchend",K)}Ce(Y),ee(()=>y("div",{class:O([{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":e.modelValue==null,"v-time-picker-clock--readonly":e.readonly}]),onMousedown:E,onTouchstart:E,onWheel:k,ref:C},[y("div",{class:"v-time-picker-clock__inner",ref:_},[y("div",{class:O([{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":V(e.modelValue)},$.value]),style:le([{transform:`rotate(${e.rotate+g.value*(F.value-e.min)}deg) scaleY(${B(F.value)})`},W.value])},null),n.value.map(t=>{const o=t===F.value;return y("div",{class:O([{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":o,"v-time-picker-clock__item--disabled":e.disabled||!S(t)},o&&T.value]),style:le([l(t),o&&s.value])},[y("span",null,[e.format(t)])])})])]))}}),Ke=p({active:Boolean,color:String,disabled:Boolean,label:String,modelValue:String,readonly:Boolean},"VTimePickerField"),ne=Q()({name:"VTimePickerField",inheritAttrs:!1,props:Ke(),emits:{"update:modelValue":e=>!0},setup(e,d){let{emit:r,attrs:C}=d;const{textColorClasses:_,textColorStyles:P}=ge(()=>e.color),a=b(),i=Be(!1);function c(w){if(["Backspace","Delete"].includes(w.key)){w.preventDefault();const $=w.target;$.value="",r("update:modelValue",null)}}return ee(()=>y("div",null,[N(Le,G({ref:a,_as:"VTimePickerField",autocomplete:"off",class:["v-time-picker-controls__time__field",{"v-time-picker-controls__time__field--active":e.active},e.active?_.value:[]],style:e.active?P.value:[],disabled:e.disabled,variant:"solo-filled",inputmode:"numeric",hideDetails:!0,flat:!0,modelValue:e.modelValue??(i.value?"":"--"),"onUpdate:modelValue":w=>r("update:modelValue",w),onKeydown:c,onFocus:()=>i.value=!0,onBlur:()=>i.value=!1},C),null),y("div",{class:"v-time-picker-controls__field-label"},[e.label])])),De({},a)}});function U(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(d,"0")}function _e(e){return e?(e-1)%12+1:12}function ue(e,d){return e%12+(d==="pm"?12:0)}function Z(e){const d=e.replaceAll(/\D/g,"");return d.length>0?Number(d):null}function ze(e,d,r){if(r){if(e===12&&d)return{value:1};if(e===11&&d)return{value:12,togglePeriod:!0};if(e===12&&!d)return{value:11,togglePeriod:!0};if(e===1&&!d)return{value:12}}else{if(e===23&&d)return{value:0};if(e===0&&!d)return{value:23}}return{value:e+(d?1:-1)}}function he(e,d){return e===59&&d?0:e===0&&!d?59:e+(d?1:-1)}const qe=p({ampm:Boolean,color:String,disabled:Boolean,hour:[Number,String],minute:[Number,String],second:[Number,String],period:String,readonly:Boolean,useSeconds:Boolean,value:Number,viewMode:String},"VTimePickerControls"),be=Q()({name:"VTimePickerControls",props:qe(),emits:{"update:period":e=>!0,"update:viewMode":e=>!0,"update:hour":e=>!0,"update:minute":e=>!0,"update:second":e=>!0},setup(e,d){let{emit:r,slots:C}=d;const{t:_}=Ve(),P={in:n=>{if(n==null||isNaN(Number(n)))return null;const v=Number(n);return e.ampm?U(_e(v)):U(v)},out:n=>{if(isNaN(Number(n))||n==null||n==="")return null;const v=typeof n=="string"?Z(n):Number(n);return v===null?null:e.ampm?ue(v,e.period??"am"):ve(v,0,23)}},a=J(e,"hour",void 0,P.in,P.out),i={in:n=>n!=null&&!isNaN(Number(n))?U(`${n}`):null,out:n=>{if(isNaN(Number(n))||n==null||n==="")return null;const v=typeof n=="string"?Z(n):Number(n);return v!==null?ve(v,0,59):null}},c=J(e,"minute",void 0,i.in,i.out),w=J(e,"second",void 0,i.in,i.out);function $(n){if(!["ArrowUp","ArrowDown"].includes(n.key))return;n.preventDefault(),n.stopPropagation();const v=Number(a.value??0),S=e.ampm?e.period??"am":null,{value:k,togglePeriod:V}=ze(v,n.key==="ArrowUp",S);a.value=U(k),V&&r("update:period",e.period==="am"?"pm":"am")}function W(n){["ArrowUp","ArrowDown"].includes(n.key)&&(n.preventDefault(),n.stopPropagation(),c.value=he(Number(c.value),n.key==="ArrowUp"))}function T(n){["ArrowUp","ArrowDown"].includes(n.key)&&(n.preventDefault(),n.stopPropagation(),w.value=he(Number(w.value),n.key==="ArrowUp"))}function s(n,v,S){return k=>{if(!k.data)return;const V=k.target,{value:B,selectionStart:q,selectionEnd:H}=V??{};if(Z(k.data)===null){k.preventDefault();return}const l=B?B.slice(0,q)+k.data+B.slice(H):k.data;if(l.length>2){if(q===H&&H===0&&k.data.trim().startsWith("0")){k.preventDefault(),V.value=l.trim().substring(0,2),S(V.value),k.data.trim().length===1&&V.setSelectionRange(1,1);return}if(q===H&&H===1&&B.startsWith("0")){k.preventDefault(),V.value=l.trim().substring(0,2),S(V.value);return}const h=e.viewMode==="hour"?e.ampm?12:23:59;if(Z(l)>h){k.preventDefault(),V.value=U(String(Z(k.data)).substring(0,2)),S(V.value);return}}const m=n(l);v(m)&&k.preventDefault()}}const A=b(),I=b(),g=b();z(()=>e.viewMode,(n,v)=>{switch(v){case"hour":A.value.blur();break;case"minute":I.value.blur();break;case"second":g.value.blur();break}});const L=s(P.out,n=>P.in(n)===a.value,n=>a.value=n),F=s(i.out,n=>i.in(n)===c.value,n=>c.value=n),x=s(i.out,n=>i.in(n)===w.value,n=>w.value=n);return ee(()=>y("div",{class:"v-time-picker-controls"},[y("div",{class:O({"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-ampm":e.ampm,"v-time-picker-controls__time--with-seconds":e.useSeconds})},[N(ne,{ref:A,active:e.viewMode==="hour",color:e.color,disabled:e.disabled,label:_("$vuetify.timePicker.hour"),modelValue:a.value,"onUpdate:modelValue":n=>a.value=n,onKeydown:$,onBeforeinput:L,onFocus:()=>r("update:viewMode","hour")},null),y("span",{class:"v-time-picker-controls__time__separator"},[se(":")]),N(ne,{ref:I,active:e.viewMode==="minute",color:e.color,disabled:e.disabled,label:_("$vuetify.timePicker.minute"),modelValue:c.value,"onUpdate:modelValue":n=>c.value=n,onKeydown:W,onBeforeinput:F,onFocus:()=>r("update:viewMode","minute")},null),e.useSeconds&&y("span",{key:"secondsDivider",class:"v-time-picker-controls__time__separator"},[se(":")]),e.useSeconds&&N(ne,{key:"secondsVal",ref:g,active:e.viewMode==="second",color:e.color,disabled:e.disabled,label:_("$vuetify.timePicker.second"),modelValue:w.value,"onUpdate:modelValue":n=>w.value=n,onKeydown:T,onBeforeinput:x,onFocus:()=>r("update:viewMode","second")},null),e.ampm&&y("div",{class:"v-time-picker-controls__ampm"},[N(me,{active:e.period==="am",color:e.period==="am"?e.color:void 0,class:O({"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="am"}),disabled:e.disabled,text:_("$vuetify.timePicker.am"),variant:e.disabled&&e.period==="am"?"elevated":"tonal",onClick:()=>e.period!=="am"?r("update:period","am"):null},null),N(me,{active:e.period==="pm",color:e.period==="pm"?e.color:void 0,class:O({"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="pm"}),disabled:e.disabled,text:_("$vuetify.timePicker.pm"),variant:e.disabled&&e.period==="pm"?"elevated":"tonal",onClick:()=>e.period!=="pm"?r("update:period","pm"):null},null)])])])),{}}}),Oe=Ae("v-picker-title"),Pe=p({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,hideTitle:Boolean,...Ie()},"VPicker"),we=Q()({name:"VPicker",props:Pe(),setup(e,d){let{slots:r}=d;const{backgroundColorClasses:C,backgroundColorStyles:_}=ye(()=>e.color);return ee(()=>{const P=fe.filterProps(e),a=!e.hideTitle&&!!(e.title||r.title);return N(fe,G(P,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!r.actions},e.class],style:e.style}),{default:()=>[!e.hideHeader&&y("div",{key:"header",class:O(["v-picker__header-wrapper",C.value]),style:le([_.value])},[a&&N(Oe,{key:"picker-title"},{default:()=>[r.title?.()??e.title]}),r.header&&y("div",{class:"v-picker__header"},[r.header()])]),y("div",{class:"v-picker__body"},[r.default?.()]),r.actions&&N(He,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[y("div",{class:"v-picker__actions"},[r.actions()])]})]})}),{}}}),We=ie(24),Se=ie(12),Ye=Se.map(e=>e+12);ie(60);const Xe=p({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,viewMode:{type:String,default:"hour"},period:{type:String,default:"am",validator:e=>["am","pm"].includes(e)},modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,variant:{type:String,default:"dial"},...ae(Pe({title:"$vuetify.timePicker.title"}),["landscape"]),...$e()},"VTimePicker"),Ge=Q()({name:"VTimePicker",props:Xe(),emits:{"update:hour":e=>!0,"update:minute":e=>!0,"update:period":e=>!0,"update:second":e=>!0,"update:modelValue":e=>!0,"update:viewMode":e=>!0},setup(e,d){let{emit:r,slots:C}=d;const{t:_}=Ve(),{densityClasses:P}=Fe(e),a=b(null),i=b(null),c=b(null),w=b(null),$=b(null),W=b(null),T=J(e,"period","am"),s=J(e,"viewMode","hour"),A=b(null),I=b(null),g=D(()=>{let l;if(e.allowedHours instanceof Array?l=u=>e.allowedHours.includes(u):l=e.allowedHours,!e.min&&!e.max)return l;const m=e.min?Number(e.min.split(":")[0]):0,h=e.max?Number(e.max.split(":")[0]):23;return u=>u>=Number(m)&&u<=Number(h)&&(!l||l(u))}),L=D(()=>{let l;const m=!g.value||a.value===null||g.value(a.value);if(e.allowedMinutes instanceof Array?l=t=>e.allowedMinutes.includes(t):l=e.allowedMinutes,!e.min&&!e.max)return m?l:()=>!1;const[h,u]=e.min?e.min.split(":").map(Number):[0,0],[M,E]=e.max?e.max.split(":").map(Number):[23,59],K=h*60+Number(u),Y=M*60+Number(E);return t=>{const o=60*a.value+t;return o>=K&&o<=Y&&m&&(!l||l(t))}}),F=D(()=>{let l;const h=(!g.value||a.value===null||g.value(a.value))&&(!L.value||i.value===null||L.value(i.value));if(e.allowedSeconds instanceof Array?l=R=>e.allowedSeconds.includes(R):l=e.allowedSeconds,!e.min&&!e.max)return h?l:()=>!1;const[u,M,E]=e.min?e.min.split(":").map(Number):[0,0,0],[K,Y,t]=e.max?e.max.split(":").map(Number):[23,59,59],o=u*3600+M*60+Number(E||0),f=K*3600+Y*60+Number(t||0);return R=>{const j=3600*a.value+60*i.value+R;return j>=o&&j<=f&&h&&(!l||l(R))}}),x=D(()=>e.format==="ampm"),n=Re(()=>e.modelValue!==null&&a.value===null&&i.value===null&&(!e.useSeconds||c.value===null));function v(){const l=S();l!==null&&l!==e.modelValue&&r("update:modelValue",l),n.value&&r("update:modelValue",null)}z(a,v),z(i,v),z(c,v),z(()=>e.period,l=>B(l)),z(()=>e.modelValue,l=>k(l)),z(()=>e.useSeconds,(l,m)=>{m&&!l&&s.value==="second"&&(s.value="minute"),!l&&c.value!==null&&(c.value=null)}),Ue(()=>{k(e.modelValue)});function S(){return a.value!=null&&i.value!=null&&(!e.useSeconds||c.value!=null)?`${U(a.value)}:${U(i.value)}`+(e.useSeconds?`:${U(c.value)}`:""):null}function k(l){if(l==null||l==="")a.value=null,i.value=null,c.value=null;else if(l instanceof Date)a.value=l.getHours(),i.value=l.getMinutes(),c.value=l.getSeconds();else{const[m,,h,,u,M]=l.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);a.value=M?ue(parseInt(m,10),M):parseInt(m,10),i.value=parseInt(h,10),c.value=parseInt(u||0,10)}T.value=a.value==null||a.value<12?"am":"pm"}function V(l,m){const h=g.value;if(!h)return m;const u=x.value?m<12?Se:Ye:We;return((u.find(E=>h((E+m)%u.length+u[0]))||0)+m)%u.length+u[0]}function B(l){if(T.value=l,a.value!=null){const m=a.value+(T.value==="am"?-12:12);a.value=V("hour",m)}return r("update:period",l),v(),!0}function q(l){s.value==="hour"?a.value=x.value?ue(l,T.value):l:s.value==="minute"?i.value=l:c.value=l}function H(l){switch(s.value||"hour"){case"hour":r("update:hour",l);break;case"minute":r("update:minute",l);break;case"second":r("update:second",l);break}const m=a.value!==null&&i.value!==null&&(e.useSeconds?c.value!==null:!0);s.value==="hour"?s.value="minute":e.useSeconds&&s.value==="minute"&&(s.value="second"),!(a.value===w.value&&i.value===$.value&&(!e.useSeconds||c.value===W.value)||S()===null)&&(w.value=a.value,$.value=i.value,e.useSeconds&&(W.value=c.value),m&&v())}ee(()=>{const l=ae(we.filterProps(e),["hideHeader"]),m=be.filterProps(e),h=ke.filterProps(ae(e,["format","modelValue","min","max"]));return N(we,G(l,{color:void 0,class:["v-time-picker",`v-time-picker--variant-${e.variant}`,e.class,P.value],hideHeader:e.hideHeader&&e.variant!=="input",style:e.style}),{title:()=>C.title?.()??y("div",{class:"v-time-picker__title"},[_(e.title)]),header:()=>N(be,G(m,{ampm:x.value,hour:a.value,minute:i.value,period:T.value,second:c.value,viewMode:s.value,"onUpdate:hour":u=>a.value=u,"onUpdate:minute":u=>i.value=u,"onUpdate:period":u=>B(u),"onUpdate:second":u=>c.value=u,"onUpdate:viewMode":u=>s.value=u,ref:A}),null),default:()=>N(ke,G(h,{allowedValues:s.value==="hour"?g.value:s.value==="minute"?L.value:F.value,double:s.value==="hour"&&!x.value,format:s.value==="hour"?x.value?_e:u=>u:u=>U(u,2),max:s.value==="hour"?x.value&&T.value==="am"?11:23:59,min:s.value==="hour"&&x.value&&T.value==="pm"?12:0,size:20,step:s.value==="hour"?1:5,modelValue:s.value==="hour"?a.value:s.value==="minute"?i.value:c.value,onChange:H,onInput:q,ref:I}),null),actions:C.actions})})}});export{Ge as V};
