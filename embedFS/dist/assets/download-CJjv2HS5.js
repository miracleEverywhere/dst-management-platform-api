import{g as D,b as I,e as N,h as i,f as P,c as p,o as m,y as f,l as e,F as V,a as r,w as d,ab as v,p as w,q as x,t as u,k as y,v as $,B as F}from"./index-CBjUexYG.js";import M from"./modInfo-CG8cbqBQ.js";import{m as U}from"./mod-DaUgsV6D.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as T}from"./VSelect-BBiWe61W.js";import{V as b}from"./VRow-Bj3h_q5V.js";import{V as k}from"./VTextField-DbONA2f3.js";import{V as z}from"./VSkeletonLoader-CU-3KRn_.js";import{V as L}from"./VPagination-BwJ1kUOp.js";import"./VChip-IzQUOK91.js";import"./index-Cyt7-BUT.js";import"./VSlideGroup-BTJY2N2a.js";import"./VTooltip-H5SM5WTO.js";import"./VDialog-Cn58afmS.js";import"./dialog-transition-D112y9Z-.js";import"./VCard-Dcae7csx.js";import"./VTable-DxG2gNbF.js";import"./VContainer-B2aJUZeU.js";/* empty css              */import"./axios-KbiksPFU.js";import"./VInput-k_ad5GzK.js";import"./VList-DnzQkVfF.js";import"./ssrBoot-Cy1jdUTU.js";import"./VMenu-uy8W7KRE.js";import"./VCheckboxBtn-Bs4X0880.js";import"./VSelectionControl-DM_cupWE.js";const C={class:"item-container my-8"},K={class:"d-flex justify-end mt-4"},j={class:"align-content-center mr-2"},q={__name:"download",setup(A){const S=D(),{t:s}=I(),{mobile:B}=N(),g=i([{title:s("game.mod.download.searchName"),value:"text"},{title:"ID",value:"id"}]),c=i(!1),n=i({total:0,rows:[]});i();const o=i({page:1,pageSize:36,searchText:"",searchType:"text"}),l=(h=!0)=>{h&&(o.value.page=1),c.value=!0,U.search.get(o.value).then(a=>{n.value.rows=a.data.rows,n.value.total=a.data.total,o.value.searchType==="id"&&F("ID搜索不显示评分","info")}).finally(()=>{c.value=!1})};return P(()=>{l()}),(h,a)=>(m(),p("div",null,[e(B)?(m(),p(V,{key:0},[r(b,{class:"ma-1"},{default:d(()=>[r(T,{modelValue:e(o).searchType,"onUpdate:modelValue":a[0]||(a[0]=t=>e(o).searchType=t),items:e(g),density:"compact"},null,8,["modelValue","items"])]),_:1}),r(b,{class:"mx-1"},{default:d(()=>[r(k,{modelValue:e(o).searchText,"onUpdate:modelValue":a[1]||(a[1]=t=>e(o).searchText=t),label:e(o).searchType==="text"?e(s)("game.mod.download.searchPlaceholderName"):e(s)("game.mod.download.searchPlaceholderID"),clearable:"",density:"compact",onKeyup:v(l,["enter"])},{append:d(()=>[r(w,{size:"small",onClick:l},{default:d(()=>[x(u(e(s)("game.mod.download.searchButton")),1)]),_:1})]),_:1},8,["modelValue","label"])]),_:1})],64)):(m(),f(k,{key:1,modelValue:e(o).searchText,"onUpdate:modelValue":a[3]||(a[3]=t=>e(o).searchText=t),label:e(o).searchType==="text"?e(s)("game.mod.download.searchPlaceholderName"):e(s)("game.mod.download.searchPlaceholderID"),clearable:"",class:"my-2",onKeyup:v(l,["enter"])},{prepend:d(()=>[r(T,{modelValue:e(o).searchType,"onUpdate:modelValue":a[2]||(a[2]=t=>e(o).searchType=t),items:e(g)},null,8,["modelValue","items"])]),append:d(()=>[r(w,{size:"large",onClick:l},{default:d(()=>[x(u(e(s)("game.mod.download.searchButton")),1)]),_:1})]),_:1},8,["modelValue","label"])),e(c)?(m(),f(z,{key:2,type:"table-row@20",class:"my-8"})):(m(),p(V,{key:3},[y("div",C,[(m(!0),p(V,null,$(e(n).rows,t=>(m(),f(M,{mod:t,"room-i-d":e(S).room.id},null,8,["mod","room-i-d"]))),256))]),y("div",K,[y("span",j,u(e(s)("game.mod.download.total"))+" "+u(e(n).total),1),r(L,{modelValue:e(o).page,"onUpdate:modelValue":[a[4]||(a[4]=t=>e(o).page=t),a[9]||(a[9]=t=>l(!1))],variant:"text",length:Math.ceil(e(n).total/e(o).pageSize),"total-visible":7,onFirst:a[5]||(a[5]=t=>l(!1)),onLast:a[6]||(a[6]=t=>l(!1)),onNext:a[7]||(a[7]=t=>l(!1)),onPrev:a[8]||(a[8]=t=>l(!1))},null,8,["modelValue","length"])])],64))]))}},Ve=_(q,[["__scopeId","data-v-14ddcb2f"]]);export{Ve as default};
