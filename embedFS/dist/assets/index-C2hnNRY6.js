import{_ as Ie}from"./Result-DDCBwXoN.js";import{_ as $e}from"./ConfirmBox-BNfyWI2m.js";import{h as p,g as De,d as Se,e as Te,b as Ue,f as Ne,a7 as Le,a8 as Be,a9 as Fe,c as L,l as e,o as n,A as i,F as B,a,w as l,V as C,aa as I,v as s,t as d,p as $,z as v,s as f,$ as Me,ab as be,I as ee,k as x,P as pe,ac as ve,x as q,C as le,y as ge,ad as Re,ae as ye,af as Ee,E as We}from"./index-DeHbA_nE.js";import{h as ae}from"./axios-CIK0f--r.js";import{c as j}from"./colors-DoZdCu1D.js";import{V as b}from"./VCol--aHUdhvn.js";import{V as g}from"./VRow-BQEmeM4E.js";import{V as m}from"./VChip-Ces28v7J.js";import{T as y}from"./index-Dz3noTKW.js";import{V as he}from"./VSparkline-SpLgQHCO.js";import{V as H}from"./VSpacer-C26-bQd5.js";import{V as te}from"./VDialog-Dp-IfaEM.js";import{V as Ve,a as O}from"./VRadioGroup-BthRObw5.js";import{V as qe}from"./VMenu-eNSqB-Lk.js";import{V as Ge,a as ze,b as Ae}from"./VList-DImB9Izd.js";import{V as _e}from"./VTextField-CP4jc6f6.js";import{V as Pe}from"./VSelect-Bf2-hd3n.js";import{V as je}from"./VSheet-CZmvWkqh.js";import{V as He}from"./VDataTable-i13PWHy9.js";import{V as Oe}from"./VSwitch-51UxlYB-.js";import"./VContainer-DntfIxVN.js";/* empty css              */import"./index-Dcq4ln1t.js";import"./VSlideGroup-ZbKB6ob3.js";import"./VTooltip-5yXxMi93.js";import"./dialog-transition-jWvVTuJL.js";import"./VSelectionControl-DqDk1AMu.js";import"./VInput-BJqQ64aj.js";import"./ssrBoot-DIT1QZZO.js";import"./VDivider-BMDGpAqT.js";import"./VPagination-CzvacU97.js";import"./VTable-DKylCV0A.js";const oe={exec:{game:{url:"/dashboard/exec/game",post:async function(S){return await ae.post(this.url,S)}}},info:{base:{url:"/dashboard/info/base",get:async function(S){return await ae.get(this.url,S)}},sys:{url:"/dashboard/info/sys",get:async function(S){return await ae.get(this.url,S)}}}},Ke={class:"fcc"},Je={class:"ml-2"},Qe={class:"d-flex align-center justify-center"},Xe={class:"mr-2 ml-1"},Ye={class:"ml-2"},Ul={__name:"index",setup(S){const re=p(window.innerHeight),F=De(),de=Se(),{mobile:M}=Te(),{t}=Ue(),c=p(),K=p(),R=p(0),J=async()=>{if(F.room.id===0)return;const w={roomID:F.room.id},o=await oe.info.base.get(w);c.value=o.data},k=p(),se=["#f72047","#ffd200","#1feaea"],Q=p(Array(30).fill(0)),X=p(Array(30).fill(0)),ne=async()=>{const w=await oe.info.sys.get();if(!w.data)return;const o=Number(w.data.cpu)||0,V=Number(w.data.memory)||0;k.value={...w.data,cpu:o,memory:V},Q.value=[...Q.value.slice(1),o],X.value=[...X.value.slice(1),V]},u=p({startup:{visible:!1,loading:!1},shutdown:{visible:!1,loading:!1},restart:{visible:!1,loading:!1},clean:{visible:!1,loading:!1},rollback:{visible:!1,loading:!1}}),we=[{title:"名称",value:"worldName"},{title:"主节点",value:"isMaster"},{title:"CPU",value:"cpu"},{title:"内存",value:"mem"},{title:"磁盘",value:"disk"},{title:"状态",value:"status"}],Y=p(!1),h=w=>{const o={type:w.type,roomID:F.room.id,worldID:w.worldID,extra:w.extra};Y.value=!0,Object.keys(u.value).forEach(V=>{u.value[V].loading=!0}),oe.exec.game.post(o).then(V=>{We(V.message),Object.keys(u.value).forEach(N=>{u.value[N].visible=!1})}).finally(()=>{Object.keys(u.value).forEach(V=>{u.value[V].loading=!1}),Y.value=!1,J()})},E=p(""),_=p({worlds:[],selectedWorldID:void 0,cmd:""}),T=p(!1),W=p("frontend"),U=p(!1),G=p("reset-no-force"),ie=p();let z=null,A=null;const ke=()=>{z=setInterval(()=>{J()},1e4)},xe=()=>{A=setInterval(()=>{ne()},2e3)},ue=()=>{z&&(clearInterval(z),z=null)},me=()=>{A&&(clearInterval(A),A=null)},Z=Le(()=>{re.value=window.innerHeight,K.value&&(R.value=K.value.$el.offsetWidth)},200),P=()=>Math.max(2,Math.floor(re.value-150)),ce=p(!1);return Ne(async()=>{await Promise.all([J(),ne()]),ce.value=!0,_.value.worlds=c.value?.worlds||[],Z(),window.addEventListener("resize",Z),ke(),xe()}),Be(()=>{ue(),me(),window.removeEventListener("beforeunload",ue),window.removeEventListener("beforeunload",me),window.removeEventListener("resize",Z)}),(w,o)=>{const V=$e,N=Ie,Ce=Fe("copy");return e(F).gameVersion.local!==0?(n(),L(B,{key:0},[e(F).room.id!==0?(n(),L(B,{key:0},[e(ce)?(n(),L(B,{key:0},[a(g,null,{default:l(()=>[a(b,{cols:"12",md:"6"},{default:l(()=>[a(C,{ref_key:"card1Ref",ref:K,"min-height":"350"},{default:l(()=>[a(I,null,{default:l(()=>[s(d(e(t)("dashboard.card1.title")),1)]),_:1}),a($,{class:"mt-8 mb-4"},{default:l(()=>[a(g,null,{default:l(()=>[a(b,{cols:"12",md:"6"},{default:l(()=>[a(m,{label:"",color:"info",class:"mr-2"},{default:l(()=>[s(d(e(t)("dashboard.card1.item.roomName")),1)]),_:1}),v((n(),i(f,{variant:"text","append-icon":"ri-file-copy-line",class:"text-none"},{default:l(()=>[s(d(e(Me)(e(c).room.gameName,e(M)?(e(R)-200)/15:(e(R)-400)/30)),1)]),_:1})),[[Ce,e(c).room.gameName]])]),_:1}),a(b,{cols:"12",md:"6"},{default:l(()=>[a(m,{label:"",color:"info",class:"mr-2"},{default:l(()=>[s(d(e(t)("dashboard.card1.item.connectCode")),1)]),_:1}),a(f,{variant:"text",icon:"ri-file-copy-line"}),a(f,{variant:"text",color:"default"},{default:l(()=>[...o[33]||(o[33]=[s(" 自定义 ",-1)])]),_:1})]),_:1})]),_:1}),a(g,null,{default:l(()=>[a(b,{cols:"12",md:"6"},{default:l(()=>[a(m,{label:"",color:"info",class:"mr-4"},{default:l(()=>[s(d(e(t)("dashboard.card1.item.cycles")),1)]),_:1}),e(c).session.cycles!==-1?(n(),i(m,{key:0},{default:l(()=>[s(d(e(c).session.cycles),1)]),_:1})):(n(),i(m,{key:1,color:"error"},{default:l(()=>[s(d(e(t)("dashboard.card1.error")),1)]),_:1}))]),_:1}),a(b,{cols:"12",md:"6"},{default:l(()=>[a(m,{label:"",color:"info",class:"mr-4"},{default:l(()=>[s(d(e(t)("dashboard.card1.item.gameMode")),1)]),_:1}),a(m,null,{default:l(()=>[s(d(e(t)(`game.base.step1.gameMode.modes.${e(c).room.gameMode}`)),1)]),_:1})]),_:1})]),_:1}),a(g,null,{default:l(()=>[a(b,{cols:"12",md:"6"},{default:l(()=>[a(m,{label:"",color:"info",class:"mr-4"},{default:l(()=>[s(d(e(t)("dashboard.card1.item.gameSeason")),1)]),_:1}),e(c).session.season!=="error"?(n(),i(m,{key:0},{default:l(()=>[s(d(e(t)(`dashboard.card1.season.${e(c).session.season}`))+"("+d(e(c).session.elapsedDays)+"/"+d(e(c).session.seasonLength[e(c).session.season])+") ",1)]),_:1})):(n(),i(m,{key:1,color:"error"},{default:l(()=>[s(d(e(t)("dashboard.card1.error")),1)]),_:1}))]),_:1}),a(b,{cols:"12",md:"6"},{default:l(()=>[a(m,{label:"",color:"info",class:"mr-4"},{default:l(()=>[s(d(e(t)("dashboard.card1.item.gamePhase")),1)]),_:1}),e(c).session.phase!=="error"?(n(),i(m,{key:0},{default:l(()=>[s(d(e(t)(`dashboard.card1.phase.${e(c).session.phase}`)),1)]),_:1})):(n(),i(m,{key:1,color:"error"},{default:l(()=>[s(d(e(t)("dashboard.card1.error")),1)]),_:1}))]),_:1})]),_:1}),a(g,null,{default:l(()=>[a(b,{cols:"12",md:"6"},{default:l(()=>[a(m,{label:"",color:"info",class:"mr-4"},{default:l(()=>[s(d(e(t)("dashboard.card1.item.mods")),1)]),_:1}),a(m,{onClick:o[0]||(o[0]=r=>console.log(1))},{default:l(()=>[s(d(e(c).room.modInOne?e(be)(e(c).room.modData).length:e(be)(e(c).worlds[0].modData).length),1)]),_:1})]),_:1}),a(b,{cols:"12",md:"6"},{default:l(()=>[a(m,{label:"",color:"info",class:"mr-4"},{default:l(()=>[s(d(e(t)("dashboard.card1.item.players")),1)]),_:1}),v((n(),i(m,null,{default:l(()=>[s(" ("+d(e(c).players?.length||0)+"/"+d(e(c).room.maxPlayer)+") ",1)]),_:1})),[[y,e(c).players.map(r=>r.nickname).join(", ")]])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),a(b,{cols:"12",md:"6"},{default:l(()=>[a(C,{"min-height":"350"},{default:l(()=>[a(I,null,{default:l(()=>[s(d(e(t)("dashboard.card2.title")),1)]),_:1}),a($,null,{default:l(()=>[a(g,{class:"mt-4"},{default:l(()=>[a(b,{cols:"12",md:"5"},{default:l(()=>[x("div",null,[x("div",Ke,[a(pe,{icon:"ri-cpu-line"}),o[34]||(o[34]=x("span",{class:"mr-2 ml-1"},"CPU",-1)),a(ve,{"model-value":e(k).cpu,rounded:"",height:"8",indeterminate:e(k).cpu===0,"rounded-bar":"",color:"grey-lighten-2",class:"w-33 ml-2"},null,8,["model-value","indeterminate"]),x("span",Je,d(e(k).cpu.toFixed(1))+"%",1)]),a(he,{width:e(R)/12*5,height:306-22.5-72,gradient:se,"gradient-direction":"top","line-width":3,"model-value":e(Q),padding:"8",smooth:"","stroke-linecap":"round",type:"trend","auto-draw":"",class:"mt-4"},null,8,["width","model-value"])])]),_:1}),e(M)?ee("",!0):(n(),i(H,{key:0})),a(b,{cols:"12",md:"5"},{default:l(()=>[x("div",null,[x("div",Qe,[a(pe,{icon:"ri-ram-2-line"}),x("span",Xe,d(e(t)("dashboard.card2.memory")),1),a(ve,{"model-value":e(k).memory,rounded:"",height:"8",indeterminate:e(k).memory===0,"rounded-bar":"",color:"grey-lighten-2",class:"w-33 ml-2"},null,8,["model-value","indeterminate"]),x("span",Ye,d(e(k).memory.toFixed(1))+"%",1)]),a(he,{width:e(R)/12*5,height:306-22.5-72,gradient:se,"gradient-direction":"top","line-width":3,"model-value":e(X),padding:"8",smooth:"","stroke-linecap":"round",type:"trend","auto-draw":"",class:"mt-4"},null,8,["width","model-value"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(g,null,{default:l(()=>[a(b,{cols:"12",md:"6"},{default:l(()=>[a(C,{"min-height":"260"},{default:l(()=>[a(I,null,{default:l(()=>[s(d(e(t)("dashboard.card3.title")),1)]),_:1}),a($,{class:"mx-4"},{default:l(()=>[a(g,{class:"mt-4"},{default:l(()=>[v((n(),i(f,{class:"mr-4 mb-4",color:"success",onClick:o[1]||(o[1]=r=>e(u).startup.visible=!0)},{default:l(()=>[s(d(e(t)("dashboard.card3.startup.title")),1)]),_:1})),[[y,e(t)("dashboard.card3.startup.tip")]]),a(V,{modelValue:e(u).startup.visible,"onUpdate:modelValue":o[2]||(o[2]=r=>e(u).startup.visible=r),type:"info",title:e(t)("dashboard.card3.startup.title"),content:e(t)("dashboard.card3.startup.confirm"),"confirm-text":e(t)("global.confirm.confirm"),"cancel-text":e(t)("global.confirm.cancel"),"confirm-loading":e(u).startup.loading,onConfirm:o[3]||(o[3]=r=>h({type:"startup",extra:"all"})),onCancel:o[4]||(o[4]=r=>e(u).startup.visible=!1)},null,8,["modelValue","title","content","confirm-text","cancel-text","confirm-loading"]),v((n(),i(f,{class:"mr-4 mb-4",color:"error",onClick:o[5]||(o[5]=r=>e(u).shutdown.visible=!0)},{default:l(()=>[s(d(e(t)("dashboard.card3.shutdown.title")),1)]),_:1})),[[y,e(t)("dashboard.card3.shutdown.tip")]]),a(V,{modelValue:e(u).shutdown.visible,"onUpdate:modelValue":o[6]||(o[6]=r=>e(u).shutdown.visible=r),type:"info",title:e(t)("dashboard.card3.shutdown.title"),content:e(t)("dashboard.card3.shutdown.confirm"),"confirm-text":e(t)("global.confirm.confirm"),"cancel-text":e(t)("global.confirm.cancel"),"confirm-loading":e(u).shutdown.loading,onConfirm:o[7]||(o[7]=r=>h({type:"shutdown",extra:"all"})),onCancel:o[8]||(o[8]=r=>e(u).shutdown.visible=!1)},null,8,["modelValue","title","content","confirm-text","cancel-text","confirm-loading"]),v((n(),i(f,{class:"mr-4 mb-4",color:"warning",onClick:o[9]||(o[9]=r=>e(u).restart.visible=!0)},{default:l(()=>[s(d(e(t)("dashboard.card3.restart.title")),1)]),_:1})),[[y,e(t)("dashboard.card3.restart.tip")]]),a(V,{modelValue:e(u).restart.visible,"onUpdate:modelValue":o[10]||(o[10]=r=>e(u).restart.visible=r),type:"info",title:e(t)("dashboard.card3.restart.title"),content:e(t)("dashboard.card3.restart.confirm"),"confirm-text":e(t)("global.confirm.confirm"),"cancel-text":e(t)("global.confirm.cancel"),"confirm-loading":e(u).restart.loading,onConfirm:o[11]||(o[11]=r=>h({type:"restart"})),onCancel:o[12]||(o[12]=r=>e(u).restart.visible=!1)},null,8,["modelValue","title","content","confirm-text","cancel-text","confirm-loading"]),v((n(),i(f,{class:"mr-4 mb-4",color:"info",disabled:e(de).userInfo.role!=="admin",loading:e(k).updating,onClick:o[13]||(o[13]=r=>T.value=!0)},{default:l(()=>[s(d(e(t)("dashboard.card3.update.title")),1)]),_:1},8,["disabled","loading"])),[[y,e(t)("dashboard.card3.update.tip")]]),a(te,{modelValue:e(T),"onUpdate:modelValue":o[17]||(o[17]=r=>q(T)?T.value=r:null),width:e(M)?"85%":"40%"},{default:l(()=>[a(C,null,{default:l(()=>[a(I,null,{default:l(()=>[s(d(e(t)("dashboard.card3.update.title")),1)]),_:1}),a($,null,{default:l(()=>[a(Ve,{modelValue:e(W),"onUpdate:modelValue":o[14]||(o[14]=r=>q(W)?W.value=r:null),inline:"",color:"primary",class:"mt-2"},{prepend:l(()=>[a(m,null,{default:l(()=>[s(d(e(t)("dashboard.card3.update.type")),1)]),_:1})]),default:l(()=>[v(a(O,{label:e(t)("dashboard.card3.update.frontend.title"),value:"frontend"},null,8,["label"]),[[y,e(t)("dashboard.card3.update.frontend.tip")]]),v(a(O,{label:e(t)("dashboard.card3.update.backend.title"),value:"backend"},null,8,["label"]),[[y,e(t)("dashboard.card3.update.backend.tip")]])]),_:1},8,["modelValue"])]),_:1}),a(le,null,{default:l(()=>[a(H),a(f,{color:"default",variant:"elevated",onClick:o[15]||(o[15]=r=>T.value=!1)},{default:l(()=>[s(d(e(t)("global.confirm.cancel")),1)]),_:1}),e(W)==="frontend"?(n(),i(f,{key:0,variant:"elevated",to:"/install"},{default:l(()=>[s(d(e(t)("global.confirm.confirm")),1)]),_:1})):ee("",!0),e(W)==="backend"?(n(),i(f,{key:1,variant:"elevated",onClick:o[16]||(o[16]=r=>{h({type:"update"}),T.value=!1,e(k).updating=!0})},{default:l(()=>[s(d(e(t)("global.confirm.confirm")),1)]),_:1})):ee("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","width"])]),_:1}),a(g,{class:"mb-4"},{default:l(()=>[v((n(),i(f,{class:"mr-4 mb-4",color:e(j).purple.base,onClick:o[18]||(o[18]=r=>U.value=!0)},{default:l(()=>[s(d(e(t)("dashboard.card3.reset.title")),1)]),_:1},8,["color"])),[[y,e(t)("dashboard.card3.reset.tip")]]),a(te,{modelValue:e(U),"onUpdate:modelValue":o[22]||(o[22]=r=>q(U)?U.value=r:null),width:e(M)?"85%":"40%"},{default:l(()=>[a(C,null,{default:l(()=>[a(I,null,{default:l(()=>[s(d(e(t)("dashboard.card3.reset.title")),1)]),_:1}),a($,null,{default:l(()=>[a(Ve,{modelValue:e(G),"onUpdate:modelValue":o[19]||(o[19]=r=>q(G)?G.value=r:null),inline:"",color:"primary",class:"mt-2"},{prepend:l(()=>[a(m,null,{default:l(()=>[s(d(e(t)("dashboard.card3.reset.resetType")),1)]),_:1})]),default:l(()=>[v(a(O,{label:e(t)("dashboard.card3.reset.noForced.title"),value:"reset-no-force"},null,8,["label"]),[[y,e(t)("dashboard.card3.reset.noForced.tip")]]),v(a(O,{label:e(t)("dashboard.card3.reset.forced.title"),value:"force"},null,8,["label"]),[[y,e(t)("dashboard.card3.reset.forced.tip")]])]),_:1},8,["modelValue"])]),_:1}),a(le,null,{default:l(()=>[a(H),a(f,{color:"default",variant:"elevated",onClick:o[20]||(o[20]=r=>U.value=!1)},{default:l(()=>[s(d(e(t)("global.confirm.cancel")),1)]),_:1}),a(f,{variant:"elevated",onClick:o[21]||(o[21]=r=>{h({type:"reset",extra:e(G)}),U.value=!1})},{default:l(()=>[s(d(e(t)("global.confirm.confirm")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","width"]),v((n(),i(f,{class:"mr-4 mb-4",color:e(j).brown.base},{default:l(()=>[s(d(e(t)("dashboard.card3.clean.title"))+" ",1),a(qe,{activator:"parent"},{default:l(()=>[a(Ge,null,{default:l(()=>[(n(!0),L(B,null,ge(e(_).worlds,(r,D)=>(n(),i(ze,{key:D,value:r.id,onClick:fe=>{ie.value=r.id,e(u).clean.visible=!0}},{default:l(()=>[a(Ae,null,{default:l(()=>[s(d(r.worldName),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["color"])),[[y,e(t)("dashboard.card3.clean.tip")]]),a(V,{modelValue:e(u).clean.visible,"onUpdate:modelValue":o[23]||(o[23]=r=>e(u).clean.visible=r),type:"info",title:e(t)("dashboard.card3.clean.title"),content:e(t)("dashboard.card3.clean.confirm"),"confirm-text":e(t)("global.confirm.confirm"),"cancel-text":e(t)("global.confirm.cancel"),"confirm-loading":e(u).clean.loading,onConfirm:o[24]||(o[24]=r=>h({type:"delete",worldID:e(ie)})),onCancel:o[25]||(o[25]=r=>e(u).clean.visible=!1)},null,8,["modelValue","title","content","confirm-text","cancel-text","confirm-loading"]),v((n(),i(f,{class:"mr-4 mb-4",color:e(j).cyan.darken1},{default:l(()=>[s(d(e(t)("dashboard.card3.quickCmd.title")),1)]),_:1},8,["color"])),[[y,e(t)("dashboard.card3.quickCmd.tip")]]),v((n(),i(f,{class:"mr-4 mb-4",color:e(j).teal.base},{default:l(()=>[s(d(e(t)("dashboard.card3.check.title")),1)]),_:1},8,["color"])),[[y,e(t)("dashboard.card3.check.tip")]])]),_:1}),a(g,null,{default:l(()=>[v((n(),i(m,{label:"",class:"mr-4"},{default:l(()=>[s(d(e(t)("dashboard.card3.rollback.title")),1)]),_:1})),[[y,e(t)("dashboard.card3.rollback.tip")]]),(n(!0),L(B,null,ge(e(M)?[1,2,3,4]:[1,2,3,4,5,6,7,8,9],r=>(n(),i(f,{color:"default",size:"x-small",class:"mr-4 mb-4"},{default:l(()=>[s(d(r)+" ",1),a(te,{activator:"parent","max-width":"500px",persistent:""},{default:l(({isActive:D})=>[a(C,null,{default:l(()=>[a(I,{class:"d-flex align-center"},{default:l(()=>[x("span",null,d(e(t)("dashboard.card3.rollback.title")),1)]),_:1}),a($,null,{default:l(()=>[a(Re,{text:e(t)("dashboard.card3.rollback.confirm.c1")+r+e(t)("dashboard.card3.rollback.confirm.c2"),type:"info",variant:"tonal"},null,8,["text"])]),_:2},1024),a(le,{class:"pa-4"},{default:l(()=>[a(H),a(f,{variant:"elevated",color:"default",onClick:fe=>D.value=!1},{default:l(()=>[s(d(e(t)("global.confirm.cancel")),1)]),_:1},8,["onClick"]),a(f,{variant:"elevated",loading:e(u).rollback.loading,onClick:fe=>{h({type:"console",extra:`c_rollback(${r})`,worldID:e(c).worlds[0].id}),D.value=!1}},{default:l(()=>[s(d(e(t)("global.confirm.confirm")),1)]),_:1},8,["loading","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1}),a(b,{cols:"12",md:"6"},{default:l(()=>[a(C,{"min-height":"260"},{default:l(()=>[a(I,null,{default:l(()=>[s(d(e(t)("dashboard.card4.title")),1)]),_:1}),a($,null,{default:l(()=>[a(g,{class:"mt-8"},{default:l(()=>[a(b,{cols:"12"},{default:l(()=>[a(_e,{modelValue:e(E),"onUpdate:modelValue":o[26]||(o[26]=r=>q(E)?E.value=r:null),"append-inner-icon":"ri-send-plane-fill",class:"w-100",label:"公告内容",clearable:"","onClick:appendInner":o[27]||(o[27]=r=>h({type:"announce",extra:e(E)})),onKeyup:o[28]||(o[28]=ye(r=>h({type:"announce",extra:e(E)}),["enter"]))},null,8,["modelValue"])]),_:1})]),_:1}),a(g,{"no-gutters":"",class:"my-8"},{default:l(()=>[a(b,{cols:"3"},{default:l(()=>[a(Pe,{modelValue:e(_).selectedWorldID,"onUpdate:modelValue":o[29]||(o[29]=r=>e(_).selectedWorldID=r),density:"compact",label:"世界",class:"mr-1","item-title":"worldName","item-value":"id",items:e(_).worlds},null,8,["modelValue","items"])]),_:1}),a(b,{class:"ml-2"},{default:l(()=>[a(_e,{modelValue:e(_).cmd,"onUpdate:modelValue":o[30]||(o[30]=r=>e(_).cmd=r),density:"compact","append-inner-icon":"ri-send-plane-fill",label:"命令内容",clearable:"",disabled:e(_).selectedWorldID===void 0,"onClick:appendInner":o[31]||(o[31]=r=>h({type:"console",extra:e(_).cmd,worldID:e(_).selectedWorldID})),onKeyup:o[32]||(o[32]=ye(r=>h({type:"console",extra:e(_).cmd,worldID:e(_).selectedWorldID}),["enter"]))},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(g,null,{default:l(()=>[a(b,{cols:"12"},{default:l(()=>[a(C,null,{default:l(()=>[a(I,null,{default:l(()=>[s(d(e(t)("dashboard.card5.title")),1)]),_:1}),a($,{class:"my-8"},{default:l(()=>[a(g,null,{default:l(()=>[a(b,{cols:"12"},{default:l(()=>[a(je,{rounded:"",border:""},{default:l(()=>[a(He,{items:e(c).worlds,headers:we,"hide-default-footer":""},{"item.worldName":l(({value:r})=>[a(m,{color:"primary",label:""},{default:l(()=>[s(d(r),1)]),_:2},1024)]),"item.isMaster":l(({value:r})=>[r?(n(),i(m,{key:0,color:"success",label:""},{default:l(()=>[...o[35]||(o[35]=[s(" 是 ",-1)])]),_:1})):(n(),i(m,{key:1,label:""},{default:l(()=>[...o[36]||(o[36]=[s(" 否 ",-1)])]),_:1}))]),"item.cpu":l(({item:r})=>[a(m,{label:"",color:"info"},{default:l(()=>[s(d(r.performanceStatus.cpu.toFixed(2))+"% ",1)]),_:2},1024)]),"item.mem":l(({item:r})=>[a(m,{label:"",color:"info"},{default:l(()=>[s(d(r.performanceStatus.mem.toFixed(2))+"% ("+d(r.performanceStatus.memSize)+" MB) ",1)]),_:2},1024)]),"item.disk":l(({item:r})=>[a(m,{label:"",color:"info"},{default:l(()=>[s(d(e(Ee)(r.performanceStatus.disk)),1)]),_:2},1024)]),"item.status":l(({item:r})=>[a(Oe,{modelValue:r.status,"onUpdate:modelValue":D=>r.status=D,loading:e(Y),color:"success","hide-details":"",onChange:D=>r.status?h({type:"startup",worldID:r.id}):h({type:"shutdown",worldID:r.id})},null,8,["modelValue","onUpdate:modelValue","loading","onChange"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)):(n(),i(N,{key:1,type:"info",title:e(t)("game.base.loading"),height:P()},null,8,["title","height"]))],64)):(n(),i(N,{key:1,title:e(t)("global.result.title"),"sub-title":e(t)("global.result.subTitle"),type:"error",height:P()},{default:l(()=>[a(f,{to:"/rooms",class:"mt-4"},{default:l(()=>[s(d(e(t)("global.result.button")),1)]),_:1})]),_:1},8,["title","sub-title","height"]))],64)):(n(),L(B,{key:1},[e(de).userInfo.role==="admin"?(n(),i(N,{key:0,title:e(t)("global.noGame.title"),"sub-title":e(t)("global.noGame.subTitle"),height:P(),type:"error"},{default:l(()=>[a(f,{to:"/install",class:"mt-4"},{default:l(()=>[s(d(e(t)("global.noGame.button")),1)]),_:1})]),_:1},8,["title","sub-title","height"])):(n(),i(N,{key:1,title:e(t)("global.noGameNoAdmin.title"),"sub-title":e(t)("global.noGameNoAdmin.subTitle"),height:P(),type:"error"},null,8,["title","sub-title","height"]))],64))}}};export{Ul as default};
