import{g as L,e as D,b as I,h as g,f as N,y as S,o as V,w as e,a,l as t,p as v,q as n,t as i,P as y,Q as _,G as m,aF as B,c as P,E as $,a7 as q,B as z}from"./index-y7gjWuPm.js";import{p as C}from"./player-B2kRmc4F.js";import{V as F}from"./VDataTable-BBItooe0.js";import{V as E}from"./VMenu-DsEiLSfo.js";import{V as M}from"./VList-Dq7nw64W.js";import{V as b}from"./VChip-wyhN0sI-.js";import{V as O,a as A}from"./VToolbar-C7qPBPBy.js";import{V as G}from"./VSkeletonLoader-CB_1HOM1.js";import"./axios-BmRfRVbX.js";import"./VPagination-gpFCmWP7.js";import"./VSelect-Dpmldz1w.js";import"./VTextField-uMFdyion.js";import"./index-MCHUliHX.js";import"./VInput-MzIIapS-.js";import"./VCheckboxBtn-D2boHj3Q.js";import"./VSelectionControl-BnRoO89R.js";import"./dialog-transition-BlTEFOz9.js";import"./VTable-BaoQrwGq.js";import"./filter-BjJC9dtU.js";import"./ssrBoot-DoU4Hx8y.js";import"./VSlideGroup-C6UwHDjq.js";const Q={key:0},pe={__name:"online",props:{height:{type:Number,default:0}},setup(R){const p=L(),{mobile:w}=D(),{t:l}=I(),h=g([]),r=g(!1),k=()=>{r.value=!0;const s={roomID:p.room.id};C.online.get(s).then(d=>{h.value=d.data||[]}).finally(()=>{r.value=!1})},x=[{key:"uid",title:l("game.player.online.header.uid")},{key:"nickname",title:l("game.player.online.header.nickname")},{key:"prefab",title:l("game.player.online.header.prefab")},{key:"actions",title:l("game.player.online.header.actions")}],u=g(!1),f=(s,d,o)=>{u.value=!0;const c={roomID:p.room.id,uid:s,listType:d,actionType:o};C.list.post(c).then(T=>{z(T.message)}).finally(()=>{u.value=!1})};return N(()=>{k()}),(s,d)=>(V(),S(q,{border:"",rounded:"",class:"mt-4"},{default:e(()=>[a(F,{headers:x,items:t(h),loading:t(r)},{loading:e(()=>[a(G,{type:"table-row@10"})]),top:e(()=>[a(O,{flat:""},{default:e(()=>[a(A,null,{default:e(()=>[a(m,{icon:"ri-user-location-line",start:""}),t(w)?$("",!0):(V(),P("span",Q,i(t(l)("game.player.online.tabName")),1))]),_:1}),a(v,{"prepend-icon":"ri-refresh-line",loading:t(r),color:"default",onClick:k},{default:e(()=>[n(i(t(l)("platform.user.table.refresh")),1)]),_:1},8,["loading"])]),_:1})]),"item.uid":e(({value:o})=>[a(b,{label:""},{default:e(()=>[n(i(o),1)]),_:2},1024)]),"item.nickname":e(({value:o})=>[a(b,{label:"",color:"primary"},{default:e(()=>[n(i(o),1)]),_:2},1024)]),"item.prefab":e(({value:o})=>[a(b,{label:"",color:"success"},{default:e(()=>[n(i(t(B)(o,t(p).language)),1)]),_:2},1024)]),"item.actions":e(({item:o})=>[a(v,{color:"info","append-icon":"ri-arrow-drop-down-line",variant:"text",loading:t(u)},{default:e(()=>[n(i(t(l)("platform.user.table.actions"))+" ",1),a(E,{activator:"parent"},{default:e(()=>[a(M,null,{default:e(()=>[a(y,{class:"text-info",onClick:c=>f(o.uid,"adminlist","add")},{prepend:e(()=>[a(m,{icon:"ri-user-star-line",size:"22"})]),default:e(()=>[a(_,null,{default:e(()=>[n(i(t(l)("game.player.online.actions.admin")),1)]),_:1})]),_:1},8,["onClick"]),a(y,{class:"text-error",onClick:c=>f(o.uid,"blocklist","add")},{prepend:e(()=>[a(m,{icon:"ri-user-forbid-line",size:"22"})]),default:e(()=>[a(_,null,{default:e(()=>[n(i(t(l)("game.player.online.actions.block")),1)]),_:1})]),_:1},8,["onClick"]),a(y,{class:"text-success",onClick:c=>f(o.uid,"whitelist","add")},{prepend:e(()=>[a(m,{icon:"ri-user-heart-line",size:"22"})]),default:e(()=>[a(_,null,{default:e(()=>[n(i(t(l)("game.player.online.actions.white")),1)]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["loading"])]),_:1},8,["items","loading"])]),_:1}))}};export{pe as default};
