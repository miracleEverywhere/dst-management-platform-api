import{f as T,h as v,e as x,b as B,L as U,c as i,o as m,k as C,a as n,w as r,l as t,x as N,y as p,q as h,t as V,F as f,v as c,s as b,ax as w,B as g}from"./index-1couzVnS.js";import{C as y}from"./CodeEditor-8hsTbiJS.js";import{a as D,V as W}from"./VRadioGroup-L2jd3ZKd.js";import{V as E}from"./VChip-PyGbOgmV.js";import{T as S}from"./index-5MyWeJiV.js";import{c as F,d as H,e as R,f as L}from"./VTabs-BPhRuEpG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VSelectionControl-cqDQx6RQ.js";import"./VInput-C0LjaVBJ.js";import"./index-BkP1PHzc.js";import"./VTooltip-nVr9IgtD.js";import"./ssrBoot-ygy6s5Rr.js";const M={class:"my-4"},q={key:0},A={key:1},te={__name:"mod",props:{worlds:{type:Array,default:()=>[]},mod:{type:String,default:""},modInOne:{type:Boolean,default:!1},theme:{type:String,default:"light"},tabWindowHeight:{type:Number,default:600}},setup(I,{expose:O}){const d=I;T(()=>{e.value.modInOne=d.modInOne,e.value.modData=d.mod,e.value.worlds=d.worlds,d.worlds.length!==0&&(o.value=e.value.worlds[0].name)}),x();const{t:u}=B(),e=v({modInOne:!1,modData:"",worlds:[]}),k=()=>{e.value.modInOne||(o.value=e.value.worlds[0].name)},o=v("");return O({validate:async()=>{const s={validate:!1,formData:{}};if(e.value.modInOne)try{w.parse(e.value.modData)}catch{return g(u("game.base.step3.modDataError"),"error"),s}else for(let l of e.value.worlds)try{w.parse(l.modData)}catch{return g(u("game.base.step3.modDataError"),"error"),s}return s.validate=!0,s.formData=e.value,s}}),U(o,s=>{s||(o.value=e.value.worlds[0].name)}),(s,l)=>(m(),i(f,null,[C("div",M,[n(W,{modelValue:t(e).modInOne,"onUpdate:modelValue":[l[0]||(l[0]=a=>t(e).modInOne=a),k],inline:""},{prepend:r(()=>[N((m(),p(E,null,{default:r(()=>[h(V(t(u)("game.base.step3.modInOne.name")),1)]),_:1})),[[S,t(u)("game.base.step3.modInOne.tip")]])]),default:r(()=>[n(D,{label:t(u)("game.base.step3.modInOne.enable"),value:!0,class:"mr-4"},null,8,["label"]),n(D,{label:t(u)("game.base.step3.modInOne.disable"),value:!1,class:"mr-4"},null,8,["label"])]),_:1},8,["modelValue"])]),t(e).modInOne?(m(),i("div",q,[n(y,{modelValue:t(e).modData,"onUpdate:modelValue":l[1]||(l[1]=a=>t(e).modData=a),height:d.tabWindowHeight,theme:d.theme==="dark"?"lucario":"idea",class:"mt-4",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])])):(m(),i("div",A,[n(H,{modelValue:t(o),"onUpdate:modelValue":l[2]||(l[2]=a=>b(o)?o.value=a:null)},{default:r(()=>[(m(!0),i(f,null,c(t(e).worlds,a=>(m(),p(F,{value:a.name},{default:r(()=>[h(V(a.name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),n(L,{modelValue:t(o),"onUpdate:modelValue":l[3]||(l[3]=a=>b(o)?o.value=a:null)},{default:r(()=>[(m(!0),i(f,null,c(t(e).worlds,a=>(m(),p(R,{key:a.name,value:a.name},{default:r(()=>[n(y,{modelValue:a.modData,"onUpdate:modelValue":_=>a.modData=_,height:d.tabWindowHeight-54,theme:d.theme==="dark"?"lucario":"idea",class:"mt-4",mode:"lua",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue","height","theme"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))],64))}};export{te as default};
