import{t as U}from"./index-tEyS_FRG.js";import{u as V,a as B,g as L,c as C,r as o,o as N,ar as m,J as s,e as S,f as A,j as a,k as r,l as g,p as b,F as $,x as j,t as H,i as K,a0 as q,A as I}from"./index-xsEJLFvK.js";import{S as x}from"./index-Bbyodo1S.js";const J={class:"page-div"},P={class:"card-header"},T=q({name:"toolsMetrics"}),Y=Object.assign(T,{setup(W){const{t:k}=V();B();const h=L();C(()=>h.isDark);const i=C(()=>h.language),n=o(30);N(()=>{d(n.value,!1)});const F=[{label:i.value==="zh"?"30分钟":"30 Minutes",value:30},{label:i.value==="zh"?"60分钟":"60 Minutes",value:60},{label:i.value==="zh"?"3小时":"3 Hours",value:180},{label:i.value==="zh"?"6小时":"6 Hours",value:360}],d=(_,e)=>{const y={timeRange:_};U.metrics.get(y).then(v=>{u.value.xAxis.data=[],p.value.xAxis.data=[],f.value.xAxis.data=[],c.value.xAxis.data=[],u.value.series[0].data=[],p.value.series[0].data=[],f.value.series[0].data=[],c.value.series[0].data=[];for(let t of v.data)u.value.xAxis.data.push(m(t.timestamp)),p.value.xAxis.data.push(m(t.timestamp)),f.value.xAxis.data.push(m(t.timestamp)),c.value.xAxis.data.push(m(t.timestamp)),u.value.series[0].data.push(t.cpu.toFixed(2)),p.value.series[0].data.push(t.memory.toFixed(2)),f.value.series[0].data.push(t.netUplink.toFixed(2)),c.value.series[0].data.push(t.netDownlink.toFixed(2));e&&I(i.value==="zh"?"刷新成功":"Refresh Success")})},R=o(),w=o(),E=o(),D=o(),u=o({title:{text:"CPU"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}%"}},series:[{data:[],type:"line",smooth:!0,itemStyle:{normal:{color:"#409EFF",lineStyle:{color:"#409EFF"}}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#409EFF"},{offset:1,color:"#ffffff00"}],global:!1}}}]}),p=o({title:{text:"Memory"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}%"}},series:[{data:[],type:"line",smooth:!0,itemStyle:{normal:{color:"#67C23A",lineStyle:{color:"#67C23A"}}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#67C23A"},{offset:1,color:"#ffffff00"}],global:!1}}}]}),f=o({title:{text:"Net ↑"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value} KiB/s"}},series:[{data:[],type:"line",smooth:!0,itemStyle:{normal:{color:"#E6A23C",lineStyle:{color:"#E6A23C"}}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#E6A23C"},{offset:1,color:"#ffffff00"}],global:!1}}}]}),c=o({title:{text:"Net ↓"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value} KiB/s"}},series:[{data:[],type:"line",smooth:!0,itemStyle:{normal:{color:"#F56C6C",lineStyle:{color:"#F56C6C"}}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#F56C6C"},{offset:1,color:"#ffffff00"}],global:!1}}}]});return(_,e)=>{const y=s("el-option"),v=s("el-select"),t=s("el-button"),M=s("el-card"),z=s("el-col"),O=s("el-row");return S(),A("div",J,[a(O,{gutter:10},{default:r(()=>[a(z,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:r(()=>[a(M,{shadow:"never"},{header:r(()=>[g("div",P,[e[3]||(e[3]=b(" 系统信息 ")),g("div",null,[a(v,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),style:{"font-weight":"lighter",width:"100px"},onChange:e[1]||(e[1]=l=>d(n.value,!1))},{default:r(()=>[(S(),A($,null,j(F,l=>a(y,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),a(t,{size:"default",style:{"margin-left":"5px"},onClick:e[2]||(e[2]=l=>d(n.value,!0))},{default:r(()=>[b(H(K(k)("setting.refresh")),1)]),_:1})])])]),default:r(()=>[g("div",null,[a(x,{ref_key:"cpuChartRef",ref:R,option:u.value,height:"25vh"},null,8,["option"]),a(x,{ref_key:"memoryChartRef",ref:w,option:p.value,height:"25vh",style:{"margin-top":"20px"}},null,8,["option"]),a(x,{ref_key:"netUplinkChartRef",ref:E,option:f.value,height:"25vh",style:{"margin-top":"20px"}},null,8,["option"]),a(x,{ref_key:"netDownlinkChartRef",ref:D,option:c.value,height:"25vh",style:{"margin-top":"20px"}},null,8,["option"])])]),_:1})]),_:1})]),_:1})])}}});export{Y as default};
