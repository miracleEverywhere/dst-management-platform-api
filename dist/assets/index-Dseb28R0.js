import{h as N,_ as gt,o as yt,u as Ct,a as bt,g as wt,b as kt,c as Ee,s as O,r as y,d as xt,e as Dt,w as zt,f as i,i as z,F as j,j as l,k as t,l as e,m as d,t as n,n as f,p as H,q as u,v as _,x as Re,y as be,z as It,A as qe,B as E,E as Ke,C as Pe,D as we,G as St,H as Vt,I as Tt,J as Ge,K as m,L as We}from"./index-DRaBk72F.js";import{e as Z}from"./index-B6qQiffF.js";const T={roomInfo:{url:"/home/room_info",get:async function(C){return await N.get(this.url,C)}},sysInfo:{url:"/home/sys_info",get:async function(C){return await N.get(this.url,C)}},worldInfo:{url:"/home/world_info",get:async function(C){return await N.get(this.url,C)}},exec:{url:"/home/exec",post:async function(C){return await N.post(this.url,C)}},allScreens:{url:"/home/cluster/all_screens",get:async function(C){return await N.get(this.url,C)}},screenKill:{url:"/home/cluster/screen_kill",post:async function(C){return await N.post(this.url,C)}},interface:{announce:{url:"/home/announce",post:async function(C){return await N.post(this.url,C)}},console:{url:"/home/console",post:async function(C){return await N.post(this.url,C)}}}},Nt={class:"page-div"},$t={class:"card-header"},Ut={key:1,class:"fcc",style:{height:"150px"}},Lt={class:"card-header"},Ft={class:"fcc"},Bt={class:"fcc"},Mt={class:"percentage-value"},At={class:"percentage-value"},Et={class:"percentage-label"},Rt={class:"card-header"},qt={key:0},Kt={key:1,class:"fcc",style:{height:"150px"}},Pt={class:"card-header"},Gt={key:0},Wt={class:"fcc"},Ot={style:{"margin-right":"10px"}},jt={key:1,class:"fcc",style:{height:"150px"}},Ht={class:"card-header"},Qt={style:{display:"flex","align-items":"center"}},Jt={key:1,class:"fcc",style:{height:"300px"}},Yt={class:"fcc",style:{height:"67vh"}},Xt={class:"fcc",style:{height:"67vh"}},Zt={class:"tip_warning"},el={class:"tip"},tl={style:{margin:"20px"}},ll={class:"tip"},ol={class:"tip_success"},al={key:0,class:"tip"},sl={style:{display:"flex","justify-content":"flex-end","padding-top":"30px"}},nl={style:{display:"flex","align-items":"center"}},ul={style:{display:"flex","align-items":"center"}},rl={style:{display:"flex","align-items":"center"}},il={style:{display:"flex","align-items":"center"}},dl={style:{display:"flex","align-items":"center"}},cl={style:{display:"flex","align-items":"center"}},ml={__name:"index",setup(C){yt(()=>{et(),Xe(),Ze(),ae(!1),lt(),He()});const{t:o}=Ct(),{isMobile:R}=bt(),r=wt(),Oe=kt(),ee=Ee(()=>r.isDark),g=Ee(()=>r.language),je=Oe.userInfo,He=async()=>{var c;await O(2e3),r.needTour=(((c=r.dstClusters)==null?void 0:c.length)||0)===0};y(!1);const te=y(!1),le=y(!1),$=y({server:0,local:0}),L=y(""),w=y({ip:"",port:"",password:""}),q=y(!1),Qe=()=>{r.customConnectionCode[r.selectedDstCluster]?w.value=r.customConnectionCode[r.selectedDstCluster]:w.value={ip:"",port:"",password:""},q.value=!0},Je=()=>{r.customConnectionCode[r.selectedDstCluster]=w.value,q.value=!1,E(g.value==="zh"?"更新成功":"Update Success"),he()},Ye=()=>{delete r.customConnectionCode[r.selectedDstCluster],q.value=!1,E(g.value==="zh"?"清除成功":"Clear Success"),he()},Xe=()=>{te.value=!0,Z.dstVersion.get().then(c=>{$.value=c.data}).finally(()=>{te.value=!1})},Ze=async()=>{r.customConnectionCode[r.selectedDstCluster]?r.customConnectionCode[r.selectedDstCluster].password?L.value=`c_connect('${r.customConnectionCode[r.selectedDstCluster].ip}', ${r.customConnectionCode[r.selectedDstCluster].port}, '${r.customConnectionCode[r.selectedDstCluster].password}'})`:L.value=`c_connect('${r.customConnectionCode[r.selectedDstCluster].ip}', ${r.customConnectionCode[r.selectedDstCluster].port})`:(le.value=!0,r.selectedDstCluster||await O(1e3),Z.connectionCode.get({clusterName:r.selectedDstCluster}).then(c=>{L.value=c.data}).finally(()=>{le.value=!1}))},h=y({clusterSetting:{},seasonInfo:{season:{},cycles:0,elapsedDays:0,seasonLength:{summer:15,autumn:20,spring:20,winter:15},phase:{}},modsCount:0,playerNum:0}),et=async()=>{r.selectedDstCluster||await O(1e3),T.roomInfo.get({clusterName:r.selectedDstCluster}).then(c=>{h.value=c.data})},ke=c=>h.value.seasonInfo.cycles>-1?`(${h.value.seasonInfo.elapsedDays}/${h.value.seasonInfo.seasonLength[c]})`:"",oe=y({cpu:0,memory:0}),Q=y([{id:"",stat:!1,world:"",type:"",cpu:0,mem:0,memSize:0,diskUsed:0}]),tt=()=>{T.sysInfo.get().then(c=>{oe.value=c.data})},ae=async(c=!0)=>{if(h.value.clusterSetting.name==="")return;c||r.selectedDstCluster||await O(1e3);const s={clusterName:r.selectedDstCluster};T.worldInfo.get(s).then(V=>{Q.value=V.data})},xe=[{color:"#5cb87a",percentage:20},{color:"#1989fa",percentage:40},{color:"#e6a23c",percentage:60},{color:"#f56c6c",percentage:80},{color:"#6f7ad3",percentage:100}];let J=null,se=null;const lt=()=>{J=setInterval(()=>{tt()},2e3),se=setInterval(()=>{r.selectedDstCluster&&ae()},1e4)},De=()=>{J&&(clearInterval(J),clearInterval(se),J=null,se=null)},ne=y(!1),ot=c=>{const s={clusterName:r.selectedDstCluster,worldName:c,type:"switch",extraData:""};ne.value=!0,T.exec.post(s).finally(async()=>{await ae(),await O(1500),ne.value=!1})},b=(c,s)=>{const V={startup:{en:"STARTUP",zh:"启动"},rollback:{en:"ROLLBACK",zh:"回档"},shutdown:{en:"SHUTDOWN",zh:"关闭"},restart:{en:"RESTART",zh:"重启"},update:{en:"UPDATE GAME",zh:"更新游戏"},reset:{en:"RESET GAME",zh:"重置游戏"},delete:{en:"DELETE GAME",zh:"删除世界"}};Ke.confirm(g.value==="zh"?`将执行 ${V[c].zh} 操作，是否继续？`:`The ${V[c].en} operation will be performed. Do you want to continue?`,g.value==="zh"?"请确认您的操作":"Please confirm your operation",{confirmButtonText:g.value==="zh"?"确定":"confirm",cancelButtonText:g.value==="zh"?"取消":"cancel",type:"warning",beforeClose:(k,p,D)=>{if(k==="confirm"){p.confirmButtonLoading=!0;const B={type:c,extraData:s,clusterName:r.selectedDstCluster,worldName:""};T.exec.post(B).then(v=>{E(v.message),D()}).catch(()=>{}).finally(()=>{p.confirmButtonLoading=!1})}else D()}}).then(()=>{}).catch(()=>{Pe(o("home.canceled"))})},ue=y(!1),K=y({message:""}),ze=()=>{if(K.value.message===""){we(g.value==="zh"?"请输入要宣告的内容":"Please enter the content to be announced");return}ue.value=!0;const c={type:"announce",extraData:K.value.message,clusterName:r.selectedDstCluster,worldName:""};T.exec.post(c).then(s=>{E(s.message),K.value.message=""}).finally(()=>{ue.value=!1})},re=y(!1),S=y({cmd:"",world:""}),Ie=()=>{if(S.value.world===""){we(g.value==="zh"?"请选择地面或洞穴":"Please select a world from ground and cave");return}if(S.value.cmd===""){we(g.value==="zh"?"请输入要执行的命令":"Please enter the command to execute");return}re.value=!0;const c={type:"console",extraData:S.value.cmd,clusterName:r.selectedDstCluster,worldName:S.value.world};T.exec.post(c).then(s=>{E(s.message),S.value.cmd=""}).finally(()=>{re.value=!1})},ie=y(!1),de=y(!1),Se=y([]),at=()=>{ie.value=!0,de.value=!0;const c={clusterName:r.selectedDstCluster};Z.modInfo.get(c).then(s=>{Se.value=s.data}).finally(()=>{de.value=!1})},ce=y(!1),Ve=y([]),me=y(!1),Te=()=>{me.value=!0,ce.value=!0;const c={clusterName:r.selectedDstCluster};T.allScreens.get(c).then(s=>{Ve.value=s.data}).finally(()=>{ce.value=!1}),Ne()},st=c=>{Ke.confirm(g.value==="zh"?"将执行 关闭进程 操作，是否继续？":"The shutdown operation will be performed. Do you want to continue?",g.value==="zh"?"请确认您的操作":"Please confirm your operation",{confirmButtonText:g.value==="zh"?"确定":"confirm",cancelButtonText:g.value==="zh"?"取消":"cancel",type:"warning",beforeClose:(s,V,k)=>{if(s==="confirm"){V.confirmButtonLoading=!0;const p={screenName:c};T.screenKill.post(p).then(D=>{E(D.message),Te(),k()}).catch(()=>{}).finally(()=>{V.confirmButtonLoading=!1})}else k()}}).then(()=>{}).catch(()=>{Pe(o("home.canceled"))})},nt=[{label:"ap-southeast-1",value:"ap-southeast-1"},{label:"ap-east-1",value:"ap-east-1"},{label:"us-east-1",value:"us-east-1"},{label:"eu-central-1",value:"eu-central-1"}],pe=y(["ap-southeast-1","ap-east-1"]),fe=y(!1),F=y(!1),Ne=()=>{F.value=!0;const c={clusterName:r.selectedDstCluster,regions:pe.value};Z.checkLobby.post(c).then(s=>{fe.value=s.data}).finally(()=>{F.value=!1})},Y=St();Vt();const $e=xt(),Ue=Tt("refresh"),he=()=>{setTimeout(()=>{Y.meta.isKeepAlive&&$e.removeKeepAliveName(Y.name),Ue(!1),Ge(()=>{Y.meta.isKeepAlive&&$e.addKeepAliveName(Y.name),Ue(!0)})},0)};return Dt(()=>{De(),window.removeEventListener("beforeunload",De)}),zt(()=>r.selectedDstCluster,c=>{c&&Ge(()=>{he()})},{immediate:!1}),(c,s)=>{const V=m("DocumentCopy"),k=m("el-icon"),p=m("el-button"),D=m("el-descriptions-item"),B=m("el-tooltip"),v=m("el-tag"),ut=m("el-descriptions"),M=m("el-result"),U=m("el-card"),I=m("el-col"),Le=m("QuestionFilled"),Fe=m("el-progress"),X=m("el-row"),P=m("el-form-item"),ve=m("el-form"),G=m("el-input"),Be=m("el-option"),Me=m("el-select"),x=m("el-table-column"),rt=m("el-switch"),_e=m("el-table"),it=m("el-image"),ge=m("el-dialog"),dt=m("Loading"),ye=m("el-alert"),ct=m("MilkTea"),A=m("el-tour-step"),mt=m("Sugar"),pt=m("ColdDrink"),ft=m("Dessert"),ht=m("Fries"),vt=m("IceDrink"),_t=m("el-tour"),Ae=We("copy"),Ce=We("loading");return i(),z("div",Nt,[$.value.local!==-1?(i(),z(j,{key:0},[l(r).dstClusters?(i(),z(j,{key:0},[t(X,{gutter:10},{default:e(()=>[t(I,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(U,{shadow:"never",style:{"min-height":"250px"}},{header:e(()=>[d("div",$t,n(l(o)("home.roomInfo")),1)]),default:e(()=>[h.value.clusterSetting.name!==""?(i(),f(ut,{key:0,column:l(R)?1:2},{default:e(()=>[t(D,{label:l(o)("home.roomName")},{default:e(()=>[H((i(),f(p,{link:"",type:"primary"},{default:e(()=>[u(n(h.value.clusterSetting.name)+" ",1),t(k,{style:{"margin-left":"3px"}},{default:e(()=>[t(V)]),_:1})]),_:1})),[[Ae,h.value.clusterSetting.name]])]),_:1},8,["label"]),t(D,{label:l(o)("home.connectionCode")},{default:e(()=>[t(B,{content:L.value,effect:"light",placement:"top"},{default:e(()=>[H((i(),f(p,{disabled:L.value==="",loading:le.value,link:"",type:"primary"},{default:e(()=>[u(n(l(o)("home.copy")),1)]),_:1},8,["disabled","loading"])),[[Ae,L.value]])]),_:1},8,["content"]),t(p,{link:"",type:"info",onClick:Qe},{default:e(()=>[u(n(l(o)("home.customConnectionCode")),1)]),_:1})]),_:1},8,["label"]),t(D,{label:l(o)("home.cycles")},{default:e(()=>[t(v,{type:h.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(n(h.value.seasonInfo.cycles),1)]),_:1},8,["type"])]),_:1},8,["label"]),t(D,{label:l(o)("home.phase")},{default:e(()=>[g.value==="en"?(i(),f(v,{key:0,type:h.value.seasonInfo.phase.en==="Failed to retrieve"?"danger":"success"},{default:e(()=>[u(n(h.value.seasonInfo.phase.en),1)]),_:1},8,["type"])):_("",!0),g.value==="zh"?(i(),f(v,{key:1,type:h.value.seasonInfo.phase.zh==="获取失败"?"danger":"success"},{default:e(()=>[u(n(h.value.seasonInfo.phase.zh),1)]),_:1},8,["type"])):_("",!0)]),_:1},8,["label"]),t(D,{label:l(o)("home.season")},{default:e(()=>[g.value==="en"?(i(),f(v,{key:0,type:h.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(n(h.value.seasonInfo.season.en)+" "+n(ke(h.value.seasonInfo.season.en)),1)]),_:1},8,["type"])):_("",!0),g.value==="zh"?(i(),f(v,{key:1,type:h.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(n(h.value.seasonInfo.season.zh)+" "+n(ke(h.value.seasonInfo.season.en)),1)]),_:1},8,["type"])):_("",!0)]),_:1},8,["label"]),t(D,{label:l(o)("home.mods")},{default:e(()=>[t(v,null,{default:e(()=>[u(n(h.value.modsCount),1)]),_:1}),t(p,{link:"",style:{"margin-left":"10px"},type:"primary",onClick:at},{default:e(()=>[u(n(l(o)("home.modsButton")),1)]),_:1})]),_:1},8,["label"]),t(D,{label:l(o)("home.version")},{default:e(()=>[H((i(),f(v,{type:$.value.local===$.value.server?"success":"danger"},{default:e(()=>[u(" ("+n($.value.local)+"/"+n($.value.server)+") ",1)]),_:1},8,["type"])),[[Ce,te.value]])]),_:1},8,["label"]),t(D,{label:l(o)("home.playerNum")},{default:e(()=>[t(v,{type:"primary"},{default:e(()=>[u(n(h.value.playerNum),1)]),_:1})]),_:1},8,["label"])]),_:1},8,["column"])):_("",!0),h.value.clusterSetting.name===""?(i(),z("div",Ut,[t(M,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])])):_("",!0)]),_:1})]),_:1}),t(I,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(U,{shadow:"never",style:{"min-height":"250px"}},{header:e(()=>[d("div",Lt,[d("div",Ft,[u(n(l(o)("home.sysInfo"))+" ",1),t(B,{content:l(o)("home.sysInfoTip"),effect:"light",placement:"top"},{default:e(()=>[t(k,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[t(Le)]),_:1})]),_:1},8,["content"])])])]),default:e(()=>[d("div",Bt,[t(Fe,{color:xe,percentage:oe.value.cpu,type:"dashboard"},{default:e(({percentage:a})=>[d("span",Mt,n(a.toFixed(1)),1),s[27]||(s[27]=d("span",{class:"percentage-label"},"CPU",-1))]),_:1},8,["percentage"]),t(Fe,{color:xe,percentage:oe.value.memory,style:{"margin-left":"10%"},type:"dashboard"},{default:e(({percentage:a})=>[d("span",At,n(a.toFixed(1)),1),d("span",Et,n(l(o)("home.mem")),1)]),_:1},8,["percentage"])])]),_:1})]),_:1})]),_:1}),t(X,{gutter:10},{default:e(()=>[t(I,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(U,{style:{"min-height":"300px"},shadow:"never"},{header:e(()=>[d("div",Rt,n(l(o)("home.control")),1)]),default:e(()=>[h.value.clusterSetting.name!==""?(i(),z("div",qt,[t(ve,{size:"large"},{default:e(()=>[t(P,{label:l(o)("home.rollback")},{default:e(()=>[l(R)?(i(),f(I,{key:0},{default:e(()=>[t(p,{size:"small",onClick:s[0]||(s[0]=a=>b("rollback",1))},{default:e(()=>[u("1"+n(l(o)("home.day")),1)]),_:1}),t(p,{size:"small",onClick:s[1]||(s[1]=a=>b("rollback",2))},{default:e(()=>[u(" 2"+n(l(o)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:s[2]||(s[2]=a=>b("rollback",3))},{default:e(()=>[u(" 3"+n(l(o)("home.days")),1)]),_:1})]),_:1})):_("",!0),l(R)?(i(),f(I,{key:1},{default:e(()=>[t(p,{size:"small",onClick:s[3]||(s[3]=a=>b("rollback",4))},{default:e(()=>[u(" 4"+n(l(o)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:s[4]||(s[4]=a=>b("rollback",5))},{default:e(()=>[u(" 5"+n(l(o)("home.days")),1)]),_:1})]),_:1})):_("",!0),l(R)?_("",!0):(i(),f(I,{key:2},{default:e(()=>[t(p,{size:"small",onClick:s[5]||(s[5]=a=>b("rollback",1))},{default:e(()=>[u("1"+n(l(o)("home.day")),1)]),_:1}),t(p,{size:"small",onClick:s[6]||(s[6]=a=>b("rollback",2))},{default:e(()=>[u(" 2"+n(l(o)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:s[7]||(s[7]=a=>b("rollback",3))},{default:e(()=>[u(" 3"+n(l(o)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:s[8]||(s[8]=a=>b("rollback",4))},{default:e(()=>[u(" 4"+n(l(o)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:s[9]||(s[9]=a=>b("rollback",5))},{default:e(()=>[u(" 5"+n(l(o)("home.days")),1)]),_:1})]),_:1}))]),_:1},8,["label"])]),_:1}),t(ve,{size:"large"},{default:e(()=>[t(P,null,{default:e(()=>[t(p,{size:"default",type:"success",onClick:s[10]||(s[10]=a=>b("startup",0))},{default:e(()=>[u(n(l(o)("home.startup")),1)]),_:1}),t(p,{size:"default",type:"primary",onClick:s[11]||(s[11]=a=>b("restart",0))},{default:e(()=>[u(n(l(o)("home.restart")),1)]),_:1}),t(p,{disabled:l(je).role!=="admin",size:"default",type:"warning",onClick:s[12]||(s[12]=a=>b("update",0))},{default:e(()=>[u(n(l(o)("home.update")),1)]),_:1},8,["disabled"])]),_:1}),t(P,null,{default:e(()=>[t(p,{size:"default",type:"warning",onClick:s[13]||(s[13]=a=>b("shutdown",0))},{default:e(()=>[u(n(l(o)("home.shutdown")),1)]),_:1}),t(p,{size:"default",type:"danger",onClick:s[14]||(s[14]=a=>b("reset",0))},{default:e(()=>[u(n(l(o)("home.reset")),1)]),_:1}),t(B,{content:l(o)("home.deleteTips"),effect:"light",placement:"top"},{default:e(()=>[t(p,{color:"#626aef",size:"default",onClick:s[15]||(s[15]=a=>b("delete",0))},{default:e(()=>[u(n(l(o)("home.delete")),1)]),_:1})]),_:1},8,["content"])]),_:1})]),_:1})])):_("",!0),h.value.clusterSetting.name===""?(i(),z("div",Kt,[t(M,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])])):_("",!0)]),_:1})]),_:1}),t(I,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(U,{style:{"min-height":"300px"},shadow:"never"},{header:e(()=>[d("div",Pt,n(l(o)("home.interface")),1)]),default:e(()=>[h.value.clusterSetting.name!==""?(i(),z("div",Gt,[t(ve,{"label-position":"top"},{default:e(()=>[t(P,{label:l(o)("home.announcement")},{default:e(()=>[t(G,{modelValue:K.value.message,"onUpdate:modelValue":s[16]||(s[16]=a=>K.value.message=a),onKeyup:Re(ze,["enter"])},{append:e(()=>[t(p,{loading:ue.value,onClick:ze},{default:e(()=>[u(n(l(o)("home.send")),1)]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(P,{label:"Console"},{default:e(()=>[t(G,{modelValue:S.value.cmd,"onUpdate:modelValue":s[18]||(s[18]=a=>S.value.cmd=a),onKeyup:Re(Ie,["enter"])},{prepend:e(()=>[t(Me,{modelValue:S.value.world,"onUpdate:modelValue":s[17]||(s[17]=a=>S.value.world=a),style:{width:"115px"}},{default:e(()=>[(i(!0),z(j,null,be(Q.value,a=>(i(),f(Be,{disabled:!a.stat,label:a.world,value:a.world},{default:e(()=>[d("div",Wt,[d("span",Ot,n(a.world),1),a.type==="forest"?(i(),f(v,{key:0,type:"success"},{default:e(()=>s[28]||(s[28]=[u("地面")])),_:1})):_("",!0),a.type==="cave"?(i(),f(v,{key:1,type:"warning"},{default:e(()=>s[29]||(s[29]=[u("洞穴")])),_:1})):_("",!0),a.type==="None"?(i(),f(v,{key:2,type:"danger"},{default:e(()=>s[30]||(s[30]=[u("未识别")])),_:1})):_("",!0)])]),_:2},1032,["disabled","label","value"]))),256))]),_:1},8,["modelValue"])]),append:e(()=>[t(p,{loading:re.value,onClick:Ie},{default:e(()=>[u(n(l(o)("home.execute")),1)]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1})]),_:1})])):_("",!0),h.value.clusterSetting.name===""?(i(),z("div",jt,[t(M,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])])):_("",!0)]),_:1})]),_:1})]),_:1}),t(X,{gutter:10},{default:e(()=>[t(I,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(U,{style:It(l(R)?"min-height: 300px":"height: 400px"),shadow:"never"},{header:e(()=>[d("div",Ht,[d("span",null,n(g.value==="zh"?"世界信息":"World Info"),1),t(p,{link:"",type:"primary",onClick:Te},{default:e(()=>[u(n(g.value==="zh"?"检查世界":"Check World"),1)]),_:1})])]),default:e(()=>[Q.value?(i(),f(_e,{key:0,data:Q.value,border:""},{default:e(()=>[t(x,{label:"ID",prop:"id"},{default:e(a=>[t(v,{type:"info"},{default:e(()=>[u(n(a.row.id),1)]),_:2},1024)]),_:1}),t(x,{label:l(o)("home.worldName"),prop:"world"},{default:e(a=>[t(v,{type:"primary"},{default:e(()=>[u(n(a.row.world),1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(o)("home.type"),prop:"type"},{default:e(a=>[a.row.type==="forest"?(i(),f(v,{key:0,type:"success"},{default:e(()=>[u(n(g.value==="zh"?"地面":"Ground"),1)]),_:1})):_("",!0),a.row.type==="cave"?(i(),f(v,{key:1,type:"warning"},{default:e(()=>[u(n(g.value==="zh"?"洞穴":"Cave"),1)]),_:1})):_("",!0),a.row.type==="None"?(i(),f(v,{key:2,type:"danger"},{default:e(()=>[u(n(g.value==="zh"?"未识别":"Undefined"),1)]),_:1})):_("",!0)]),_:1},8,["label"]),t(x,{label:l(o)("home.isMaster"),prop:"isMaster"},{default:e(a=>[a.row.isMaster?(i(),f(v,{key:0,type:"primary"},{default:e(()=>[u(n(g.value==="zh"?"是":"Yes"),1)]),_:1})):(i(),f(v,{key:1,type:"info"},{default:e(()=>[u(n(g.value==="zh"?"否":"No"),1)]),_:1}))]),_:1},8,["label"]),t(x,{prop:"cpu"},{header:e(()=>[d("div",Qt,[s[31]||(s[31]=d("span",null,"CPU",-1)),t(B,{content:l(o)("home.cpuTip"),effect:"light",placement:"top"},{default:e(()=>[t(k,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[t(Le)]),_:1})]),_:1},8,["content"])])]),default:e(a=>[t(v,{type:"info"},{default:e(()=>[u(n(a.row.cpu.toFixed(2))+"%",1)]),_:2},1024)]),_:1}),t(x,{label:l(o)("home.memory")+"(MiB)",prop:"mem"},{default:e(a=>[t(v,{type:"info"},{default:e(()=>[u(n(a.row.memSize.toFixed(0))+" ["+n(a.row.mem.toFixed(0))+"%]",1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(o)("home.disk"),prop:"diskUsed"},{default:e(a=>[t(v,{type:"info"},{default:e(()=>[u(n(l(qe)(a.row.diskUsed,0)),1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(o)("home.status"),prop:"stat"},{default:e(a=>[t(rt,{modelValue:a.row.stat,"onUpdate:modelValue":W=>a.row.stat=W,"inline-prompt":"","active-text":l(o)("home.running"),"inactive-text":l(o)("home.terminated"),loading:ne.value,onChange:W=>ot(a.row.world)},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text","loading","onChange"])]),_:1},8,["label"])]),_:1},8,["data"])):(i(),z("div",Jt,[t(M,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])]))]),_:1},8,["style"])]),_:1})]),_:1})],64)):(i(),f(U,{key:1,shadow:"never"},{default:e(()=>[d("div",Yt,[t(M,{title:"请创建集群后再使用本平台功能",icon:"warning"})])]),_:1}))],64)):_("",!0),$.value.local===-1?(i(),f(U,{key:1,shadow:"never"},{default:e(()=>[d("div",Xt,[t(M,{title:"请先安装游戏后再使用本平台功能","sub-title":"请前往 工具-安装游戏 页面，或使用脚本进行手动安装",icon:"warning"})])]),_:1})):_("",!0),t(ge,{modelValue:ie.value,"onUpdate:modelValue":s[19]||(s[19]=a=>ie.value=a),"close-on-click-modal":!1,title:l(o)("home.modsTable.title"),width:"80%"},{default:e(()=>[H((i(),f(_e,{data:Se.value,border:"",height:"70vh",size:"small",style:{width:"100%"},"tooltip-effect":"light"},{default:e(()=>[t(x,{label:l(o)("home.modsTable.name"),prop:"name"},null,8,["label"]),t(x,{label:l(o)("home.modsTable.pics"),prop:"preview_url",width:"120px"},{default:e(a=>[t(it,{src:a.row.preview_url,fit:"fill",style:{width:"100px",height:"100px"}},null,8,["src"])]),_:1},8,["label"]),t(x,{label:l(o)("home.modsTable.size"),prop:"size"},{default:e(a=>[u(n(l(qe)(a.row.size)),1)]),_:1},8,["label"]),t(x,{label:l(o)("home.modsTable.id"),prop:"id"},null,8,["label"]),t(x,{label:l(o)("home.modsTable.tags"),prop:"tags"},{default:e(a=>[(i(!0),z(j,null,be(a.row.tags,W=>(i(),f(v,{style:{margin:"0 5px 5px 0"}},{default:e(()=>[u(n(W.display_name),1)]),_:2},1024))),256))]),_:1},8,["label"])]),_:1},8,["data"])),[[Ce,de.value]])]),_:1},8,["modelValue","title"]),t(ge,{modelValue:me.value,"onUpdate:modelValue":s[21]||(s[21]=a=>me.value=a),width:"60%"},{header:e(()=>[u(n(l(o)("home.screenDialog.title")),1)]),default:e(()=>[t(Me,{modelValue:pe.value,"onUpdate:modelValue":s[20]||(s[20]=a=>pe.value=a),multiple:"",disabled:F.value,onChange:Ne,style:{margin:"20px 0"}},{default:e(()=>[(i(),z(j,null,be(nt,a=>t(Be,{label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"]),F.value?(i(),f(ye,{key:0,closable:!1,type:"info","show-icon":"",effect:ee.value?"light":"dark"},{icon:e(()=>[t(k,{class:"is-loading"},{default:e(()=>[t(dt)]),_:1})]),default:e(()=>[u(" "+n(l(o)("home.screenDialog.tip3")),1)]),_:1},8,["effect"])):_("",!0),fe.value&&!F.value?(i(),f(ye,{key:1,closable:!1,type:"success","show-icon":"",effect:ee.value?"light":"dark"},{default:e(()=>[u(n(l(o)("home.screenDialog.tip4")),1)]),_:1},8,["effect"])):_("",!0),!fe.value&&!F.value?(i(),f(ye,{key:2,closable:!1,type:"error","show-icon":"",effect:ee.value?"light":"dark"},{default:e(()=>[u(n(l(o)("home.screenDialog.tip5")),1)]),_:1},8,["effect"])):_("",!0),d("div",Zt,n(l(o)("home.screenDialog.tip1")),1),d("div",el,n(l(o)("home.screenDialog.tip2")),1),H((i(),f(_e,{data:Ve.value,border:""},{default:e(()=>[t(x,{label:l(o)("home.screenDialog.column1"),prop:"screenName"},{default:e(a=>[t(v,{type:"primary"},{default:e(()=>[u(n(a.row.screenName),1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(o)("home.screenDialog.column2")},{default:e(a=>[t(p,{type:"danger",size:"small",onClick:W=>st(a.row.screenName)},{default:e(()=>[u(n(l(o)("home.screenDialog.stop")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[Ce,ce.value]])]),_:1},8,["modelValue"]),t(ge,{modelValue:q.value,"onUpdate:modelValue":s[25]||(s[25]=a=>q.value=a),width:"60%"},{default:e(()=>[d("div",tl,[d("div",ll,n(l(o)("home.customConnectionCodeTip")),1),d("div",ol,n(l(o)("home.customConnectionCodeTip2")),1),t(X,{gutter:20},{default:e(()=>[t(I,{span:8},{default:e(()=>[t(G,{modelValue:w.value.ip,"onUpdate:modelValue":s[22]||(s[22]=a=>w.value.ip=a),placeholder:l(o)("home.ip")},null,8,["modelValue","placeholder"])]),_:1}),t(I,{span:8},{default:e(()=>[t(G,{modelValue:w.value.port,"onUpdate:modelValue":s[23]||(s[23]=a=>w.value.port=a),placeholder:l(o)("home.port")},null,8,["modelValue","placeholder"])]),_:1}),t(I,{span:8},{default:e(()=>[t(G,{modelValue:w.value.password,"onUpdate:modelValue":s[24]||(s[24]=a=>w.value.password=a),placeholder:l(o)("home.password")},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),w.value.ip&&w.value.port?(i(),z("div",al,[d("strong",null,n(l(o)("home.preview"))+": ",1),u(" c_connect('"+n(w.value.ip)+"', "+n(w.value.port)+n(w.value.password?`, '${w.value.password}'`:"")+") ",1)])):_("",!0),d("div",sl,[t(p,{type:"danger",onClick:Ye},{default:e(()=>[u(n(l(o)("home.clear")),1)]),_:1}),t(p,{type:"primary",onClick:Je},{default:e(()=>[u(n(l(o)("home.submit")),1)]),_:1})])])]),_:1},8,["modelValue"]),t(_t,{modelValue:l(r).needTour,"onUpdate:modelValue":s[26]||(s[26]=a=>l(r).needTour=a)},{default:e(()=>[t(A,{title:l(o)("home.tour.one.title")},{default:e(()=>[d("div",nl,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(ct)]),_:1}),d("span",null,n(l(o)("home.tour.one.desc")),1)])]),_:1},8,["title"]),t(A,{target:"#tourUser",title:l(o)("home.tour.two.title")},{default:e(()=>[d("div",ul,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(mt)]),_:1}),d("span",null,n(l(o)("home.tour.two.desc")),1)])]),_:1},8,["title"]),t(A,{target:"#tourClusterSelect",title:l(o)("home.tour.three.title")},{default:e(()=>[d("div",rl,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(pt)]),_:1}),d("span",null,n(l(o)("home.tour.three.desc")),1)])]),_:1},8,["title"]),t(A,{target:"#tourMessage",title:l(o)("home.tour.four.title")},{default:e(()=>[d("div",il,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(ft)]),_:1}),d("span",null,n(l(o)("home.tour.four.desc")),1)])]),_:1},8,["title"]),t(A,{target:"#tourGithub",title:l(o)("home.tour.five.title")},{default:e(()=>[d("div",dl,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(ht)]),_:1}),d("span",null,n(l(o)("home.tour.five.desc")),1)])]),_:1},8,["title"]),t(A,{title:l(o)("home.tour.six.title")},{default:e(()=>[d("div",cl,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(vt)]),_:1}),d("span",null,n(l(o)("home.tour.six.desc")),1)])]),_:1},8,["title"])]),_:1},8,["modelValue"])])}}},hl=gt(ml,[["__scopeId","data-v-1a73fe19"]]);export{hl as default};
