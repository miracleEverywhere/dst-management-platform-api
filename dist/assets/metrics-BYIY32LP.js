import{t as O}from"./index-B-x_xUxH.js";import{u as U,a as V,g as L,c as C,r as l,o as N,J as r,f as S,i as A,l as a,m as i,n as h,p as b,F as H,x as $,t as j,j as K,$ as T,B as q}from"./index-DJcsU7tJ.js";import{S as m}from"./index-CEvEgqNj.js";import{t as v}from"./tools-Cds-4ePh.js";const I={class:"page-div"},J={class:"card-header"},P=T({name:"toolsMetrics"}),Z=Object.assign(P,{setup(W){const{t:k}=U();V();const g=L();C(()=>g.isDark);const o=C(()=>g.language),n=l(30);N(()=>{x(n.value,!1)});const F=[{label:o.value==="zh"?"30分钟":"30 Minutes",value:30},{label:o.value==="zh"?"60分钟":"60 Minutes",value:60},{label:o.value==="zh"?"3小时":"3 Hours",value:180},{label:o.value==="zh"?"6小时":"6 Hours",value:360},{label:o.value==="zh"?"12小时":"12 Hours",value:720},{label:o.value==="zh"?"24小时":"24 Hours",value:1440},{label:o.value==="zh"?"全部":"All Time",value:0}],x=(_,e)=>{const d={timeRange:_};O.metrics.get(d).then(y=>{u.value.xAxis.data=[],p.value.xAxis.data=[],f.value.xAxis.data=[],c.value.xAxis.data=[],u.value.series[0].data=[],p.value.series[0].data=[],f.value.series[0].data=[],c.value.series[0].data=[];for(let t of y.data)u.value.xAxis.data.push(v(t.timestamp)),p.value.xAxis.data.push(v(t.timestamp)),f.value.xAxis.data.push(v(t.timestamp)),c.value.xAxis.data.push(v(t.timestamp)),u.value.series[0].data.push(t.cpu.toFixed(2)),p.value.series[0].data.push(t.memory.toFixed(2)),f.value.series[0].data.push(t.netUplink.toFixed(2)),c.value.series[0].data.push(t.netDownlink.toFixed(2));e&&q(o.value==="zh"?"刷新成功":"Refresh Success")})},R=l(),w=l(),z=l(),E=l(),u=l({title:{text:"CPU"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}%"}},series:[{data:[],type:"line",smooth:!0,itemStyle:{normal:{color:"#409EFF",lineStyle:{color:"#409EFF"}}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#409EFF"},{offset:1,color:"#ffffff00"}],global:!1}}}]}),p=l({title:{text:"Memory"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}%"}},series:[{data:[],type:"line",smooth:!0,itemStyle:{normal:{color:"#67C23A",lineStyle:{color:"#67C23A"}}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#67C23A"},{offset:1,color:"#ffffff00"}],global:!1}}}]}),f=l({title:{text:"Net ↑"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value} KiB/s"}},series:[{data:[],type:"line",smooth:!0,itemStyle:{normal:{color:"#E6A23C",lineStyle:{color:"#E6A23C"}}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#E6A23C"},{offset:1,color:"#ffffff00"}],global:!1}}}]}),c=l({title:{text:"Net ↓"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value} KiB/s"}},series:[{data:[],type:"line",smooth:!0,itemStyle:{normal:{color:"#F56C6C",lineStyle:{color:"#F56C6C"}}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#F56C6C"},{offset:1,color:"#ffffff00"}],global:!1}}}]});return(_,e)=>{const d=r("el-option"),y=r("el-select"),t=r("el-button"),D=r("el-card"),M=r("el-col"),B=r("el-row");return S(),A("div",I,[a(B,{gutter:10},{default:i(()=>[a(M,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:i(()=>[a(D,{shadow:"never"},{header:i(()=>[h("div",J,[e[3]||(e[3]=b(" 系统信息 ")),h("div",null,[a(y,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),style:{"font-weight":"lighter",width:"100px"},onChange:e[1]||(e[1]=s=>x(n.value,!1))},{default:i(()=>[(S(),A(H,null,$(F,s=>a(d,{key:s.value,label:s.label,value:s.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),a(t,{size:"default",style:{"margin-left":"5px"},onClick:e[2]||(e[2]=s=>x(n.value,!0))},{default:i(()=>[b(j(K(k)("setting.refresh")),1)]),_:1})])])]),default:i(()=>[h("div",null,[a(m,{ref_key:"cpuChartRef",ref:R,option:u.value,height:"25vh"},null,8,["option"]),a(m,{ref_key:"memoryChartRef",ref:w,option:p.value,height:"25vh",style:{"margin-top":"20px"}},null,8,["option"]),a(m,{ref_key:"netUplinkChartRef",ref:z,option:f.value,height:"25vh",style:{"margin-top":"20px"}},null,8,["option"]),a(m,{ref_key:"netDownlinkChartRef",ref:E,option:c.value,height:"25vh",style:{"margin-top":"20px"}},null,8,["option"])])]),_:1})]),_:1})]),_:1})])}}});export{Z as default};
