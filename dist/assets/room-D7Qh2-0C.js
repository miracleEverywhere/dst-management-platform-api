import{ae as zt,af as sn,_ as dn,u as fn,o as cn,r as Be,a as mn,g as pn,b as gn,c as Wt,D as hn,G as _n,d as yn,H as Tn,a0 as Tt,Q as bn,w as kn,I as vt,J as Re,f as R,i as le,l as L,m as E,j as a,q as re,n as Q,t as D,z as rt,ag as Yt,v as Fe,p as se,ah as Zt,F as Me,x as Ge,C as at,A as Bt}from"./index-D1LqIXa4.js";import{s as Qt}from"./index-CqTRgM_r.js";import{g as ht,_ as Pe,o as B,a as Lt,c as Vt,b as Gt,d as Ct}from"./levelDataSetting-C7zQqznj.js";import{M as vn}from"./preview-D1AieFeq.js";import{b as Sn}from"./tools-DGywyC8M.js";var It={exports:{}};It.exports;(function(ft,v){(function(Ve,C,U){var be=v&&!v.nodeType&&v,ce=ft&&!ft.nodeType&&ft,Ce=be&&ce&&typeof zt=="object"&&zt,ct=ce&&ce.exports===be&&be;Ce&&(Ce.global===Ce||Ce.window===Ce||Ce.self===Ce)&&(Ve=Ce),U(be&&ce?ct?ce.exports:be:Ve[C]={})})(zt,"luaparse",function(Ve){Ve.version="0.3.1";var C,U,be,ce,Ce,ct=Ve.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:"5.1",encodingMode:"none"};function Se(n,o){return o=o||0,n<128?String.fromCharCode(n):n<2048?String.fromCharCode(o|192|n>>6,o|128|n&63):n<65536?String.fromCharCode(o|224|n>>12,o|128|n>>6&63,o|128|n&63):n<1114112?String.fromCharCode(o|240|n>>18,o|128|n>>12&63,o|128|n>>6&63,o|128|n&63):null}function mt(n,o){for(var y=n.toString(16);y.length<o;)y="0"+y;return y}function qe(n){return function(o){var y=n.exec(o);if(!y)return o;me(null,ae.invalidCodeUnit,mt(y[0].charCodeAt(0),4).toUpperCase())}}var pt={"pseudo-latin1":{fixup:qe(/[^\x00-\xff]/),encodeByte:function(n){return n===null?"":String.fromCharCode(n)},encodeUTF8:function(n){return Se(n)}},"x-user-defined":{fixup:qe(/[^\x00-\x7f\uf780-\uf7ff]/),encodeByte:function(n){return n===null?"":n>=128?String.fromCharCode(n|63232):String.fromCharCode(n)},encodeUTF8:function(n){return Se(n,63232)}},none:{discardStrings:!0,fixup:function(n){return n},encodeByte:function(n){return""},encodeUTF8:function(n){return""}}},ut=1,Ye=2,et=4,Ke=8,it=16,je=32,tt=64,st=128,nt=256;Ve.tokenTypes={EOF:ut,StringLiteral:Ye,Keyword:et,Identifier:Ke,NumericLiteral:it,Punctuator:je,BooleanLiteral:tt,NilLiteral:st,VarargLiteral:nt};var ae=Ve.errors={unexpected:"unexpected %1 '%2' near '%3'",unexpectedEOF:"unexpected symbol near '<eof>'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",decimalEscapeTooLarge:"decimal escape too large near '%1'",invalidEscape:"invalid escape sequence near '%1'",hexadecimalDigitExpected:"hexadecimal digit expected near '%1'",braceExpected:"missing '%1' near '%2'",tooLargeCodepoint:"UTF-8 value too large near '%1'",unfinishedLongString:"unfinished long string (starting at line %1) near '%2'",unfinishedLongComment:"unfinished long comment (starting at line %1) near '%2'",ambiguousSyntax:"ambiguous syntax (function call x new statement) near '%1'",noLoopToBreak:"no loop to break near '%1'",labelAlreadyDefined:"label '%1' already defined on line %2",labelNotVisible:"no visible label '%1' for <goto>",gotoJumpInLocalScope:"<goto %1> jumps into the scope of local '%2'",cannotUseVararg:"cannot use '...' outside a vararg function near '%1'",invalidCodeUnit:"code unit U+%1 is not allowed in the current encoding mode"},ye=Ve.ast={labelStatement:function(n){return{type:"LabelStatement",label:n}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(n){return{type:"GotoStatement",label:n}},returnStatement:function(n){return{type:"ReturnStatement",arguments:n}},ifStatement:function(n){return{type:"IfStatement",clauses:n}},ifClause:function(n,o){return{type:"IfClause",condition:n,body:o}},elseifClause:function(n,o){return{type:"ElseifClause",condition:n,body:o}},elseClause:function(n){return{type:"ElseClause",body:n}},whileStatement:function(n,o){return{type:"WhileStatement",condition:n,body:o}},doStatement:function(n){return{type:"DoStatement",body:n}},repeatStatement:function(n,o){return{type:"RepeatStatement",condition:n,body:o}},localStatement:function(n,o){return{type:"LocalStatement",variables:n,init:o}},assignmentStatement:function(n,o){return{type:"AssignmentStatement",variables:n,init:o}},callStatement:function(n){return{type:"CallStatement",expression:n}},functionStatement:function(n,o,y,M){return{type:"FunctionDeclaration",identifier:n,isLocal:y,parameters:o,body:M}},forNumericStatement:function(n,o,y,M,W){return{type:"ForNumericStatement",variable:n,start:o,end:y,step:M,body:W}},forGenericStatement:function(n,o,y){return{type:"ForGenericStatement",variables:n,iterators:o,body:y}},chunk:function(n){return{type:"Chunk",body:n}},identifier:function(n){return{type:"Identifier",name:n}},literal:function(n,o,y){return n=n===Ye?"StringLiteral":n===it?"NumericLiteral":n===tt?"BooleanLiteral":n===st?"NilLiteral":"VarargLiteral",{type:n,value:o,raw:y}},tableKey:function(n,o){return{type:"TableKey",key:n,value:o}},tableKeyString:function(n,o){return{type:"TableKeyString",key:n,value:o}},tableValue:function(n){return{type:"TableValue",value:n}},tableConstructorExpression:function(n){return{type:"TableConstructorExpression",fields:n}},binaryExpression:function(n,o,y){var M=n==="and"||n==="or"?"LogicalExpression":"BinaryExpression";return{type:M,operator:n,left:o,right:y}},unaryExpression:function(n,o){return{type:"UnaryExpression",operator:n,argument:o}},memberExpression:function(n,o,y){return{type:"MemberExpression",indexer:o,identifier:y,base:n}},indexExpression:function(n,o){return{type:"IndexExpression",base:n,index:o}},callExpression:function(n,o){return{type:"CallExpression",base:n,arguments:o}},tableCallExpression:function(n,o){return{type:"TableCallExpression",base:n,arguments:o}},stringCallExpression:function(n,o){return{type:"StringCallExpression",base:n,argument:o}},comment:function(n,o){return{type:"Comment",value:n,raw:o}}};function pe(n){if(I){var o=P.pop();o.complete(),o.bless(n)}return U.onCreateNode&&U.onCreateNode(n),n}var lt=Array.prototype.slice,_t=function(n,o){for(var y=0,M=n.length;y<M;++y)if(n[y]===o)return y;return-1};Array.prototype.indexOf&&(_t=function(n,o){return n.indexOf(o)});function yt(n,o,y){for(var M=0,W=n.length;M<W;++M)if(n[M][o]===y)return M;return-1}function $(n){var o=lt.call(arguments,1);return n=n.replace(/%(\d)/g,function(y,M){return""+o[M-1]||""}),n}var gt=function(n){for(var o=lt.call(arguments,1),y,M,W=0,ve=o.length;W<ve;++W){y=o[W];for(M in y)Object.prototype.hasOwnProperty.call(y,M)&&(n[M]=y[M])}return n};Object.assign&&(gt=Object.assign),Ve.SyntaxError=SyntaxError;function He(n){return Object.create?Object.create(n,{line:{writable:!0,value:n.line},index:{writable:!0,value:n.index},column:{writable:!0,value:n.column}}):n}function me(n){var o=$.apply(null,lt.call(arguments,1)),y,M;throw n===null||typeof n.line>"u"?(M=_-s+1,y=He(new SyntaxError($("[%1:%2] %3",c,M,o))),y.index=_,y.line=c,y.column=M):(M=n.range[0]-n.lineStart,y=He(new SyntaxError($("[%1:%2] %3",n.line,M,o))),y.line=n.line,y.index=n.range[0],y.column=M),y}function Ee(n){var o=C.slice(n.range[0],n.range[1]);return o||n.value}function Je(n,o){me(o,ae.expectedToken,n,Ee(o))}function dt(n){var o=Ee(Ze);if(typeof n.type<"u"){var y;switch(n.type){case Ye:y="string";break;case et:y="keyword";break;case Ke:y="identifier";break;case it:y="number";break;case je:y="symbol";break;case tt:y="boolean";break;case st:return me(n,ae.unexpected,"symbol","nil",o);case ut:return me(n,ae.unexpectedEOF)}return me(n,ae.unexpected,y,Ee(n),o)}return me(n,ae.unexpected,"symbol",n,o)}var _,O,Z,Ze,te,b,c,s;Ve.lex=m;function m(){for(e();C.charCodeAt(_)===45&&C.charCodeAt(_+1)===45;)Ie(),e();if(_>=be)return{type:ut,value:"<eof>",line:c,lineStart:s,range:[_,_]};var n=C.charCodeAt(_),o=C.charCodeAt(_+1);if(b=_,kt(n))return p();switch(n){case 39:case 34:return g();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return t();case 46:return Xe(o)?t():o===46?C.charCodeAt(_+2)===46?d():f(".."):f(".");case 61:return f(o===61?"==":"=");case 62:return ce.bitwiseOperators&&o===62?f(">>"):f(o===61?">=":">");case 60:return ce.bitwiseOperators&&o===60?f("<<"):f(o===61?"<=":"<");case 126:if(o===61)return f("~=");if(!ce.bitwiseOperators)break;return f("~");case 58:return ce.labels&&o===58?f("::"):f(":");case 91:return o===91||o===61?S():f("[");case 47:return ce.integerDivision&&o===47?f("//"):f("/");case 38:case 124:if(!ce.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return f(C.charAt(_))}return dt(C.charAt(_))}function h(){var n=C.charCodeAt(_),o=C.charCodeAt(_+1);return ot(n)?(n===10&&o===13&&++_,n===13&&o===10&&++_,++c,s=++_,!0):!1}function e(){for(;_<be;){var n=C.charCodeAt(_);if(bt(n))++_;else if(!h())break}}function p(){for(var n,o;St(C.charCodeAt(++_)););return n=Ce.fixup(C.slice(b,_)),wt(n)?o=et:n==="true"||n==="false"?(o=tt,n=n==="true"):n==="nil"?(o=st,n=null):o=Ke,{type:o,value:n,line:c,lineStart:s,range:[b,_]}}function f(n){return _+=n.length,{type:je,value:n,line:c,lineStart:s,range:[b,_]}}function d(){return _+=3,{type:nt,value:"...",line:c,lineStart:s,range:[b,_]}}function g(){for(var n=C.charCodeAt(_++),o=c,y=s,M=_,W=Ce.discardStrings?null:"",ve;ve=C.charCodeAt(_++),n!==ve;)if((_>be||ot(ve))&&(W+=C.slice(M,_-1),me(null,ae.unfinishedString,C.slice(b,_-1))),ve===92){if(!Ce.discardStrings){var Le=C.slice(M,_-1);W+=Ce.fixup(Le)}var We=ke();Ce.discardStrings||(W+=We),M=_}return Ce.discardStrings||(W+=Ce.encodeByte(null),W+=Ce.fixup(C.slice(M,_-1))),{type:Ye,value:W,line:o,lineStart:y,lastLine:c,lastLineStart:s,range:[b,_]}}function S(){var n=c,o=s,y=Ue(!1);return y===!1&&me(O,ae.expected,"[",Ee(O)),{type:Ye,value:Ce.discardStrings?null:Ce.fixup(y),line:n,lineStart:o,lastLine:c,lastLineStart:s,range:[b,_]}}function t(){var n=C.charAt(_),o=C.charAt(_+1),y=n==="0"&&"xX".indexOf(o||null)>=0?i():G(),M=l(),W=r();return W&&(M||y.hasFractionPart)&&me(null,ae.malformedNumber,C.slice(b,_)),{type:it,value:y.value,line:c,lineStart:s,range:[b,_]}}function l(){if(ce.imaginaryNumbers)return"iI".indexOf(C.charAt(_)||null)>=0?(++_,!0):!1}function r(){if(ce.integerSuffixes){if("uU".indexOf(C.charAt(_)||null)>=0)if(++_,"lL".indexOf(C.charAt(_)||null)>=0){if(++_,"lL".indexOf(C.charAt(_)||null)>=0)return++_,"ULL";me(null,ae.malformedNumber,C.slice(b,_))}else me(null,ae.malformedNumber,C.slice(b,_));else if("lL".indexOf(C.charAt(_)||null)>=0){if(++_,"lL".indexOf(C.charAt(_)||null)>=0)return++_,"LL";me(null,ae.malformedNumber,C.slice(b,_))}}}function i(){var n=0,o=1,y=1,M,W,ve,Le;for(Le=_+=2,Qe(C.charCodeAt(_))||me(null,ae.malformedNumber,C.slice(b,_));Qe(C.charCodeAt(_));)++_;M=parseInt(C.slice(Le,_),16);var We=!1;if(C.charAt(_)==="."){for(We=!0,W=++_;Qe(C.charCodeAt(_));)++_;n=C.slice(W,_),n=W===_?0:parseInt(n,16)/Math.pow(16,_-W)}var xt=!1;if("pP".indexOf(C.charAt(_)||null)>=0){for(xt=!0,++_,"+-".indexOf(C.charAt(_)||null)>=0&&(y=C.charAt(_++)==="+"?1:-1),ve=_,Xe(C.charCodeAt(_))||me(null,ae.malformedNumber,C.slice(b,_));Xe(C.charCodeAt(_));)++_;o=C.slice(ve,_),o=Math.pow(2,o*y)}return{value:(M+n)*o,hasFractionPart:We||xt}}function G(){for(;Xe(C.charCodeAt(_));)++_;var n=!1;if(C.charAt(_)===".")for(n=!0,++_;Xe(C.charCodeAt(_));)++_;var o=!1;if("eE".indexOf(C.charAt(_)||null)>=0)for(o=!0,++_,"+-".indexOf(C.charAt(_)||null)>=0&&++_,Xe(C.charCodeAt(_))||me(null,ae.malformedNumber,C.slice(b,_));Xe(C.charCodeAt(_));)++_;return{value:parseFloat(C.slice(b,_)),hasFractionPart:n||o}}function ge(){var n=_++;for(C.charAt(_++)!=="{"&&me(null,ae.braceExpected,"{","\\"+C.slice(n,_)),Qe(C.charCodeAt(_))||me(null,ae.hexadecimalDigitExpected,"\\"+C.slice(n,_));C.charCodeAt(_)===48;)++_;for(var o=_;Qe(C.charCodeAt(_));)++_,_-o>6&&me(null,ae.tooLargeCodepoint,"\\"+C.slice(n,_));var y=C.charAt(_++);y!=="}"&&(y==='"'||y==="'"?me(null,ae.braceExpected,"}","\\"+C.slice(n,_--)):me(null,ae.hexadecimalDigitExpected,"\\"+C.slice(n,_)));var M=parseInt(C.slice(o,_-1)||"0",16),W="\\"+C.slice(n,_);return M>1114111&&me(null,ae.tooLargeCodepoint,W),Ce.encodeUTF8(M,W)}function ke(){var n=_;switch(C.charAt(_)){case"a":return++_,"\x07";case"n":return++_,`
`;case"r":return++_,"\r";case"t":return++_,"	";case"v":return++_,"\v";case"b":return++_,"\b";case"f":return++_,"\f";case"\r":case`
`:return h(),`
`;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;Xe(C.charCodeAt(_))&&_-n<3;)++_;var o=C.slice(n,_),y=parseInt(o,10);return y>255&&me(null,ae.decimalEscapeTooLarge,"\\"+y),Ce.encodeByte(y,"\\"+o);case"z":if(ce.skipWhitespaceEscape)return++_,e(),"";break;case"x":if(ce.hexEscapes){if(Qe(C.charCodeAt(_+1))&&Qe(C.charCodeAt(_+2)))return _+=3,Ce.encodeByte(parseInt(C.slice(n+1,_),16),"\\"+C.slice(n,_));me(null,ae.hexadecimalDigitExpected,"\\"+C.slice(n,_+2))}break;case"u":if(ce.unicodeEscapes)return ge();break;case"\\":case'"':case"'":return C.charAt(_++)}return ce.strictEscapes&&me(null,ae.invalidEscape,"\\"+C.slice(n,_+1)),C.charAt(_++)}function Ie(){b=_,_+=2;var n=C.charAt(_),o="",y=!1,M=_,W=s,ve=c;if(n==="["&&(o=Ue(!0),o===!1?o=n:y=!0),!y){for(;_<be&&!ot(C.charCodeAt(_));)++_;U.comments&&(o=C.slice(M,_))}if(U.comments){var Le=ye.comment(o,C.slice(b,_));U.locations&&(Le.loc={start:{line:ve,column:b-W},end:{line:c,column:_-s}}),U.ranges&&(Le.range=[b,_]),U.onCreateNode&&U.onCreateNode(Le),te.push(Le)}}function Ue(n){var o=0,y="",M=!1,W,ve,Le=c;for(++_;C.charAt(_+o)==="=";)++o;if(C.charAt(_+o)!=="[")return!1;for(_+=o+1,ot(C.charCodeAt(_))&&h(),ve=_;_<be;){for(;ot(C.charCodeAt(_));)h();if(W=C.charAt(_++),W==="]"){M=!0;for(var We=0;We<o;++We)C.charAt(_+We)!=="="&&(M=!1);C.charAt(_+o)!=="]"&&(M=!1)}if(M)return y+=C.slice(ve,_-1),_+=o+1,y}me(null,n?ae.unfinishedLongComment:ae.unfinishedLongString,Le,"<eof>")}function ee(){Z=O,O=Ze,Ze=m()}function X(n){return n===O.value?(ee(),!0):!1}function oe(n){n===O.value?ee():me(O,ae.expected,n,Ee(O))}function bt(n){return n===9||n===32||n===11||n===12}function ot(n){return n===10||n===13}function Xe(n){return n>=48&&n<=57}function Qe(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function kt(n){return!!(n>=65&&n<=90||n>=97&&n<=122||n===95||ce.extendedIdentifiers&&n>=128)}function St(n){return!!(n>=65&&n<=90||n>=97&&n<=122||n===95||n>=48&&n<=57||ce.extendedIdentifiers&&n>=128)}function wt(n){switch(n.length){case 2:return n==="do"||n==="if"||n==="in"||n==="or";case 3:return n==="and"||n==="end"||n==="for"||n==="not";case 4:return n==="else"||n==="then"?!0:ce.labels&&!ce.contextualGoto?n==="goto":!1;case 5:return n==="break"||n==="local"||n==="until"||n==="while";case 6:return n==="elseif"||n==="repeat"||n==="return";case 8:return n==="function"}return!1}function F(n){return je===n.type?"#-~".indexOf(n.value)>=0:et===n.type?n.value==="not":!1}function k(n){if(ut===n.type)return!0;if(et!==n.type)return!1;switch(n.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}var Y,Te,Ae;function he(){var n=Y[Te++].slice();Y.push(n),U.onCreateScope&&U.onCreateScope()}function w(){Y.pop(),--Te,U.onDestroyScope&&U.onDestroyScope()}function A(n){U.onLocalDeclaration&&U.onLocalDeclaration(n),_t(Y[Te],n)===-1&&Y[Te].push(n)}function V(n){A(n.name),T(n,!0)}function T(n,o){!o&&yt(Ae,"name",n.name)===-1&&Ae.push(n),n.isLocal=o}function x(n){return _t(Y[Te],n)!==-1}var P=[],I;function q(){return new ne(O)}function ne(n){U.locations&&(this.loc={start:{line:n.line,column:n.range[0]-n.lineStart},end:{line:0,column:0}}),U.ranges&&(this.range=[n.range[0],0])}ne.prototype.complete=function(){U.locations&&(this.loc.end.line=Z.lastLine||Z.line,this.loc.end.column=Z.range[1]-(Z.lastLineStart||Z.lineStart)),U.ranges&&(this.range[1]=Z.range[1])},ne.prototype.bless=function(n){if(this.loc){var o=this.loc;n.loc={start:{line:o.start.line,column:o.start.column},end:{line:o.end.line,column:o.end.column}}}this.range&&(n.range=[this.range[0],this.range[1]])};function _e(){I&&P.push(q())}function ie(n){I&&P.push(n)}function we(){this.scopes=[],this.pendingGotos=[]}we.prototype.isInLoop=function(){for(var n=this.scopes.length;n-- >0;)if(this.scopes[n].isLoop)return!0;return!1},we.prototype.pushScope=function(n){var o={labels:{},locals:[],deferredGotos:[],isLoop:!!n};this.scopes.push(o)},we.prototype.popScope=function(){for(var n=0;n<this.pendingGotos.length;++n){var o=this.pendingGotos[n];o.maxDepth>=this.scopes.length&&--o.maxDepth<=0&&me(o.token,ae.labelNotVisible,o.target)}this.scopes.pop()},we.prototype.addGoto=function(n,o){for(var y=[],M=0;M<this.scopes.length;++M){var W=this.scopes[M];if(y.push(W.locals.length),Object.prototype.hasOwnProperty.call(W.labels,n))return}this.pendingGotos.push({maxDepth:this.scopes.length,target:n,token:o,localCounts:y})},we.prototype.addLabel=function(n,o){var y=this.currentScope();if(Object.prototype.hasOwnProperty.call(y.labels,n))me(o,ae.labelAlreadyDefined,n,y.labels[n].line);else{for(var M=[],W=0;W<this.pendingGotos.length;++W){var ve=this.pendingGotos[W];if(ve.maxDepth>=this.scopes.length&&ve.target===n){ve.localCounts[this.scopes.length-1]<y.locals.length&&y.deferredGotos.push(ve);continue}M.push(ve)}this.pendingGotos=M}y.labels[n]={localCount:y.locals.length,line:o.line}},we.prototype.addLocal=function(n,o){this.currentScope().locals.push({name:n,token:o})},we.prototype.currentScope=function(){return this.scopes[this.scopes.length-1]},we.prototype.raiseDeferredErrors=function(){for(var n=this.currentScope(),o=n.deferredGotos,y=0;y<o.length;++y){var M=o[y];me(M.token,ae.gotoJumpInLocalScope,M.target,n.locals[M.localCounts[this.scopes.length-1]].name)}};function Oe(){this.level=0,this.loopLevels=[]}Oe.prototype.isInLoop=function(){return!!this.loopLevels.length},Oe.prototype.pushScope=function(n){++this.level,n&&this.loopLevels.push(this.level)},Oe.prototype.popScope=function(){var n=this.loopLevels,o=n.length;o&&n[o-1]===this.level&&n.pop(),--this.level},Oe.prototype.addGoto=Oe.prototype.addLabel=function(){throw new Error("This should never happen")},Oe.prototype.addLocal=Oe.prototype.raiseDeferredErrors=function(){};function fe(){return ce.labels?new we:new Oe}function $e(){ee(),_e(),U.scope&&he();var n=fe();n.allowVararg=!0,n.pushScope();var o=De(n);return n.popScope(),U.scope&&w(),ut!==O.type&&dt(O),I&&!o.length&&(Z=O),pe(ye.chunk(o))}function De(n){for(var o=[],y;!k(O);){if(O.value==="return"||!ce.relaxedBreak&&O.value==="break"){o.push(Ne(n));break}y=Ne(n),X(";"),y&&o.push(y)}return o}function Ne(n){if(_e(),je===O.type&&X("::"))return xe(n);if(ce.emptyStatement&&X(";")){I&&P.pop();return}if(n.raiseDeferredErrors(),et===O.type)switch(O.value){case"local":return ee(),H(n);case"if":return ee(),K(n);case"return":return ee(),de(n);case"function":ee();var o=ln();return ue(o);case"while":return ee(),z(n);case"for":return ee(),j(n);case"repeat":return ee(),u(n);case"break":return ee(),n.isInLoop()||me(O,ae.noLoopToBreak,O.value),Et();case"do":return ee(),Mt(n);case"goto":return ee(),Ft(n)}return ce.contextualGoto&&O.type===Ke&&O.value==="goto"&&Ze.type===Ke&&Ze.value!=="goto"?(ee(),Ft(n)):(I&&P.pop(),J(n))}function xe(n){var o=O,y=N();return U.scope&&(A("::"+o.value+"::"),T(y,!0)),oe("::"),n.addLabel(o.value,o),pe(ye.labelStatement(y))}function Et(){return pe(ye.breakStatement())}function Ft(n){var o=O.value,y=Z,M=N();return n.addGoto(o,y),pe(ye.gotoStatement(M))}function Mt(n){U.scope&&he(),n.pushScope();var o=De(n);return n.popScope(),U.scope&&w(),oe("end"),pe(ye.doStatement(o))}function z(n){var o=ze(n);oe("do"),U.scope&&he(),n.pushScope(!0);var y=De(n);return n.popScope(),U.scope&&w(),oe("end"),pe(ye.whileStatement(o,y))}function u(n){U.scope&&he(),n.pushScope(!0);var o=De(n);oe("until"),n.raiseDeferredErrors();var y=ze(n);return n.popScope(),U.scope&&w(),pe(ye.repeatStatement(y,o))}function de(n){var o=[];if(O.value!=="end"){var y=At(n);for(y!=null&&o.push(y);X(",");)y=ze(n),o.push(y);X(";")}return pe(ye.returnStatement(o))}function K(n){var o=[],y,M,W;for(I&&(W=P[P.length-1],P.push(W)),y=ze(n),oe("then"),U.scope&&he(),n.pushScope(),M=De(n),n.popScope(),U.scope&&w(),o.push(pe(ye.ifClause(y,M))),I&&(W=q());X("elseif");)ie(W),y=ze(n),oe("then"),U.scope&&he(),n.pushScope(),M=De(n),n.popScope(),U.scope&&w(),o.push(pe(ye.elseifClause(y,M))),I&&(W=q());return X("else")&&(I&&(W=new ne(Z),P.push(W)),U.scope&&he(),n.pushScope(),M=De(n),n.popScope(),U.scope&&w(),o.push(pe(ye.elseClause(M)))),oe("end"),pe(ye.ifStatement(o))}function j(n){var o=N(),y;if(U.scope&&(he(),V(o)),X("=")){var M=ze(n);oe(",");var W=ze(n),ve=X(",")?ze(n):null;return oe("do"),n.pushScope(!0),y=De(n),n.popScope(),oe("end"),U.scope&&w(),pe(ye.forNumericStatement(o,M,W,ve,y))}else{for(var Le=[o];X(",");)o=N(),U.scope&&V(o),Le.push(o);oe("in");var We=[];do{var xt=ze(n);We.push(xt)}while(X(","));return oe("do"),n.pushScope(!0),y=De(n),n.popScope(),oe("end"),U.scope&&w(),pe(ye.forGenericStatement(Le,We,y))}}function H(n){var o,y=Z;if(Ke===O.type){var M=[],W=[];do o=N(),M.push(o),n.addLocal(o.name,y);while(X(","));if(X("="))do{var ve=ze(n);W.push(ve)}while(X(","));if(U.scope)for(var Le=0,We=M.length;Le<We;++Le)V(M[Le]);return pe(ye.localStatement(M,W))}if(X("function"))return o=N(),n.addLocal(o.name,y),U.scope&&(V(o),he()),ue(o,!0);Je("<name>",O)}function J(n){var o,y,M,W,ve,Le=[];I&&(y=q());do{if(I&&(o=q()),Ke===O.type)ve=O.value,W=N(),U.scope&&T(W,x(ve)),M=!0;else if(O.value==="(")ee(),W=ze(n),oe(")"),M=!1;else return dt(O);e:for(;;){switch(Ye===O.type?'"':O.value){case".":case"[":M=!0;break;case":":case"(":case"{":case'"':M=null;break;default:break e}W=jt(W,o,n)}if(Le.push(W),O.value!==",")break;if(!M)return dt(O);ee()}while(!0);if(Le.length===1&&M===null)return ie(o),pe(ye.callStatement(Le[0]));if(!M)return dt(O);oe("=");var We=[];do We.push(ze(n));while(X(","));return ie(y),pe(ye.assignmentStatement(Le,We))}function N(){_e();var n=O.value;return Ke!==O.type&&Je("<name>",O),ee(),pe(ye.identifier(n))}function ue(n,o){var y=fe();y.pushScope();var M=[];if(oe("("),!X(")"))for(;;){if(Ke===O.type){var W=N();if(U.scope&&V(W),M.push(W),X(","))continue}else nt===O.type?(y.allowVararg=!0,M.push(Nt(y))):Je("<name> or '...'",O);oe(")");break}var ve=De(y);return y.popScope(),oe("end"),U.scope&&w(),o=o||!1,pe(ye.functionStatement(n,M,o,ve))}function ln(){var n,o,y;for(I&&(y=q()),n=N(),U.scope&&(T(n,x(n.name)),he());X(".");)ie(y),o=N(),n=pe(ye.memberExpression(n,".",o));return X(":")&&(ie(y),o=N(),n=pe(ye.memberExpression(n,":",o)),U.scope&&A("self")),n}function Kt(n){for(var o=[],y,M;;){if(_e(),je===O.type&&X("["))y=ze(n),oe("]"),oe("="),M=ze(n),o.push(pe(ye.tableKey(y,M)));else if(Ke===O.type)Ze.value==="="?(y=N(),ee(),M=ze(n),o.push(pe(ye.tableKeyString(y,M)))):(M=ze(n),o.push(pe(ye.tableValue(M))));else{if((M=At(n))==null){P.pop();break}o.push(pe(ye.tableValue(M)))}if(",;".indexOf(O.value)>=0){ee();continue}break}return oe("}"),pe(ye.tableConstructorExpression(o))}function At(n){var o=Ut(0,n);return o}function ze(n){var o=At(n);if(o==null)Je("<expression>",O);else return o}function on(n){var o=n.charCodeAt(0),y=n.length;if(y===1)switch(o){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(y===2)switch(o){case 47:return 10;case 46:return 8;case 60:case 62:return n==="<<"||n===">>"?7:3;case 61:case 126:return 3;case 111:return 1}else if(o===97&&n==="and")return 2;return 0}function Ut(n,o){var y=O.value,M,W;if(I&&(W=q()),F(O)){_e(),ee();var ve=Ut(10,o);ve==null&&Je("<expression>",O),M=pe(ye.unaryExpression(y,ve))}if(M==null&&(M=Nt(o),M==null&&(M=rn(o))),M==null)return null;for(var Le;y=O.value,Le=je===O.type||et===O.type?on(y):0,!(Le===0||Le<=n);){(y==="^"||y==="..")&&--Le,ee();var We=Ut(Le,o);We==null&&Je("<expression>",O),I&&P.push(W),M=pe(ye.binaryExpression(y,M,We))}return M}function jt(n,o,y){var M,W;if(je===O.type)switch(O.value){case"[":return ie(o),ee(),M=ze(y),oe("]"),pe(ye.indexExpression(n,M));case".":return ie(o),ee(),W=N(),pe(ye.memberExpression(n,".",W));case":":return ie(o),ee(),W=N(),n=pe(ye.memberExpression(n,":",W)),ie(o),Dt(n,y);case"(":case"{":return ie(o),Dt(n,y)}else if(Ye===O.type)return ie(o),Dt(n,y);return null}function rn(n){var o,y,M;if(I&&(M=q()),Ke===O.type)y=O.value,o=N(),U.scope&&T(o,x(y));else if(X("("))o=ze(n),oe(")");else return null;for(;;){var W=jt(o,M,n);if(W===null)break;o=W}return o}function Dt(n,o){if(je===O.type)switch(O.value){case"(":ce.emptyStatement||O.line!==Z.line&&me(null,ae.ambiguousSyntax,O.value),ee();var y=[],M=At(o);for(M!=null&&y.push(M);X(",");)M=ze(o),y.push(M);return oe(")"),pe(ye.callExpression(n,y));case"{":_e(),ee();var W=Kt(o);return pe(ye.tableCallExpression(n,W))}else if(Ye===O.type)return pe(ye.stringCallExpression(n,Nt(o)));Je("function arguments",O)}function Nt(n){var o=Ye|it|tt|st|nt,y=O.value,M=O.type,W;if(I&&(W=q()),M===nt&&!n.allowVararg&&me(O,ae.cannotUseVararg,O.value),M&o){ie(W);var ve=C.slice(O.range[0],O.range[1]);return ee(),pe(ye.literal(M,y,ve))}else{if(et===M&&y==="function")return ie(W),ee(),U.scope&&he(),ue(null);if(X("{"))return ie(W),Kt(n)}}Ve.parse=un;var Ht={"5.1":{},"5.2":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,relaxedBreak:!0},"5.3":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,bitwiseOperators:!0,integerDivision:!0,relaxedBreak:!0},LuaJIT:{labels:!0,contextualGoto:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,imaginaryNumbers:!0,integerSuffixes:!0}};function un(n,o){if(typeof o>"u"&&typeof n=="object"&&(o=n,n=void 0),o||(o={}),C=n||"",U=gt({},ct,o),_=0,c=1,s=0,be=C.length,Y=[[]],Te=0,Ae=[],P=[],!Object.prototype.hasOwnProperty.call(Ht,U.luaVersion))throw new Error($("Lua version '%1' not supported",U.luaVersion));if(ce=gt({},Ht[U.luaVersion]),U.extendedIdentifiers!==void 0&&(ce.extendedIdentifiers=!!U.extendedIdentifiers),!Object.prototype.hasOwnProperty.call(pt,U.encodingMode))throw new Error($("Encoding mode '%1' not supported",U.encodingMode));return Ce=pt[U.encodingMode],U.comments&&(te=[]),U.wait?Ve:Xt()}Ve.write=Jt;function Jt(n){return C+=String(n),be=C.length,Ve}Ve.end=Xt;function Xt(n){typeof n<"u"&&Jt(n),C&&C.substr(0,2)==="#!"&&(C=C.replace(/^.*/,function(y){return y.replace(/./g," ")})),be=C.length,I=U.locations||U.ranges,Ze=m();var o=$e();if(U.comments&&(o.comments=te),U.scope&&(o.globals=Ae),P.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return o}})})(It,It.exports);var wn=It.exports;const Rt=sn(wn);var Pt={},qt={exports:{}};qt.exports;(function(ft){function v(te){for(var b=0,c=te.length;c--;)b+=te.charCodeAt(c),b+=b<<10,b^=b>>6;return b+=b<<3,b^=b>>11,b+=b<<15,b}const Ve=console.log,C=function(te,b){if(!te)throw b};function U(te,b){if(!te)return 0;var c=te.toString().split(".");return c.length>1?parseInt(c[0],b)+parseInt(c[1],b)/Math.pow(b,c[1].length):parseInt(c[0],b)}let be=[" ",`
`,"	","\r"],ce={r:"\r",n:`
`,t:"	",'"':'"',"'":"'","\\":"\\"};const Ce=new Proxy(ce,{get(te,b){return U(b)}});let ct=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Se=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","t","u","v","w","h","i","j","k","l","m","n","o","p","q","r","s","x","y","z"],mt=["0","1","2","3","4","5","6","7","8","9"],qe=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"],pt=["0","1"],ut=["+","-","*",")",";","/","^","%","#",",","{","}",":","[","]","(",".","`"],Ye=["~","=",">","<"],et=["+","-","*","/","^","..","%","//"],Ke=["+=","-=","*=","/=","^=","..=","%=","//="],it=["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while","continue"],je=["else","elseif","until","end"],tt=["-","not","#","~"],st=["+","-","*","/","%","^","#","//","&","|","~","<<",">>","..",".",":",">","<","<=",">=","~=","==","+=","-=","*=","/=","%=","^=","..=","//=","and","or"],nt=11,ae={"^":[13,12],"%":[10,10],"//":[10,10],"/":[10,10],"*":[10,10],"+":[9,9],"-":[9,9],"..":[8,7],">>":[7,7],"<<":[7,7],"&":[6,6],"~":[5,5],"|":[4,4],"==":[3,3],"~=":[3,3],">=":[3,3],"<=":[3,3],">":[3,3],"<":[3,3],"+=":[3,3],"-=":[3,3],"*=":[3,3],"/=":[3,3],"^=":[3,3],"%=":[3,3],"..=":[3,3],"//=":[3,3],and:[2,2],or:[1,1]};function ye(te){let b=0,c=te.length,s=[];function m(t){return t=t||0,b<=c?te.substr(b+t,1):""}function h(){if(b<=c){let t=te.substr(b,1);return b++,t}else return""}function e(t){let l=0,r=1,i=1;for(;l<=b;)te.substr(l,1)==`
`?(r++,i=1):i++;let G;for(G=0;G<s.length;G++){let ge=s[G];Ve(`${ge.Type}<${ge.Source}>`)}throw`file<${r}:${i}>: ${t}`}function p(t){for(;;){let l=h();if(l=="")e("Unfinished long string.");else if(l=="]"){let r=!0,i;for(i=1;i<=t;i++)if(m()=="=")b++;else{r=!1;break}if(r&&h()=="]")return}}}function f(){let t=b;for(;m()=="=";)b++;if(m()=="[")return b++,b-t-1;b=t}let d=0,g=0;function S(t){let l=te.substr(g,b-g),r=null;t=="Number"&&(l.substr(0,2).toLowerCase()=="0x"?(r="hex",parseInt(l,16)<999999999999&&(l=parseInt(l,16))):l.substr(0,2).toLowerCase()=="0b"&&(r="bin",parseInt(l.substr(2),2)<999999999999&&(l=parseInt(l.substr(2),2))));let i={Type:t,LeadingWhite:te.substr(d,g-d),Source:l};return r!==null&&(i.NType=r),s.push(i),d=b,g=b,i}for(;;){for(d=b;;){let l=m();if(l=="")break;if(l=="-")if(m(1)=="-")if(b+=2,m()=="["){b++;let r=f();if(r!=null)p(r),d=b;else for(;;){let i=h();if(i==""||i==`
`)break}}else for(;;){let r=h();if(r==""||r==`
`)break}else break;else if(be.includes(l))b++;else break}te.substr(d,b-d),g=b;let t=h();if(t==""){S("Eof");break}else if(t=="'"||t=='"'){for(;;){let l=h();if(l=="\\"){let r=h();if(Ce[r]==null)throw`Invalid Escape Sequence \`${r}\`.`}else{if(l==t)break;if(l=="")throw"Unfinished string!"}}S("String")}else if(t=="`"){for(;;){let l=h();if(l=="\\"){let r=h();if(Ce[r]==null)throw`Invalid Escape Sequence \`${r}\`.`}else{if(l==t)break;if(l=="")throw"Unfinished string!"}}S("Hash")}else if(ct.includes(t)){for(;Se.includes(m());)b++;it.includes(te.substr(g,b-g))?S("Keyword"):S("Ident")}else if(mt.includes(t)||t=="."&&mt.includes(m())){if(t=="0"&&m().toLowerCase()=="x")for(b++;qe.includes(m())||m()==="_";)b++;else if(t=="0"&&m().toLowerCase()=="b")for(b++;pt.includes(m())||m()==="_";)b++;else{for(;mt.includes(m())||m()==="_";)b++;if(m()==".")for(b++;mt.includes(m());)b++;if(m()=="e"||m()=="E")for(b++,(m()=="-"||m()=="+")&&b++;mt.includes(m());)b++}S("Number")}else if(t=="["){let l=f();l!=null?(p(l),S("String")):S("Symbol")}else if(t==".")m()=="."&&(h(),(m()=="."||m()=="=")&&h()),S("Symbol");else if(t+m()=="//")h(),m()=="="&&h(),S("Symbol");else if(t+m()=="::")h(),S("Symbol");else if(st.includes(t+m()))h(),S("Symbol");else if(Ye.includes(t))m()=="="&&b++,S("Symbol");else if(et.includes(t)&&m()=="=")h(),S("Symbol");else if(ut.includes(t))S("Symbol");else throw`Bad symbol \`${t}\` in source. ${b}`}return s}function pe(te){let b=ye(te),c=0;function s(){let w=b[c];return c<b.length&&c++,w}function m(w){return w=c+(w||0),b[w]||b[b.length-1]}function h(w){let A=1,V=0,T=0;for(;;){let x=b[T],P;x==w?P=x.LeadingWhite:P=x.LeadingWhite+x.Source;let I;for(I=0;I<=P.length;I++)P.substr(I,1)==`
`?(A++,V=0):V++;if(x==w)break;T++}return`${A}:${V+1}`}function e(){let w=m();return`<${w.Type} \`${w.Source}\`> at: ${h(w)}`}function p(){let w=m();return w.Type=="Eof"||w.Type=="Keyword"&&je.includes(w.Source)}function f(){return tt.includes(m().Source)||!1}function d(){return st.includes(m().Source)||!1}function g(w,A){let V=m();if(V.Type==w&&(A==null||V.Source==A))return s();{let T;for(T=-3;T<=3;T++)Ve(`Tokens[${T}] = \`${m(T).Source}\``);throw A?`${h(V)}: \`${A}\` expected.`:`${h(V)}: ${w} expected.`}}function S(w){let A=w.GetFirstToken,V=w.GetLastToken,T=w;return w.GetFirstToken=function(){let x=A(T);return C(x),x},w.GetLastToken=function(){let x=V(T);return C(x),x},w}let t,l;function r(w,A){let V=[l(w,A)],T=[];for(;m().Source==",";)T.push(s()),V.push(l(w,A));return[V,T]}function i(w,A){var T,x,P,I;let V=m();if(V.Source=="("){let q=s(),ne=l(w,A),_e=g("Symbol",")"),ie;return ie=S({Type:"ParenExpr",Expression:ne,Token_OpenParen:q,Token_CloseParen:_e,GetFirstToken:()=>ie.Token_OpenParen,GetLastToken:()=>ie.Token_CloseParen}),ie}else if(V.Type=="Ident"){let q;return q=S({Type:"VariableExpr",Token:s(),GetFirstToken:()=>q.Token,GetLastToken:()=>q.Token}),w[q.Token.Source]!=null&&((x=(T=w[q.Token.Source])==null?void 0:T.Tokens)==null?void 0:x.push)!=null?(w[q.Token.Source].Tokens.push(q.Token),w[q.Token.Source].UseCountIncrease()):A[q.Token.Source]!=null&&((I=(P=A[q.Token.Source])==null?void 0:P.Tokens)==null?void 0:I.push)!=null&&(A[q.Token.Source].Tokens.push(q.Token),A[q.Token.Source].UseCountIncrease()),q}else throw Ve(e()),`${h(V)}: Unexpected symbol. ${V.Type} ${V.Source}`}function G(w,A){let V=g("Symbol","{"),T=[],x=[];for(;m().Source!="}";){if(m().Source=="["){let q=s(),ne=l(w,A),_e=g("Symbol","]"),ie=g("Symbol","="),we=l(w,A);ne.Token&&ne.Token.Source,T.push({EntryType:"Index",Index:ne,Value:we,Token_OpenBracket:q,Token_CloseBracket:_e,Token_Equals:ie})}else if(m().Type=="Ident"&&m(1).Source=="="){let q=s(),ne=s(),_e=l(w,A);T.push({EntryType:"Field",Field:q,Value:_e,Token_Equals:ne})}else{let q=l(w,A);T.push({EntryType:"Value",Value:q})}if(m().Source==","||m().Source==";")x.push(s());else break}let P=g("Symbol","}"),I;return I=S({Type:"TableLiteral",EntryList:T,Token_SeperatorList:x,Token_OpenBrace:V,Token_CloseBrace:P,GetFirstToken:()=>I.Token_OpenBrace,GetLastToken:()=>I.Token_CloseBrace}),I}function ge(w,A){let V=[],T=[];if(m().Type=="Ident"){let x=s();if(A&&m().Source=="<"&&m(2).Source==">"){let P=m(1).Source;x.Attribute={LeadingWhite:m().LeadingWhite,Source:`<${P}>`},s(),s(),s()}V.push(x)}else if(m().Source=="..."&&w)return[V,T,s()];for(;m().Source==",";){if(T.push(s()),m().Source=="..."&&w)return[V,T,s()];{let x=g("Ident");if(A&&m().Source=="<"&&m(2).Source==">"){let P=m(1).Source;x.Attribute={LeadingWhite:m().LeadingWhite,Source:`<${P}>`},s(),s(),s()}V.push(x)}}return[V,T]}function ke(w,A,V){let T=t(A,V),x=m();if(x.Type=="Keyword"&&x.Source==w)return s(),[T,x];throw Ve(x.Type,x.Source),`${h(x)}: ${w} expected.`}function Ie(w,A,V,T){let x=s(),P,I;if(!w){P=[],I=[];let De=g("Ident");for(P.push(De);m().Source==".";)I.push(s()),P.push(g("Ident"));m().Source==":"&&(I.push(s()),P.push(g("Ident")))}let q=g("Symbol","("),[ne,_e,ie]=ge(!0),we=g("Symbol",")"),[Oe,fe]=ke("end",A,V),$e;return $e=S({Type:w==!0?"FunctionLiteral":"FunctionStat",NameChain:P,ArgList:ne,Body:Oe,Token_Function:x,Token_NameChainSeperator:I,Token_OpenParen:q,Token_Varg:ie,Token_ArgCommaList:_e,Token_CloseParen:we,Token_End:fe,GetFirstToken:()=>$e.Token_Function,GetLastToken:()=>$e.Token_End}),$e}function Ue(w,A){let V=m();if(V.Source=="("){let T=s(),x=[],P=[];for(;m().Source!=")"&&(x.push(l(w,A)),m().Source==",");)P.push(s());let I=g("Symbol",")"),q;return q=S({CallType:"ArgCall",ArgList:x,Token_CommaList:P,Token_OpenParen:T,Token_CloseParen:I,GetFirstToken:()=>q.Token_OpenParen,GetLastToken:()=>q.Token_CloseParen}),q}else if(V.Source=="{"){let T;return T=S({CallType:"TableCall",TableExpr:l(w,A),GetFirstToken:()=>T.TableExpr.GetFirstToken(),GetLastToken:()=>T.TableExpr.GetLastToken()}),T}else if(V.Type=="String"){let T;return T=S({CallType:"StringCall",Token:s(),GetFirstToken:()=>T.Token,GetLastToken:()=>T.Token}),T}else throw"Function arguments expected."}function ee(w,A){let V=i(w,A);for(C(V,"nil prefixexpr");;){let T=m();if(T.Source=="."){let x=s(),P=g("Ident"),I;I=S({Type:"FieldExpr",Base:V,Field:P,Token_Dot:x,GetFirstToken:()=>I.Base.GetFirstToken(),GetLastToken:()=>I.Field}),V=I}else if(T.Source==":"){let x=s(),P=g("Ident"),I=Ue(w,A),q;q=S({Type:"MethodExpr",Base:V,Method:P,FunctionArguments:I,Token_Colon:x,GetFirstToken:()=>q.Base.GetFirstToken(),GetLastToken:()=>q.FunctionArguments.GetLastToken()}),V=q}else if(T.Source=="["){let x=s(),P=l(w,A),I=g("Symbol","]"),q;q=S({Type:"IndexExpr",Base:V,Index:P,Token_OpenBracket:x,Token_CloseBracket:I,GetFirstToken:()=>q.Base.GetFirstToken(),GetLastToken:()=>q.Token_CloseBracket}),V=q}else if(T.Source=="{"||T.Source=="("||T.Type=="String"){let x;x=S({Type:"CallExpr",Base:V,FunctionArguments:Ue(w,A),GetFirstToken:()=>x.Base.GetFirstToken(),GetLastToken:()=>x.FunctionArguments.GetLastToken()}),V=x}else if(Ke.includes(T.Source)){let x=s(),P=l(w,A),I;I=S({Type:"CompoundStat",Base:V,Token_Compound:x,Rhs:P,Lhs:V,GetFirstToken:()=>I.Base.GetFirstToken(),GetLastToken:()=>I.Rhs.GetLastToken()}),V=I}else return V}}function X(w,A){let V=m();if(V.Type=="Number"){let T;return T=S({Type:"NumberLiteral",Token:s(),GetFirstToken:()=>T.Token,GetLastToken:()=>T.Token}),T}else if(V.Type=="String"){let T;return T=S({Type:"StringLiteral",Token:s(),GetFirstToken:()=>T.Token,GetLastToken:()=>T.Token}),T}else if(V.Type=="Hash"){let T;return T=S({Type:"HashLiteral",Token:s(),GetFirstToken:()=>T.Token,GetLastToken:()=>T.Token}),T}else if(V.Source=="nil"){let T;return T=S({Type:"NilLiteral",Token:s(),GetFirstToken:()=>T.Token,GetLastToken:()=>T.Token}),T}else if(V.Source=="true"||V.Source=="false"){let T;return T=S({Type:"BooleanLiteral",Token:s(),GetFirstToken:()=>T.Token,GetLastToken:()=>T.Token}),T}else if(V.Source=="..."){let T;return T=S({Type:"VargLiteral",Token:s(),GetFirstToken:()=>T.Token,GetLastToken:()=>T.Token}),T}else return V.Source=="{"?G(w,A):V.Source=="function"?Ie(!0,w,A):ee(w,A)}function oe(w,A,V){let T;if(f()){let x=s(),P=oe(nt,A,V),I;I=S({Type:"UnopExpr",Token_Op:x,Rhs:P,GetFirstToken:()=>I.Token_Op,GetLastToken:()=>I.Rhs.GetLastToken()}),T=I}else T=X(A,V),C(T,"nil sipleexpr");for(;d()&&ae[m().Source]!=null&&ae[m().Source][0]>w;){let x=s(),P=oe(ae[x.Source][1],A,V);C(P,"RhsNeeded");let I;I=S({Type:"BinopExpr",Lhs:T,Rhs:P,Token_Op:x,GetFirstToken:()=>I.Lhs.GetFirstToken(),GetLastToken:()=>I.Rhs.GetLastToken()}),T=I}return T}l=(w,A)=>oe(0,w,A);function bt(w,A){let V=ee(w,A);if(V.Type=="MethodExpr"||V.Type=="CallExpr"){let T;return T=S({Type:"CallExprStat",Expression:V,GetFirstToken:()=>T.Expression.GetFirstToken(),GetLastToken:()=>T.Expression.GetLastToken()}),T}else{if(V.Type=="CompoundStat")return V;{let T=[V],x=[];for(;m().Source==",";){x.push(s());let _e=ee(w,A);if(_e.Type=="MethodExpr"||_e.Type=="CallExpr")throw"Bad left hand side of asignment";T.push(_e)}let P=g("Symbol","="),I=[l(w,A)],q=[];for(;m().Source==",";)q.push(s()),I.push(l(w,A));let ne;return ne=S({Type:"AssignmentStat",Rhs:I,Lhs:T,Token_Equals:P,Token_LhsSeperatorList:x,Token_RhsSeperatorList:q,GetFirstToken:()=>ne.Lhs[0].GetFirstToken(),GetLastToken:()=>ne.Rhs[ne.Rhs.length-1].GetLastToken()}),ne}}}function ot(w,A){let V=s(),T=l(w,A),x=g("Keyword","then"),P=t(w,A),I=[];for(;m().Source=="elseif"||m().Source=="else";){let _e=s(),ie,we;_e.Source=="elseif"&&(ie=l(w,A),we=g("Keyword","then"));let Oe=t(w,A);if(I.push({Condition:ie,Body:Oe,ClauseType:_e.Source,Token:_e,Token_Then:we}),_e.Source=="else")break}let q=g("Keyword","end"),ne;return ne=S({Type:"IfStat",Condition:T,Body:P,ElseClauseList:I,Token_If:V,Token_Then:x,Token_End:q,GetFirstToken:()=>ne.Token_If,GetLastToken:()=>ne.Token_End}),ne}function Xe(w,A){let V=s(),[T,x]=ke("end",w,A),P;return P=S({Type:"DoStat",Body:T,Token_Do:V,Token_End:x,GetFirstToken:()=>P.Token_Do,GetLastToken:()=>P.Token_End}),P}function Qe(w,A){let V=s(),T=l(w,A),x=g("Keyword","do"),[P,I]=ke("end",w,A),q;return q=S({Type:"WhileStat",Condition:T,Body:P,Token_While:V,Token_Do:x,Token_End:I,GetFirstToken:()=>q.Token_While,GetLastToken:()=>q.Token_End}),q}function kt(w,A){let V=s(),[T,x]=ge();if(m().Source=="="){let P=s(),[I,q]=r(w,A);if(I.length<2||I.length>3)throw"Expected 2 or 3 values for range bounds";let ne=g("Keyword","do"),[_e,ie]=ke("end",w,A),we;return we=S({Type:"NumericForStat",VarList:T,RangeList:I,Body:_e,Token_For:V,Token_VarCommaList:x,Token_Equals:P,Token_RangeCommaList:q,Token_Do:ne,Token_End:ie,GetFirstToken:()=>we.Token_For,GetLastToken:()=>we.Token_End}),we}else if(m().Source=="in"){let P=s(),[I,q]=r(w,A),ne=g("Keyword","do"),[_e,ie]=ke("end",w,A),we;return we=S({Type:"GenericForStat",VarList:T,GeneratorList:I,Body:_e,Token_For:V,Token_VarCommaList:x,Token_In:P,Token_GeneratorCommaList:q,Token_Do:ne,Token_End:ie,GetFirstToken:()=>we.Token_For,GetLastToken:()=>we.Token_End}),we}}function St(w,A){let V=s(),[T,x]=ke("until",w),P=l(w,A),I;return I=S({Type:"RepeatStat",Body:T,Condition:P,Token_Repeat:V,Token_Until:x,GetFirstToken:()=>I.Token_Repeat,GetLastToken:()=>I.Condition.GetLastToken()}),I}function wt(w,A){let V=s();if(m().Source=="function"){let T=Ie(!1,w,A);if(T.NameChain.length>1)throw h(T.Token_NameChainSeperator[0])+": `(` expected.";let x;return x=S({Type:"LocalFunctionStat",FunctionStat:T,Token_Local:V,GetFirstToken:()=>x.Token_Local,GetLastToken:()=>x.FunctionStat.GetLastToken()}),x}else if(m().Type=="Ident"){let[T,x]=ge(!1,!0),P=[],I=[],q;if(m().Source=="="){q=s();let[_e,ie]=r(w,A);P=_e,I=ie}let ne;return ne=S({Type:"LocalVarStat",VarList:T,ExprList:P,Token_Local:V,Token_Equals:q,Token_VarCommaList:x,Token_ExprCommaList:I,GetFirstToken:()=>ne.Token_Local,GetLastToken:function(){return ne.ExprList.length>0?ne.ExprList[ne.ExprList.length-1].GetLastToken():ne.VarList[ne.VarList.length-1]}}),ne}else throw"`function` or ident expected"}function F(w,A){let V=s(),T,x;p()||m().Source==";"?(T=[],x=[]):[T,x]=r(w,A);let P;return P={Type:"ReturnStat",ExprList:T,Token_Return:V,Token_CommaList:x,GetFirstToken:()=>P.Token_Return,GetLastToken:function(){return P.ExprList.length>0?P.ExprList[P.ExprList.length-1].GetLastToken():P.Token_Return}},P}function k(w,A){let V=s(),T;return T={Type:"BreakStat",Token_Break:V,GetFirstToken:()=>T.Token_Break,GetLastToken:()=>T.Token_Break},T}function Y(w,A){let V=s(),T;return T={Type:"ContinueStat",Token_Continue:V,GetFirstToken:()=>T.Token_Continue,GetLastToken:()=>T.Token_Continue},T}function Te(){let w=s(),A;m().Type=="Keyword"?A=g("Keyword"):A=g("Ident");let V;return V={Type:"GotoStat",Token_Goto:w,Token_Label:A,GetFirstToken:()=>V.Token_Goto,GetLastToken:()=>V.Token_Label},V}function Ae(){let w=s(),A;m().Type=="Keyword"?A=g("Keyword"):A=g("Ident");let V=g("Symbol","::"),T;return T={Type:"LabelStat",Token_ColonsLeft:w,Token_Label:A,Token_ColonsRight:V,GetFirstToken:()=>T.Token_ColonsLeft,GetLastToken:()=>T.Token_ColonsRight},T}function he(w,A){let V=m();return V.Source=="if"?[!1,ot(w,A)]:V.Source=="while"?[!1,Qe(w,A)]:V.Source=="do"?[!1,Xe(w,A)]:V.Source=="for"?[!1,kt(w,A)]:V.Source=="repeat"?[!1,St(w,A)]:V.Source=="function"?[!1,Ie(!1,w,A)]:V.Source=="local"?[!1,wt(w,A)]:V.Source=="return"?[!0,F(w,A)]:V.Source=="break"?[!0,k()]:V.Source=="continue"?[!0,Y()]:V.Source=="goto"?[!1,Te()]:V.Source=="::"?[!1,Ae()]:[!1,bt(w,A)]}return t=function(w,A){let V=[],T=[],x={},P={};if(A!=null)for(let[_e,ie]of Object.entries(A))P[_e]=ie;if(w!=null)for(let[_e,ie]of Object.entries(w))P[_e]=ie;let I,q=0;for(;!p();){I&&I==m()&&Ve(`INFINITE LOOP POSSIBLE ON STATEMENT ${I.Source} :`,I),I=m();let[_e,ie]=he(x,P);if(ie)switch(V.push(ie),ie.Type){case"LocalVarStat":ie.VarList.forEach(fe=>{fe.UseCount=0,fe.Number=q++,x[fe.Source]=fe;let $e=[];function De(){fe.UseCount++,$e.forEach(Ne=>{Ne.UseCount=fe.UseCount})}fe.Tokens={},fe.Tokens.push=Ne=>{Ne.UseCountIncrease=De,Ne.UseCount=fe.UseCount,Ne.Tokens=fe.Tokens,$e.push(Ne)},fe.Tokens.get=()=>$e,fe.UseCountIncrease=De});break;case"LocalFunctionStat":let Oe=ie.FunctionStat.NameChain;if(Oe.length===1){let De=function(){fe.UseCount++,$e.forEach(Ne=>{Ne.UseCount=fe.UseCount})},fe=Oe[0];fe.UseCount=0,fe.Number=q++,x[fe.Source]=fe;let $e=[];fe.Tokens={},fe.Tokens.push=Ne=>{Ne.UseCountIncrease=De,Ne.UseCount=fe.UseCount,Ne.Tokens=fe.Tokens,$e.push(Ne)},fe.Tokens.get=()=>$e,fe.UseCountIncrease=De}break}let we=m();we.Type=="Symbol"&&we.Source==";"&&(T[V.length-1]=s())}let ne;return ne={Type:"StatList",StatementList:V,SemicolonList:T,GetFirstToken:function(){var _e;if(ne.StatementList.length!=0)return(_e=ne.StatementList[0])==null?void 0:_e.GetFirstToken()},GetLastToken:function(){if(ne.StatementList.length!=0)return ne.SemicolonList[ne.StatementList.length-1]?ne.SemicolonList[ne.StatementList.length-1]:ne.StatementList[ne.StatementList.length-1].GetLastToken()}},ne},t([],[])}function lt(te,b){let c={BinopExpr:!0,UnopExpr:!0,NumberLiteral:!0,StringLiteral:!0,NilLiteral:!0,BooleanLiteral:!0,VargLiteral:!0,HashLiteral:!0,FieldExpr:!0,IndexExpr:!0,MethodExpr:!0,CallExpr:!0,FunctionLiteral:!0,VariableExpr:!0,ParenExpr:!0,TableLiteral:!0},s={StatList:!0,BreakStat:!0,ContinueStat:!0,LabelStat:!0,GotoStat:!0,ReturnStat:!0,LocalVarStat:!0,LocalFunctionStat:!0,FunctionStat:!0,RepeatStat:!0,GenericForStat:!0,NumericForStat:!0,WhileStat:!0,DoStat:!0,IfStat:!0,CallExprStat:!0,AssignmentStat:!0,CompoundStat:!0};for(var[m,h]of Object.entries(b))if(!s[m]&&!c[m])throw`Invalid visitor target: \`${m}\``;function e(g){if(g!=null){let S=b[g.Type];if(typeof S=="function")return S(g);if(S&&S.Pre)return S.Pre(g)}}function p(g){let S=b[g.Type];if(S&&typeof S=="object"&&S.Post)return S.Post(g)}let f,d;f=function(g){if(!e(g)){if(g.Type=="BinopExpr")f(g.Lhs),f(g.Rhs);else if(g.Type=="UnopExpr")f(g.Rhs);else if(!(g.Type=="NumberLiteral"||g.Type=="StringLiteral"||g.Type=="NilLiteral"||g.Type=="BooleanLiteral"||g.Type=="VargLiteral"||g.Type=="HashLiteral")){if(g.Type=="FieldExpr")f(g.Base);else if(g.Type=="IndexExpr")f(g.Base),f(g.Index);else if(g.Type=="MethodExpr"||g.Type=="CallExpr")f(g.Base),g.FunctionArguments.CallType=="ArgCall"?g.FunctionArguments.ArgList.forEach((S,t)=>{f(S)}):g.FunctionArguments.CallType=="TableCall"&&f(g.FunctionArguments.TableExpr);else if(g.Type=="FunctionLiteral")d(g.Body);else if(g.Type!="VariableExpr")if(g.Type=="ParenExpr")f(g.Expression);else if(g.Type=="TableLiteral")g.EntryList.forEach((S,t)=>{if(S.EntryType=="Field")f(S.Value);else if(S.EntryType=="Index")f(S.Index),f(S.Value);else if(S.EntryType=="Value")f(S.Value);else throw"unreachable"});else if(g.Type=="CompoundStat")f(g.Lhs),f(g.Rhs);else throw`unreachable, type: ${g.Type}: ${g}`}p(g)}},d=function(g){if(!e(g)){if(g.Type=="StatList")g.StatementList.forEach((S,t)=>{if(S!=null){if(S===null||S.Type===null)return;S.Remove=()=>{g.StatementList[t]=null},d(S)}});else if(g.Type!="BreakStat"){if(g.Type!="ContinueStat"){if(g.Type!="GotoStat"){if(g.Type!="LabelStat")if(g.Type=="ReturnStat")g.ExprList.forEach((S,t)=>{f(S)});else if(g.Type=="LocalVarStat")g.Token_Equals&&g.ExprList.forEach((S,t)=>{f(S)});else if(g.Type=="LocalFunctionStat")d(g.FunctionStat.Body);else if(g.Type=="FunctionStat")d(g.Body);else if(g.Type=="RepeatStat")d(g.Body),f(g.Condition);else if(g.Type=="GenericForStat")g.GeneratorList.forEach((S,t)=>{f(S)}),d(g.Body);else if(g.Type=="NumericForStat")g.RangeList.forEach((S,t)=>{f(S)}),d(g.Body);else if(g.Type=="WhileStat")f(g.Condition),d(g.Body);else if(g.Type=="DoStat")d(g.Body);else if(g.Type=="IfStat")f(g.Condition),d(g.Body),g.ElseClauseList.forEach(S=>{S.Condition!=null&&f(S.Condition),d(S.Body)});else if(g.Type=="CallExprStat")f(g.Expression);else if(g.Type=="CompoundStat")f(g.Lhs),f(g.Rhs);else if(g.Type=="AssignmentStat")g.Lhs.forEach(S=>{f(S)}),g.Rhs.forEach(S=>{f(S)});else throw"unreachable"}}}p(g)}},s[te.Type]?d(te):f(te)}function _t(te){let b=[],c,s=0;function m(){return s++,s}function h(){c={ParentScope:c,ChildScopeList:[],VariableList:[],BeginLocation:m(),Depth:null,GetVar:null},c.ParentScope?(c.Depth=c.ParentScope.Depth+1,c.ParentScope.ChildScopeList.push(c)):c.Depth=1;let l=c;c.GetVar=function(r){for(const i of l.VariableList)if(i.Name==r)return i;if(l.ParentScope)return l.ParentScope.GetVar(r);for(const i of b)if(i.Name==r)return i}}function e(){let l=c;return l.EndLocation=m(),l.VariableList.forEach(r=>{r.ScopeEndLocation=l.EndLocation}),c=l.ParentScope,l}h();function p(l,r,i){C(i,"MIssing localInfo"),C(l,"Missing local var name");let G={Type:"Local",Name:l,RenameList:[r],AssignedTo:!1,Info:i,Scope:c,BeginLocation:m(),EndLocation:m(),ReferenceLocationList:[m()]};return G.Rename=function(ge){G.Name=ge,G.RenameList.forEach(ke=>{ke(ge)})},c.VariableList.push(G),G}function f(l){for(const i of b)if(i.Name==l)return i;let r={Type:"Global",Name:l,RenameList:[],AssignedTo:!1,Scope:null,BeginLocation:m(),EndLocation:m(),ReferenceLocationList:[]};return r.Rename=function(i){r.Name=i,r.RenameList.forEach(G=>{G(i)})},b.push(r),r}function d(l,r){C(l,"Missing var name");let i=f(l);return i.RenameList.push(r),i}function g(l,r){let i;for(i=l.VariableList.length-1;i>=0;i--)if(l.VariableList[i].Name==r)return l.VariableList[i];if(l.ParentScope){let G=g(l.ParentScope,r);if(G)return G}}function S(l,r){C(l,"Missing var name");let i=g(c,l);i?i.RenameList.push(r):i=d(l,r);let G=m();return i.EndLocation=G,i.ReferenceLocationList.push(i.EndLocation),i}let t={};return t.FunctionLiteral={Pre:function(l){h(),l.ArgList.forEach((r,i)=>{let G=p(r.Source,function(ge,ke){ke||(r.Source=ge)},{Type:"Argument",Index:i});r.var=G})},Post:function(l){e()}},t.VariableExpr=function(l){l.Variable=S(l.Token.Source,function(r){l.Token.Source=r})},t.StatList={Pre:function(l){h()},Post:function(l){l.SkipPop||e()}},t.LocalVarStat={Post:function(l){l.VarList.forEach((r,i)=>{p(r.Source,function(G){l.VarList[i].Source=G},{Type:"Local"})})}},t.LocalFunctionStat={Pre:function(l){p(l.FunctionStat.NameChain[0].Source,function(r){l.FunctionStat.NameChain[0].Source=r},{Type:"LocalFunction"}),h(),l.FunctionStat.ArgList.forEach((r,i)=>{p(r.Source,function(G){r.Source=G},{Type:"Argument",Index:i})})},Post:function(){e()}},t.FunctionStat={Pre:function(l){let r=l.NameChain,i;r.length==1?g(c,r[0].Source)?i=S(r[0].Source,function(G){r[0].Source=G}):i=d(r[0].Source,function(G){r[0].Source=G}):i=S(r[0].Source,function(G){r[0].Source=G}),i.AssignedTo=!0,h(),l.ArgList.forEach((G,ge)=>{p(G.Source,function(ke){G.Source=ke},{Type:"Argument",Index:ge})})},Post:function(){e()}},t.GenericForStat={Pre:function(l){return l.GeneratorList.forEach(r=>{lt(r,t)}),h(),l.VarList.forEach((r,i)=>{p(r.Source,function(G){r.Source=G},{Type:"ForRange",Index:i})}),lt(l.Body,t),e(),!0}},t.NumericForStat={Pre:function(l){return l.RangeList.forEach(r=>{lt(r,t)}),h(),l.VarList.forEach((r,i)=>{p(r.Source,function(G){r.Source=G},{Type:"ForRange",Index:i})}),lt(l.Body,t),e(),!0}},t.RepeatStat={Pre:function(l){l.Body.SkipPop=!0},Post:function(l){e()}},t.AssignmentStat={Post:function(l){l.Lhs.forEach(r=>{r.Variable!=null&&(r.Variable.AssignedTo=!0)})}},lt(te,t),[b,e()]}function yt(te){let b,c,s="",m=e=>typeof(e==null?void 0:e.LeadingWhite)!="string"?" ":e.LeadingWhite;function h(e){if(e.LeadingWhite==null||e.Source==null)throw`Bad token: tk=${e} | lwhite=${e.LeadingWhite} | source=${e.Source}`;s=`${s}${e.LeadingWhite}${e.Source}`}return c=function(e){if(e.Type=="BinopExpr")c(e.Lhs),h(e.Token_Op),c(e.Rhs);else if(e.Type=="UnopExpr")h(e.Token_Op),c(e.Rhs);else if(e.Type=="NumberLiteral"||e.Type=="StringLiteral"||e.Type=="NilLiteral"||e.Type=="BooleanLiteral"||e.Type=="VargLiteral"||e.Type=="HashLiteral")h(e.Token);else if(e.Type=="FieldExpr")c(e.Base),h(e.Token_Dot),h(e.Field);else if(e.Type=="IndexExpr")c(e.Base),h(e.Token_OpenBracket),c(e.Index),h(e.Token_CloseBracket);else if(e.Type=="MethodExpr"||e.Type=="CallExpr")c(e.Base),e.Type=="MethodExpr"&&(h(e.Token_Colon),h(e.Method)),e.FunctionArguments.CallType=="StringCall"?h(e.FunctionArguments.Token):e.FunctionArguments.CallType=="ArgCall"?(h(e.FunctionArguments.Token_OpenParen),e.FunctionArguments.ArgList.forEach((p,f)=>{c(p);let d=e.FunctionArguments.Token_CommaList[f];d!=null&&h(d)}),h(e.FunctionArguments.Token_CloseParen)):e.FunctionArguments.CallType=="TableCall"&&c(e.FunctionArguments.TableExpr);else if(e.Type=="FunctionLiteral")h(e.Token_Function),h(e.Token_OpenParen),e.ArgList.forEach((p,f)=>{h(p);let d=e.Token_ArgCommaList[f];d!=null&&h(d)}),e.Token_Varg!=null&&h(e.Token_Varg),h(e.Token_CloseParen),b(e.Body),h(e.Token_End);else if(e.Type=="VariableExpr")h(e.Token);else if(e.Type=="ParenExpr")h(e.Token_OpenParen),c(e.Expression),h(e.Token_CloseParen);else if(e.Type=="TableLiteral")h(e.Token_OpenBrace),e.EntryList.forEach((p,f)=>{if(p.EntryType=="Field")h(p.Field),h(p.Token_Equals),c(p.Value);else if(p.EntryType=="Index")h(p.Token_OpenBracket),c(p.Index),h(p.Token_CloseBracket),h(p.Token_Equals),c(p.Value);else if(p.EntryType=="Value")c(p.Value);else throw"unreachable";let d=e.Token_SeperatorList[f];d!=null&&h(d)}),h(e.Token_CloseBrace);else if(e.Type=="CompoundStat")b(e);else throw`unreachable, type: ${e.Type}: ${e}`},b=function(e){if(e==null)throw`STAT IS NIL! ${e}`;if(!(e.Type==="StatList"&&e.StatementList.length===0)){if(e.WrapInDo){let p=m(e.GetFirstToken());e.GetFirstToken().LeadingWhite="",s+=`${p}do `}e.Type=="StatList"?e.StatementList.forEach((p,f)=>{p===null||p.Type===null||(p.Remove=()=>{e.StatementList[f]=null},b(p),e.SemicolonList[f]&&h(e.SemicolonList[f]))}):e.Type=="BreakStat"?h(e.Token_Break):e.Type=="ContinueStat"?h(e.Token_Continue):e.Type=="GotoStat"?(h(e.Token_Goto),h(e.Token_Label)):e.Type=="LabelStat"?(h(e.Token_ColonsLeft),h(e.Token_Label),h(e.Token_ColonsRight)):e.Type=="ReturnStat"?(h(e.Token_Return),e.ExprList.forEach((p,f)=>{c(p),e.Token_CommaList[f]&&h(e.Token_CommaList[f])})):e.Type=="LocalVarStat"?(h(e.Token_Local),e.VarList.forEach((p,f)=>{h(p),p.Attribute!=null&&h(p.Attribute);let d=e.Token_VarCommaList[f];d!=null&&h(d)}),e.Token_Equals!=null&&(h(e.Token_Equals),e.ExprList.forEach((p,f)=>{c(p);let d=e.Token_ExprCommaList[f];d!=null&&h(d)}))):e.Type=="LocalFunctionStat"?(h(e.Token_Local),h(e.FunctionStat.Token_Function),h(e.FunctionStat.NameChain[0]),h(e.FunctionStat.Token_OpenParen),e.FunctionStat.ArgList.forEach((p,f)=>{h(p);let d=e.FunctionStat.Token_ArgCommaList[f];d!=null&&h(d)}),e.FunctionStat.Token_Varg&&h(e.FunctionStat.Token_Varg),h(e.FunctionStat.Token_CloseParen),b(e.FunctionStat.Body),h(e.FunctionStat.Token_End)):e.Type=="FunctionStat"?(h(e.Token_Function),e.NameChain.forEach((p,f)=>{h(p);let d=e.Token_NameChainSeperator[f];d!=null&&h(d)}),h(e.Token_OpenParen),e.ArgList.forEach((p,f)=>{h(p);let d=e.Token_ArgCommaList[f];d!=null&&h(d)}),e.Token_Varg&&h(e.Token_Varg),h(e.Token_CloseParen),b(e.Body),h(e.Token_End)):e.Type=="RepeatStat"?(h(e.Token_Repeat),b(e.Body),h(e.Token_Until),c(e.Condition)):e.Type=="GenericForStat"?(h(e.Token_For),e.VarList.forEach((p,f)=>{h(p);let d=e.Token_VarCommaList[f];d!=null&&h(d)}),h(e.Token_In),e.GeneratorList.forEach((p,f)=>{c(p);let d=e.Token_GeneratorCommaList[f];d!=null&&h(d)}),h(e.Token_Do),b(e.Body),h(e.Token_End)):e.Type=="NumericForStat"?(h(e.Token_For),e.VarList.forEach((p,f)=>{h(p);let d=e.Token_VarCommaList[f];d!=null&&h(d)}),h(e.Token_Equals),e.RangeList.forEach((p,f)=>{c(p);let d=e.Token_RangeCommaList[f];d!=null&&h(d)}),h(e.Token_Do),b(e.Body),h(e.Token_End)):e.Type=="WhileStat"?(h(e.Token_While),c(e.Condition),h(e.Token_Do),b(e.Body),h(e.Token_End)):e.Type=="DoStat"?(h(e.Token_Do),b(e.Body),h(e.Token_End)):e.Type=="IfStat"?(h(e.Token_If),c(e.Condition),h(e.Token_Then),b(e.Body),e.ElseClauseList.forEach(p=>{h(p.Token),p.Condition!=null&&(c(p.Condition),h(p.Token_Then)),b(p.Body)}),h(e.Token_End)):e.Type=="CallExprStat"?c(e.Expression):e.Type=="CompoundStat"?(c(e.Lhs),h(e.Token_Compound),c(e.Rhs),e.Type="CompoundStat"):e.Type=="AssignmentStat"?(e.Lhs.forEach((p,f)=>{c(p);let d=e.Token_LhsSeperatorList[f];d!=null&&h(d)}),h(e.Token_Equals),e.Rhs.forEach((p,f)=>{c(p);let d=e.Token_RhsSeperatorList[f];d!=null&&h(d)})):C(!1,"unreachable"),e.WrapInDo&&(s+=" end ")}},b(te),s}function $(te){let b,c,s=0;function m(t){if(t===void 0)return;let l=`
${"	".repeat(s)}`;if(t.LeadingWhite==""||t.LeadingWhite.substr(-l.length,l.length)!=l){let r="",i;for(i=t.LeadingWhite.length;i>=0;i--){let G=t.LeadingWhite.substr(i,1);if(!(G==""||G.match(/\s/g))){r=t.LeadingWhite.substr(0,i+1);break}}t.LeadingWhite=`${r}${l}`}}function h(){s++}function e(){s--,C(s>=0,"Undented too far")}function p(t){return t.LeadingWhite.length>0?t.LeadingWhite.substr(0,1):t.Source.toString().substr(0,1)}function f(t){t.LeadingWhite=t.LeadingWhite.trim()}function d(t){f(t),be.includes(p(t))||(t.LeadingWhite=" "+t.LeadingWhite)}function g(t){d(t.GetFirstToken())}function S(t,l,r){h(),b(l),e(),m(r)}c=function(t){if(t.Type=="BinopExpr")c(t.Lhs),c(t.Rhs),g(t.Rhs),d(t.Token_Op);else if(t.Type=="UnopExpr")f(t.Token_Op),c(t.Rhs),t.Token_Op.Source[0]&&d(t.Rhs.GetFirstToken());else if(t.Type=="NumberLiteral"||t.Type=="StringLiteral"||t.Type=="NilLiteral"||t.Type=="BooleanLiteral"||t.Type=="VargLiteral"||t.Type=="HashLiteral")f(t.Token),t.Type=="HashLiteral"&&(t.Token.Source='"'+v(`${t.Token.Source.substring(1,t.Token.Source.length-1)}`)+'"',t.Type="StringLiteral",t.Token.Type="String");else if(t.Type=="FieldExpr")c(t.Base);else if(t.Type=="IndexExpr")c(t.Base),c(t.Index);else if(t.Type=="MethodExpr"||t.Type=="CallExpr")c(t.Base),f(t.FunctionArguments.GetFirstToken()),f(t.FunctionArguments.GetLastToken()),t.Type=="MethodExpr",t.FunctionArguments.CallType=="StringCall"||(t.FunctionArguments.CallType=="ArgCall"?t.FunctionArguments.ArgList.forEach((l,r)=>{c(l),r>0&&g(l);let i=t.FunctionArguments.Token_CommaList[r];i!=null&&f(i)}):t.FunctionArguments.CallType=="TableCall"&&c(t.FunctionArguments.TableExpr));else if(t.Type=="FunctionLiteral")t.ArgList.forEach((l,r)=>{r>0&&d(l),t.Token_ArgCommaList[r]}),t.ArgList.length>0&&t.Token_Varg!=null&&d(t.Token_Varg),S(t.Token_CloseParen,t.Body,t.Token_End);else if(t.Type!="VariableExpr")if(t.Type=="ParenExpr")f(t.Token_OpenParen),f(t.Token_CloseParen),c(t.Expression);else if(t.Type=="TableLiteral"){if(t.EntryList.length!=0){h();let l=100;t.EntryList.forEach((r,i)=>{r.EntryType=="Field"?(t.EntryList.length>l?gt(r.Value):m(r.Field),d(r.Token_Equals),c(r.Value),g(r.Value)):r.EntryType=="Index"?(t.EntryList.length>l?f(r.Token_OpenBracket):m(r.Token_OpenBracket),c(r.Index),d(r.Token_Equals),c(r.Value),g(r.Value)):r.EntryType=="Value"?(c(r.Value),t.EntryList.length>l?gt(r.Value):m(r.Value.GetFirstToken())):C(!1,"unreachable");let G=t.Token_SeperatorList[i];G!=null&&(t.EntryList.length>l?G.LeadingWhite="":f(G))}),e(),t.EntryList.length>l?t.Token_CloseBrace.LeadingWhite="":m(t.Token_CloseBrace)}}else if(t.Type=="CompoundStat")b(t);else throw Ve(t),`unreachable, type: ${t.Type}:`+t},b=function(t){if(t.Type=="StatList")t.StatementList.forEach((l,r)=>{l===null||l.Type===null||l.Type==="StatList"&&l.StatementList.length===0||(l.Remove=()=>{l.StatementList[r]=null},b(l),m(l.GetFirstToken()))});else if(t.Type!="BreakStat"){if(t.Type!="ContinueStat"){if(t.Type!="GotoStat"){if(t.Type!="LabelStat")if(t.Type=="ReturnStat")t.ExprList.forEach((l,r)=>{c(l),g(l),t.Token_CommaList[r]});else if(t.Type=="LocalVarStat"){if(t.VarList.forEach((l,r)=>{d(l),l.Attribute&&(l.Attribute.LeadingWhite=" "),t.Token_VarCommaList[r]}),t.Token_Equals){f(t.Token_Equals),d(t.Token_Equals);let l=[],r=[];t.ExprList.forEach((i,G)=>{i!=null&&(G<t.VarList.length||i.Type=="CallExpr"||i.Type=="ParenExpr"||i.Type=="VargLiteral"||i.Type=="BinopExpr"||i.Type=="UnopExpr")&&(l.push(i),r.push(t.Token_ExprCommaList[G]))}),t.ExprList=l,t.CommaList=r,t.ExprList.forEach((i,G)=>{i!=null&&(c(i),g(i),t.Token_ExprCommaList[G]!=null&&t.ExprList.length-1==G&&(t.Token_ExprCommaList[G]=null))})}}else if(t.Type=="LocalFunctionStat")d(t.FunctionStat.Token_Function),d(t.FunctionStat.NameChain[0]),t.FunctionStat.ArgList.forEach((l,r)=>{r>0?d(l):f(l);let i=t.FunctionStat.Token_ArgCommaList[r];i&&f(i)}),t.FunctionStat.ArgList.length>0&&t.FunctionStat.Token_Varg?(f(t.FunctionStat.Token_Varg),d(t.FunctionStat.Token_Varg)):t.FunctionStat.Token_Varg&&f(t.FunctionStat.Token_Varg),f(t.FunctionStat.Token_OpenParen),f(t.FunctionStat.Token_CloseParen),S(t.FunctionStat.Token_CloseParen,t.FunctionStat.Body,t.FunctionStat.Token_End);else if(t.Type=="FunctionStat")t.NameChain.forEach((l,r)=>{r==0&&d(l),t.Token_NameChainSeperator[r]}),t.ArgList.forEach((l,r)=>{r>0&&d(l),t.Token_ArgCommaList[r]}),t.ArgList.length>0&&t.Token_Varg&&d(t.Token_Varg),S(t.Token_CloseParen,t.Body,t.Token_End);else if(t.Type=="RepeatStat")S(t.Token_Repeat,t.Body,t.Token_Until),c(t.Condition),g(t.Condition);else if(t.Type=="GenericForStat")t.VarList.forEach((l,r)=>{d(l),t.Token_VarCommaList[r]}),d(t.Token_In),t.GeneratorList.forEach((l,r)=>{c(l),g(l),t.Token_GeneratorCommaList[r]}),d(t.Token_Do),S(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="NumericForStat")t.VarList.forEach((l,r)=>{d(l),t.Token_VarCommaList[r]}),d(t.Token_Equals),t.RangeList.forEach((l,r)=>{c(l),g(l),t.Token_RangeCommaList[r]}),d(t.Token_Do),S(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="WhileStat")c(t.Condition),g(t.Condition),d(t.Token_Do),S(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="DoStat")S(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="IfStat"){c(t.Condition),g(t.Condition),d(t.Token_Then);let l=t.Token_Then,r=t.Body;t.ElseClauseList.forEach(i=>{S(l,r,i.Token),l=i.Token,i.Condition!=null&&(c(i.Condition),g(i.Condition),d(i.Token_Then),l=i.Token_Then),r=i.Body}),S(l,r,t.Token_End)}else t.Type=="CallExprStat"?c(t.Expression):t.Type=="CompoundStat"?(c(t.Lhs),c(t.Rhs),g(t.Lhs),g(t.Rhs),d(t.Token_Compound)):t.Type=="AssignmentStat"?(t.Lhs.forEach((l,r)=>{c(l),r>0&&g(l),t.Token_LhsSeperatorList[r]}),d(t.Token_Equals),t.Rhs.forEach((l,r)=>{c(l),g(l),t.Token_RhsSeperatorList[r]})):C(!1,"Unreachable")}}}},b(te)}function gt(te){let b,c;function s(e){e&&(e.LeadingWhite="")}function m(e,p,f=!1){s(p);let d=(typeof e.Source=="string"?e.Source:e.Source.toString()).substr(e.Source.length-1,1),g=(typeof p.Source=="string"?p.Source:p.Source.toString()).substr(0,1);d=="-"&&g=="-"||Se.includes(d)&&Se.includes(g)||f&&d==")"&&g=="("?p.LeadingWhite=f?";":" ":p.LeadingWhite=""}function h(e,p,f){b(p),s(f);let d=p.GetFirstToken(),g=p.GetLastToken();d!=null?(m(e,d),m(g,f)):m(e,f)}c=function(e){if(e.Type==="BinopExpr")c(e.Lhs),c(e.Rhs),e.Lhs.Type=="NumberLiteral"&&e.Token_Op.Source==".."?e.Token_Op.LeadingWhite=" ":(s(e.Token_Op),m(e.Lhs.GetLastToken(),e.Token_Op)),m(e.Token_Op,e.Rhs.GetFirstToken());else if(e.Type==="UnopExpr")s(e.Token_Op),c(e.Rhs),m(e.Token_Op,e.Rhs.GetFirstToken());else if(e.Type==="NumberLiteral"||e.Type==="StringLiteral"||e.Type==="NilLiteral"||e.Type==="BooleanLiteral"||e.Type==="VargLiteral"||e.Type==="HashLiteral")s(e.Token);else if(e.Type=="FieldExpr")c(e.Base),s(e.Token_Dot),s(e.Field);else if(e.Type=="IndexExpr")c(e.Base),s(e.Token_OpenBracket),c(e.Index),s(e.Token_CloseBracket);else if(e.Type=="MethodExpr"||e.Type=="CallExpr")c(e.Base),e.Type=="MethodExpr"&&(s(e.Token_Colon),s(e.Method)),e.FunctionArguments.CallType=="StringCall"?s(e.FunctionArguments.Token):e.FunctionArguments.CallType=="ArgCall"?(s(e.FunctionArguments.Token_OpenParen),e.FunctionArguments.ArgList.forEach((p,f)=>{c(p);let d=e.FunctionArguments.Token_CommaList[f];d!=null&&s(d)}),s(e.FunctionArguments.Token_CloseParen)):e.FunctionArguments.CallType=="TableCall"&&c(e.FunctionArguments.TableExpr);else if(e.Type=="FunctionLiteral")s(e.Token_Function),s(e.Token_OpenParen),e.ArgList.forEach((p,f)=>{s(p);let d=e.Token_ArgCommaList[f];d!=null&&s(d)}),e.Token_Varg!=null&&s(e.Token_Varg),s(e.Token_CloseParen),h(e.Token_CloseParen,e.Body,e.Token_End);else if(e.Type=="VariableExpr")s(e.Token);else if(e.Type=="ParenExpr")s(e.Token_OpenParen),c(e.Expression),s(e.Token_CloseParen);else if(e.Type=="TableLiteral")s(e.Token_OpenBrace),e.EntryList.forEach((p,f)=>{p.EntryType=="Field"?(s(p.Field),s(p.Token_Equals),c(p.Value)):p.EntryType=="Index"?(s(p.Token_OpenBracket),c(p.Index),s(p.Token_CloseBracket),s(p.Token_Equals),c(p.Value)):p.EntryType=="Value"?c(p.Value):C(!1,"unreachable");let d=e.Token_SeperatorList[f];d!=null&&s(d)}),e.Token_SeperatorList[e.EntryList.length-1]=null,s(e.Token_CloseBrace);else throw`unreachable, type: ${e.Type}:${e}  undefined`},b=function(e){if(e.Type=="StatList"){let p;for(p=0;p<=e.StatementList.length;p++){let f=e.StatementList[p];if(f==null)continue;b(f),s(f.GetFirstToken());let d=e.StatementList[p-1];if(d!=null){let g={")":["(","["],"]":["(","["]};if(e.SemicolonList[p-1]){let S=d.GetLastToken().Source,t=f.GetFirstToken().Source;(g[S]===null||g[S]===void 0||!g[S].includes(t))&&(e.SemicolonList[p-1]=null)}e.SemicolonList[p-1]||m(d.GetLastToken(),f.GetFirstToken(),!0)}}e.SemicolonList[e.StatementList.length-1]=null,e.StatementList.length>0&&s(e.StatementList[0].GetFirstToken())}else if(e.Type=="BreakStat")s(e.Token_Break);else if(e.Type=="ContinueStat")s(e.Token_Continue);else if(e.Type=="GotoStat")s(e.Token_Goto),m(e.Token_Goto,e.Token_Label);else if(e.Type=="LabelStat")s(e.Token_ColonsLeft),s(e.Token_Label),s(e.Token_ColonsRight);else if(e.Type=="ReturnStat")s(e.Token_Return),e.ExprList.forEach((p,f)=>{c(p),e.Token_CommaList[f]!=null&&s(e.Token_CommaList[f])}),e.ExprList.length>0&&m(e.Token_Return,e.ExprList[0].GetFirstToken());else if(e.Type=="LocalVarStat"){s(e.Token_Local);let p=!1;e.VarList.forEach((f,d)=>{d==0?m(e.Token_Local,f):s(f),f.Attribute&&(s(f.Attribute),d+1==e.VarList.length&&(p=!0));let g=e.Token_VarCommaList[d];g!=null&&s(g)}),e.Token_Equals!=null&&(p||s(e.Token_Equals),e.ExprList.forEach((f,d)=>{c(f);let g=e.Token_ExprCommaList[d];g!=null&&s(g)}))}else if(e.Type=="LocalFunctionStat")s(e.Token_Local),m(e.Token_Local,e.FunctionStat.Token_Function),m(e.FunctionStat.Token_Function,e.FunctionStat.NameChain[0]),m(e.FunctionStat.NameChain[0],e.FunctionStat.Token_OpenParen),e.FunctionStat.ArgList.forEach((p,f)=>{s(p);let d=e.FunctionStat.Token_ArgCommaList[f];d!=null&&s(d)}),e.FunctionStat.Token_Varg&&s(e.FunctionStat.Token_Varg),s(e.FunctionStat.Token_CloseParen),h(e.FunctionStat.Token_CloseParen,e.FunctionStat.Body,e.FunctionStat.Token_End);else if(e.Type=="FunctionStat")s(e.Token_Function),e.NameChain.forEach((p,f)=>{f==0?m(e.Token_Function,p):s(p);let d=e.Token_NameChainSeperator[f];d!=null&&s(d)}),s(e.Token_OpenParen),e.ArgList.forEach((p,f)=>{s(p);let d=e.Token_ArgCommaList[f];d!=null&&s(d)}),e.Token_Varg&&s(e.Token_Varg),s(e.Token_CloseParen),h(e.Token_CloseParen,e.Body,e.Token_End);else if(e.Type=="RepeatStat")s(e.Token_Repeat),h(e.Token_Repeat,e.Body,e.Token_Until),c(e.Condition),m(e.Token_Until,e.Condition.GetFirstToken());else if(e.Type=="GenericForStat")s(e.Token_For),e.VarList.forEach((p,f)=>{f==0?m(e.Token_For,p):s(p);let d=e.Token_VarCommaList[f];d!=null&&s(d)}),m(e.VarList[e.VarList.length-1],e.Token_In),e.GeneratorList.forEach((p,f)=>{c(p),f==0&&m(e.Token_In,p.GetFirstToken());let d=e.Token_GeneratorCommaList[f];d!=null&&s(d)}),m(e.GeneratorList[e.GeneratorList.length-1].GetLastToken(),e.Token_Do),h(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="NumericForStat")s(e.Token_For),e.VarList.forEach((p,f)=>{f==0?m(e.Token_For,p):s(p);let d=e.Token_VarCommaList[f];d!=null&&s(d)}),m(e.VarList[e.VarList.length-1],e.Token_Equals),e.RangeList.forEach((p,f)=>{c(p),f==0&&m(e.Token_Equals,p.GetFirstToken());let d=e.Token_RangeCommaList[f];d!=null&&s(d)}),m(e.RangeList[e.RangeList.length-1].GetLastToken(),e.Token_Do),h(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="WhileStat")s(e.Token_While),c(e.Condition),s(e.Token_Do),m(e.Token_While,e.Condition.GetFirstToken()),m(e.Condition.GetLastToken(),e.Token_Do),h(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="DoStat")s(e.Token_Do),s(e.Token_End),h(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="IfStat"){s(e.Token_If),c(e.Condition),m(e.Token_If,e.Condition.GetFirstToken()),m(e.Condition.GetLastToken(),e.Token_Then);let p=e.Token_Then,f=e.Body;e.ElseClauseList.forEach((d,g)=>{h(p,f,d.Token),p=d.Token,d.Condition!=null&&(c(d.Condition),m(d.Token,d.Condition.GetFirstToken()),m(d.Condition.GetLastToken(),d.Token_Then),p=d.Token_Then),b(d.Body),f=d.Body}),h(p,f,e.Token_End)}else if(e.Type=="CallExprStat")c(e.Expression);else if(e.Type=="CompoundStat")c(e.Lhs),s(e.Token_Compound),c(e.Rhs),m(e.Lhs.GetLastToken(),e.Token_Compound),m(e.Token_Compound,e.Rhs.GetFirstToken());else if(e.Type=="AssignmentStat")e.Lhs.forEach((p,f)=>{c(p);let d=e.Token_LhsSeperatorList[f];d!=null&&s(d)}),s(e.Token_Equals),e.Rhs.forEach((p,f)=>{c(p);let d=e.Token_RhsSeperatorList[f];d!=null&&s(d)});else return c(e)},b(te)}function He(te){let b,c,s={NumberLiteral:!0,BooleanLiteral:!0,StringLiteral:!0,HashLiteral:!0,NilLiteral:!0,TableLiteral:!0,ParenExpr:!0,BinopExpr:!0};function m(t,l,r=null){let i;return i={Type:t,Token:{Type:r??"Number",LeadingWhite:"",Source:l},GetFirstToken:()=>i.Token,GetLastToken:()=>i.Token},i}function h(t,l,r){let i;return i={Type:"BinopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:t},Lhs:l,Rhs:r,GetFirstToken:()=>i.Lhs.GetFirstToken(),GetLastToken:()=>i.Rhs.GetLastToken()},i}function e(t,l){let r;return r={Type:"UnopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:t},Rhs:l,GetFirstToken:()=>r.Token_Op,GetLastToken:()=>r.Rhs.GetLastToken()},r}function p(t,l){if(l!=null)for(var[r,i]of Object.entries(l))t[r]=i}function f(t){if(t==null||t.substr==null)return;let l=t.substr(0,1),r;if((l=='"'||l=="'")&&(r=t.substr(1,t.length-2)),l=="["){let ge=0,ke=1;for(;t.substr(ke,1)=="=";)ge++,ke++;r=t.substr(2+ge,t.length-4-ge-2)}if(r==null)return"";let i="",G;for(G=0;G<=r.length;G++){let ge=r.substr(G,1);ge=="'"||ge=='"'?i+=`\\${ge}`:i+=ge}return i}function d(t){if(typeof t=="object"&&t.Type=="ParenExpr")return p(t,t.Expression)}function g(t,l,r){let i=l,G=r;if(l&&l.Type=="ParenExpr"&&(i=l.Expression),r&&r.Type=="ParenExpr"&&(G=r.Expression),i==null||G==null||i.Type==null||G.Type==null||i.Type=="VariableExpr"||i.Type=="CallExpr"||i.Type=="BinopExpr"||G.Type=="CallExpr"||G.Type=="BinopExpr"||G.Type=="VariableExpr")return;let ge=i.Token||i.Expression!=null&&i.Expression.Token||null,ke=G.Token||G.Expression!=null&&G.Expression.Token||null,Ie=ge!=null?ge.Source:null,Ue=ke!=null?ke.Source:null,ee,X;if(i.Type=="BooleanLiteral"&&(ee=Ie=="true"),G.Type=="BooleanLiteral"&&(X=Ue=="true"),!(i.Type=="NumberLiteral"&&(ee=U(Ie),ee==null))&&!(G.Type=="NumberLiteral"&&(X=U(Ue),X==null))&&((i.Type=="StringLiteral"||i.Type=="HashLiteral")&&(ee=Ie.toString()),(G.Type=="StringLiteral"||G.Type=="HashLiteral")&&(X=Ue.toString()),ee!=null&&X!=null)){if(t=="==")return ee==X;if(t=="~=")return ee!=X;if(t=="and")return ee&&X;if(t=="or")return ee||X;if(t==".."&&i.Type=="StringLiteral"&&G.Type=="StringLiteral")return`"${f(Ie)+f(Ue)}"`;if(i.Type=="StringLiteral"&&(ee=U(f(ee))),G.Type=="StringLiteral"&&(X=U(f(X))),ee==null||X==null)return;let oe;if(t=="+"&&(oe=ee+X),t=="-"&&(oe=ee-X),t=="*"&&(oe=ee*X),t=="/"&&(oe=ee/X),t=="^"&&(oe=ee**X),t=="%"&&(oe=ee%X),t==">"&&(oe=ee>X),t=="<"&&(oe=ee<X),t==">="&&(oe=ee>=X),t=="<="&&(oe=ee<=X),oe==!1||oe==!0||isFinite(oe)&&oe>-(10**6)&&oe<10**6)return oe}}function S(t,l){let r=l.Token||l.Expression||l.EntryList||l;if(r==null||r.Source==null&&l.Type!="TableLiteral"||l.Type=="VariableExpr"||l.Type=="CallExpr"||l.Type=="BinopExpr")return;let i=r.Source,G;if(l.Type=="TableLiteral"&&r!=null){let ge=[],ke=0,Ie=!1,Ue=!1,ee=0;if(r.forEach((X,oe)=>{if(Ie)ge.push(X);else if(X.EntryType=="Value"||X.EntryType=="Index")if((X.Index==null||X.Index.Type=="NumberLiteral")&&X.Value){if((X.Index!=null&&X.Index.Token!=null&&X.Index.Token.Source!==null?X.Index.Token.Source:ee+1).toString()!==(++ee).toString())return Ie=!0,Ue=!0,ge.push(X);X.Value.Type!="CallExpr"?ke++:(Ie=!0,ge.push(X))}else ge.push(X)}),Ue)return;if(t=="#")return l.EntryList=ge,l.EntryList.length<=0?m("NumberLiteral",ke!==null?ke:l.EntryList.length):ke<=0?e("#",l):h("+",m("NumberLiteral",ke),e("#",l))}if(l.Type=="BooleanLiteral"&&(G=i=="true"),!(l.Type=="NumberLiteral"&&(G=U(i),G===null))){if(l.Type=="StringLiteral"&&(G=i.substr(1,i.length-2)),t=="not"&&l.Type!==null)return l.Type=="NilLiteral"||l.Type=="BooleanLiteral"&&G===!1;if(G!=null){if(t=="#")return G.length;if(t=="-")return-G}}}c=function(t){if(t.Type=="BinopExpr"){if(c(t.Lhs),c(t.Rhs),t.Lhs!=null&&t.Rhs!=null){let l=t.Token_Op;if(l!=null&&l.Source!=null){let r=g(l.Source,t.Lhs,t.Rhs);if(r!=null){if(typeof r=="boolean"){let i=m("BooleanLiteral",r.toString(),"Keyword");p(t,i);return}else if(typeof r=="number"){if(isFinite(r)==!0){let i=m("NumberLiteral",r.toString(),"Number");p(t,i);return}}else if(typeof r=="string"){let i=m("StringLiteral",r,"String");p(t,i);return}else if(typeof r=="object"){p(t,r);return}return}}if(t.Lhs.Type=="ParenExpr"){let i=t.Lhs.Expression;i.Type=="NumberLiteral"||i.Type=="StringLiteral"||i.Type=="NilLiteral"||i.Type=="BooleanLiteral"||i.Type=="HashLiteral"}if(t.Rhs.Type=="ParenExpr"){let i=t.Rhs.Expression;i.Type=="NumberLiteral"||i.Type=="StringLiteral"||i.Type=="NilLiteral"||i.Type=="BooleanLiteral"||i.Type=="HashLiteral"}}}else if(t.Type=="UnopExpr"){if(c(t.Rhs),t.Rhs!=null&&s[t.Rhs.Type]==!0){let l=t.Token_Op;if(l!=null&&l.Source!=null){let r=t.Rhs.Expression!=null?t.Rhs.Expression:t.Rhs,i=S(l.Source,r);if(i!=null){if(typeof i=="boolean"){let G=m("BooleanLiteral",i.toString(),"Keyword");p(t,G);return}else if(typeof i=="number"){if(isFinite(i)==!0){let G=m("NumberLiteral",i,"Number");p(t,G);return}}else if(typeof i=="string"){let G=m("StringLiteral",i,"String");p(t,G);return}else if(typeof i=="object"){p(t,i);return}return}}}}else if(t.Type=="NumberLiteral"||t.Type=="StringLiteral"||t.Type=="NilLiteral"||t.Type=="BooleanLiteral"||t.Type=="VargLiteral"||t.Type=="HashLiteral"){let l=t.Token;if(l!=null){if(l.Type=="Number"){let r=l.Source.toString().split("e");if(r.length===2){let i=U(r[0]),G=U(r[1]);isFinite(i)&&isFinite(G)&&i**G<999999999&&!l.Source.includes("+")&&l.Source.includes(".")&&!l.Source.includes("-")&&(l.Source=(i**G).toString())}}l.Type=="String"&&(l.Source=l.Source.replace(/\\\d+/gi,r=>{let i=U(r.substr(1,r.length-1));return i&&isFinite(i)&&(i>=97&&i<=122||i>=65&&i<=90||i>=33&&i<=47||i>=58&&i<=64||i>=91&&i<=96||i>=123&&i<=126)&&i!==34&&i!==39&&i!==92?String.fromCharCode(i):r}))}}else if(t.Type=="FieldExpr")c(t.Base);else if(t.Type=="IndexExpr")c(t.Base),c(t.Index);else if(t.Type=="MethodExpr"||t.Type=="CallExpr"){if(c(t.Base),t.FunctionArguments.CallType=="ArgCall"?t.FunctionArguments.ArgList.forEach((l,r)=>{c(l)}):t.FunctionArguments.CallType=="TableCall"&&c(t.FunctionArguments.TableExpr),t.Base.Type==="ParenExpr"&&t.Base.Expression.Type==="FunctionLiteral"&&t.FunctionArguments.CallType==="ArgCall"){let l=t.Base.Expression;t.FunctionArguments.ArgList.forEach((r,i)=>{let G=t.FunctionArguments.ArgList[i];if(G!==void 0&&(G.Type=="NumberLiteral"||G.Type=="StringLiteral"||G.Type=="NilLiteral"||G.Type=="BooleanLiteral"||G.Type=="HashLiteral")){let ge=l.ArgList[i];ge&&ge.var.RenameList.forEach(ke=>{ke(G.Token.Source,!0)})}})}}else if(t.Type=="FunctionLiteral")b(t.Body);else if(t.Type!="VariableExpr")if(t.Type=="ParenExpr"){let l=t.Expression;l!=null&&l.Type=="ParenExpr"&&(t.Expression=l.Expression),c(t.Expression),(t.Type=="NumberLiteral"||t.Type=="StringLiteral"||t.Type=="NilLiteral"||t.Type=="BooleanLiteral"||t.Type=="VargLiteral"||t.Type=="HashLiteral")&&d(t)}else t.Type=="TableLiteral"&&t.EntryList.forEach((l,r)=>{l.EntryType=="Field"?c(l.Value):l.EntryType=="Index"?(c(l.Index),c(l.Value)):l.EntryType=="Value"?c(l.Value):C(!1,"unreachable")})},b=function(t){if(t.Type=="StatList")t.StatementList.forEach((l,r)=>{l===null||l.Type===null||(l.Remove=()=>{t.StatementList[r]=null},b(l))});else if(t.Type!="BreakStat"){if(t.Type!="ContinueStat")if(t.Type=="ReturnStat")t.ExprList.forEach((l,r)=>{c(l)});else if(t.Type=="LocalVarStat")t.Token_Equals!=null&&t.ExprList.forEach((l,r)=>{c(l)});else if(t.Type=="LocalFunctionStat")b(t.FunctionStat.Body),t.FunctionStat.NameChain.length===1&&t.FunctionStat.NameChain[0].UseCount;else if(t.Type=="FunctionStat")b(t.Body);else if(t.Type=="RepeatStat")b(t.Body),c(t.Condition),t.Body.Type=="StatList"&&t.Body.StatementList.length;else if(t.Type=="GenericForStat")t.GeneratorList.forEach((l,r)=>{c(l)}),b(t.Body);else if(t.Type=="NumericForStat"){t.RangeList.forEach((X,oe)=>{c(X)}),b(t.Body);let l=t.RangeList[0],r=t.RangeList[1],i=t.RangeList[2];if(l==null||r==null)return t.Remove();if(d(l),d(r),d(i),l.Type!="NumberLiteral"||r.Type!="NumberLiteral"||i!=null&&i.Type!="NumberLiteral"||i==null)return;let G=U(l.Token.Source),ge=U(r.Token.Source),ke=i!=null&&U(i.Token.Source)||1,Ie=ke>0&&G<=ge||ke<0&&G>=ge,Ue=(ge-G+ke)/ke;if(!(Ie&&Ue>=0)||t.Body.Type=="StatList"&&t.Body.StatementList.length===0)return t.Remove()}else if(t.Type=="WhileStat"){c(t.Condition),b(t.Body);let l=t.Condition;switch(l.Type){case"ParenExpr":l=l.Expression;case"BooleanLiteral":if(l==null||l.Token==null||l.Token.Source!=="false")break;case"NilLiteral":t.Remove();break}}else if(t.Type=="DoStat"){if(b(t.Body),t.Body===null||t.Body.Type=="StatList"&&t.Body.StatementList.length===0)return t.Remove();if(t.Body.StatementList.length===1){let l=t.Body.StatementList[0];l.Type!=="ContinueStat"&&l.Type!=="BreakStat"&&l.Type!=="ReturnStat"&&p(t,l)}}else if(t.Type=="IfStat"){c(t.Condition),b(t.Body),t.ElseClauseList.forEach((r,i)=>{r.Condition!=null&&c(r.Condition),b(r.Body)});let l=t.Condition;switch(l.Type){case"ParenExpr":l=l.Expression;case"BooleanLiteral":if(t.ElseClauseList.length>=1||l==null||l.Token==null||l.Token.Source!=="false")break;case"NilLiteral":t.Remove();break}}else t.Type=="CallExprStat"?c(t.Expression):t.Type=="CompoundStat"?(c(t.Lhs),c(t.Rhs)):t.Type=="AssignmentStat"&&(t.Lhs.forEach((l,r)=>{c(l)}),t.Rhs.forEach((l,r)=>{c(l)}))}},b(te)}let me=[],Ee;for(Ee=97;Ee<=122;Ee++)me.push(String.fromCharCode(Ee));for(Ee=65;Ee<=90;Ee++)me.push(String.fromCharCode(Ee));for(Ee=48;Ee<=57;Ee++)me.push(String.fromCharCode(Ee));me.push("_");let Je=[];for(Ee=97;Ee<=122;Ee++)Je.push(String.fromCharCode(Ee));for(Ee=65;Ee<=90;Ee++)Je.push(String.fromCharCode(Ee));function dt(te){let b="",c=te%Je.length;for(te=(te-c)/Je.length,b=`${b}${Je[c]}`;te>0;){let s=te%me.length;te=(te-s)/me.length,b=`${b}${me[s]}`}return b}function _(te,b,c){let s=[];for(var[m,h]of Object.entries(it))s[m]=!0;let e=[];te.forEach(S=>{S.AssignedTo&&c?e.push(S):s[S.Name]=!0});function p(S){S.VariableList.forEach(t=>{e.push(t)}),S.ChildScopeList.forEach(t=>{p(t)})}p(b),e.forEach(S=>{S.UsedNameArray=[]}),e.sort((S,t)=>S-t);let f=0,d=[];function g(S){let t=d[S];if(t==null){for(t=dt(f),f++;s[t];)t=dt(f),f++;d[S]=t}return t}e.forEach((S,t)=>{S.Renamed=!0;let l=0;for(;S.UsedNameArray[l];)l++;S.Rename(g(l)),S.Scope?e.forEach(r=>{r.Renamed||(!r.Scope||r.Scope.Depth<S.Scope.Depth?r.ReferenceLocationList.some(i=>i>=S.BeginLocation&&i<=S.ScopeEndLocation?(r.UsedNameArray[l]=!0,!0):!1):r.Scope.Depth>S.Scope.Depth?S.ReferenceLocationList.some(i=>i>=r.BeginLocation&&i<=r.ScopeEndLocation?(r.UsedNameArray[l]=!0,!0):!1):S.BeginLocation<r.EndLocation&&S.EndLocation>r.BeginLocation&&(r.UsedNameArray[l]=!0))}):e.forEach(r=>{if(!r.Renamed)if(r.Type=="Global")r.UsedNameArray[l]=!0;else if(r.Type=="Local")S.ReferenceLocationList.some(i=>i>=r.BeginLocation&&i<=r.ScopeEndLocation?(r.UsedNameArray[l]=!0,!0):!1);else throw"Unreachable"})})}function O(te,b,c){let s=[];te.forEach(f=>{(!f.AssignedTo||!c)&&(s[f.Name]=!0)});let m=1,h=1;function e(f,d){f.Name=d,f.RenameList.forEach(g=>{g(d)})}if(c){let f={};te.forEach(d=>{d.AssignedTo&&!d.ChangedName&&(f[d.Name]=f[d.Name]||`G_${h}_`,d.ChangedName=!0,e(d,f[d.Name]),h++)})}function p(f){f.VariableList.forEach(d=>{let g=`L_${m}_`;d.Info.Type=="Argument"?g=`${g}arg${d.Info.Index}`:d.Info.Type=="LocalFunction"?g=`${g}func`:d.Info.Type=="ForRange"&&(g=`${g}forvar${d.Info.Index}`),e(d,g),m++}),f.ChildScopeList.forEach(d=>{p(d)})}p(b)}let Z=`--[[
	Code generated using github.com/Herrtt/luamin.js
	An open source Lua beautifier and minifier.
--]]

`,Ze={};Ze.Minify=function(te,b){let c=pe(te),[s,m]=_t(c);b.RenameVariables==!0&&_(s,m,b.RenameGlobals),b.SolveMath==!0&&He(c),gt(c);let h=yt(c);return h=`${Z}

${h}`,h},Ze.Beautify=function(te,b){let c=pe(te),[s,m]=_t(c);b.RenameVariables&&O(s,m,b.RenameGlobals),b.SolveMath==!0&&He(c),$(c);let h=yt(c);return h=`${Z}

${h}`,h};try{ft!=null&&ft.exports!=null&&(ft.exports.Beautify=Ze.Beautify,ft.exports.Minify=Ze.Minify)}catch{}})(qt);var Ln=qt.exports;const $t=Ln;Pt.Beautify=$t.Beautify;Pt.Minify=$t.Minify;Pt.Uglify=$t.Uglify;const en={master:`return {
  desc="\\
",
  hideminimap=false,
  id="ENDLESS",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    balatro="default",
    bananabush_portalrate="default",
    basicresource_regrowth="always",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="always",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="none",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wanderingtrader_enabled="always",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="endless",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="\\
",
  settings_id="ENDLESS",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc="\\
",
  worldgen_id="ENDLESS",
  worldgen_name="" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc=" ",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="always",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="always",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="none",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc=" ",
  settings_id="DST_CAVE",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc=" ",
  worldgen_id="DST_CAVE",
  worldgen_name="" 
}`},tn={master:`return {
  desc="",
  hideminimap=false,
  id="SURVIVAL_TOGETHER",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    balatro="default",
    bananabush_portalrate="default",
    basicresource_regrowth="none",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="none",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="default",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wanderingtrader_enabled="always",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="survival",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="",
  settings_id="SURVIVAL_TOGETHER",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc="",
  worldgen_id="SURVIVAL_TOGETHER",
  worldgen_name="" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc=" ",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="none",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="none",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="default",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc=" ",
  settings_id="DST_CAVE",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc=" ",
  worldgen_id="DST_CAVE",
  worldgen_name="" 
}`},nn={master:`return {
  desc="\\
\\
",
  hideminimap=false,
  id="RELAXED",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    balatro="default",
    bananabush_portalrate="default",
    basicresource_regrowth="none",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="rare",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="nonlethal",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="none",
    hound_mounds="default",
    houndmound="default",
    hounds="rare",
    hunger="nonlethal",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="always",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="always",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="none",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="rare",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="nonlethal",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wanderingtrader_enabled="always",
    wasps="default",
    weather="default",
    wildfires="never",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="relaxed",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="\\
\\
",
  settings_id="RELAXED",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc="\\
\\
",
  worldgen_id="RELAXED",
  worldgen_name="" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc=" ",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="none",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="rare",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="nonlethal",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="none",
    hunger="nonlethal",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="always",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="always",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="none",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="rare",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="nonlethal",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc=" ",
  settings_id="DST_CAVE",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc=" ",
  worldgen_id="DST_CAVE",
  worldgen_name="" 
}`},an={master:`return {
  desc="\\
\\
",
  hideminimap=false,
  id="WILDERNESS",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    balatro="default",
    bananabush_portalrate="default",
    basicresource_regrowth="always",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="none",
    ghostsanitydrain="none",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="none",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="none",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="scatter",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wanderingtrader_enabled="always",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="wilderness",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="\\
\\
",
  settings_id="WILDERNESS",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc="\\
\\
",
  worldgen_id="WILDERNESS",
  worldgen_name="" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc=" ",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="always",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="none",
    ghostsanitydrain="none",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="none",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="none",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="scatter",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc=" ",
  settings_id="DST_CAVE",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc=" ",
  worldgen_id="DST_CAVE",
  worldgen_name="" 
}`},Ot={master:`return {
  desc="",
  hideminimap=false,
  id="LIGHTS_OUT",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    balatro="default",
    bananabush_portalrate="default",
    basicresource_regrowth="none",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="onlynight",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="none",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="default",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="darkness",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wanderingtrader_enabled="always",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="lightsout",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="",
  settings_id="LIGHTS_OUT",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc="",
  worldgen_id="LIGHTS_OUT",
  worldgen_name="" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc=" ",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="none",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="onlynight",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="none",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="default",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc=" ",
  settings_id="DST_CAVE",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc=" ",
  worldgen_id="DST_CAVE",
  worldgen_name="" 
}`},Vn=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Cn={class:"page-div"},En={class:"card-header"},Fn={key:0},Mn={class:"el-form-item-msg"},An={class:"card-header"},xn={style:{display:"flex","flex-wrap":"wrap"}},Bn={style:{width:"99%"}},Gn={style:{width:"100%"}},Rn={style:{"font-weight":"bolder"}},In={class:"item-container"},Pn={style:{"font-weight":"bolder"}},Un={class:"item-container"},Dn={style:{"font-weight":"bolder"}},Nn={class:"item-container"},zn={style:{"font-weight":"bolder"}},Wn={class:"item-container"},On={style:{"font-weight":"bolder"}},qn={class:"item-container"},$n={style:{"font-weight":"bolder"}},Kn={class:"item-container"},jn={style:{"font-weight":"bolder"}},Hn={class:"item-container"},Jn={style:{"font-weight":"bolder"}},Xn={class:"item-container"},Yn={style:{"font-weight":"bolder"}},Zn={class:"item-container"},Qn={style:{"font-weight":"bolder"}},ea={class:"item-container"},ta={style:{"font-weight":"bolder"}},na={class:"item-container"},aa={style:{"font-weight":"bolder"}},la={class:"item-container"},oa={style:{"font-weight":"bolder"}},ra={class:"item-container"},ua={style:{"font-weight":"bolder"}},ia={class:"item-container"},sa={style:{"font-weight":"bolder"}},da={class:"item-container"},fa={style:{"font-weight":"bolder"}},ca={class:"item-container"},ma={style:{"font-weight":"bolder"}},pa={class:"item-container"},ga={style:{"font-weight":"bolder"}},ha={class:"item-container"},_a={style:{"font-weight":"bolder"}},ya={class:"item-container"},Ta={style:{"font-weight":"bolder"}},ba={class:"item-container"},ka={style:{"font-weight":"bolder"}},va={class:"item-container"},Sa={style:{"font-weight":"bolder"}},wa={class:"item-container"},La={style:{"font-weight":"bolder"}},Va={class:"item-container"},Ca={class:"tip"},Ea={style:{display:"flex","align-items":"center"}},Fa={style:{display:"flex","justify-content":"flex-end"}},Ma={class:"tip_warning"},Aa={style:{margin:"10px"}},xa={style:{display:"flex","justify-content":"flex-end","padding-top":"10px"}},Ba={style:{display:"flex","align-items":"center"}},Ga={key:0,class:"ml-4",style:{width:"50%"}},Ra={class:"emoji-container mt-4 mb-6"},Ia=["onClick"],Pa={__name:"room",setup(ft){const{t:v}=fn();cn(async()=>{Ve.value=Sn(14),U.value=window.innerHeight,window.addEventListener("resize",()=>{U.value=window.innerHeight}),await it(),await bt(),await st(),await Ee(),g()});const Ve=Be(""),C=Be(!1),U=Be(0),{isMobile:be}=mn(),ce=pn(),Ce=gn(),ct=Wt(()=>ce.isDark),Se=Wt(()=>ce.language),mt=Ce.userInfo,qe=Wt(()=>{const k=(Ke.value||[]).findIndex(Y=>Y.clusterName===ce.selectedDstCluster);return k!==-1?k:0}),pt=hn();_n();const ut=yn(),Ye=Tn("refresh"),et=(F,k)=>{let Y=null;return(...Te)=>{Y&&clearTimeout(Y),Y=setTimeout(()=>F(...Te),k)}},Ke=Be([]),it=()=>{Tt.clusters.all.get().then(F=>{Ke.value=F.data})},je=()=>{Tt.clusters.get().then(F=>{ce.dstClusters=F.data,ce.selectedDstCluster===null&&ce.dstClusters!==null&&(ce.selectedDstCluster=ce.dstClusters[0].clusterName)})},tt=Be(0),st=()=>{bn.userInfo.get().then(F=>{tt.value=F.data.maxWorldsPerCluster})},nt=()=>{setTimeout(()=>{pt.meta.isKeepAlive&&ut.removeKeepAliveName(pt.name),Ye(!1),vt(()=>{pt.meta.isKeepAlive&&ut.addKeepAliveName(pt.name),Ye(!0)})},0)},ae=Be(0),ye=Be(!1),pe=F=>{ae.value>F&&(ae.value=F)},lt=()=>{ae.value--},_t=async()=>{if(ae.value===0){if($.value.gameMode==="custom"&&$.value.customGameMode===""){at(Se.value==="zh"?"":"Please input custom game mode");return}yt.value.validate(async F=>{F&&(me.value||(h.value=1,e.value="World1",p.value=[{id:101,name:"World1",isMaster:!0,levelData:"",serverPort:11001+qe.value*10,shardMasterPort:10888+qe.value*10,steamMasterPort:27018+qe.value*10,steamAuthenticationPort:8768+qe.value*10,shardMasterIp:"127.0.0.1",clusterKey:Ve.value,encodeUserPath:!0,saved:!1}]),ae.value++)})}if(ae.value===1){if(mt.role!=="admin"&&p.value.length>tt.value){let k="";Se.value==="zh"?k=`${tt.value}`:k=`Exceeds the maximum number of worlds that can be created. The current maximum is ${tt.value}`,at(k);return}const F=["serverPort","shardMasterPort","steamMasterPort","steamAuthenticationPort"];for(let k of p.value)for(const Y of oe.value)if(Y.clusterName!==ce.selectedDstCluster){for(let Te of F)if(Y.worldPort!==null&&Y.worldPort.includes(k[Te])){at(`[${v(`setting.roomWorldForm.${Te}`)}]:${k[Te]} ${Se.value==="zh"?"":"Port Conflicted, please check and modify"}`,3e3);return}}for(let k in d)d!=null&&d.key&&await d[k].validate();for(let k of p.value){if(k.levelData===""){at(Se.value==="zh"?"":"Please input world configure");return}if(k.shardMasterPort!==p.value[0].shardMasterPort){at(Se.value==="zh"?"":"Master Port must be same");return}try{Rt.parse(k.levelData)}catch{at(v("setting.luaError"));return}}ae.value++;return}if(ae.value===2)if(He.value)try{Rt.parse(He.value.mod),ae.value++}catch{at(v("setting.luaError"))}else ae.value++},yt=Be(),$=Be({clusterName:ce.selectedDstCluster,name:"",description:"",gameMode:"",customGameMode:"",pvp:!1,playerNum:6,backDays:10,vote:!1,consoleEnabled:!0,pauseEmptyDisabled:!1,password:"",token:""}),gt={name:[{required:!0,message:v("setting.roomBaseFormRules.name"),trigger:"blur"}],masterPort:[{required:!0,message:v("setting.roomBaseFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:v("setting.roomBaseFormRules.cavesPort"),trigger:"blur"}],gameMode:[{required:!0,message:v("setting.roomBaseFormRules.gameMode"),trigger:"change"}],token:[{required:!0,message:v("setting.roomBaseFormRules.token"),trigger:"blur"}]},He=Be({mod:""}),me=Be(!1),Ee=()=>{const F={clusterName:ce.selectedDstCluster};Tt.cluster.get(F).then(k=>{if($.value=k.data.clusterSetting,k.data.worlds){p.value=k.data.worlds;let Y=1,Te=999999;for(let Ae of p.value){let he=parseInt(Ae.name.replace("World",""));he>Y&&(Y=he),he<Te&&(Te=he),Ae.saved=!0,Ve.value=Ae.clusterKey}h.value=Y,e.value="World"+Te.toString(),me.value=!0}else me.value=!1;He.value.mod=k.data.mod})},Je=async F=>{switch(F){case"save":dt();break;case"saveAndRestart":_();break;case"generateNewWorld":O();break}},dt=()=>{$.value.gameMode!=="custom"&&($.value.customGameMode="");const F={clusterSetting:$.value,worlds:p.value,mod:He.value.mod,sysSetting:{}};C.value=!0,Tt.cluster.save.post(F).then(k=>{Bt(k.message),C.value=!1,je()}).finally(()=>{C.value=!1,vt(()=>{nt()})})},_=()=>{$.value.gameMode!=="custom"&&($.value.customGameMode="");const F={clusterSetting:$.value,worlds:p.value,mod:He.value.mod,sysSetting:{}};C.value=!0,Tt.cluster.saveRestart.post(F).then(k=>{Bt(k.message),C.value=!1,je()}).finally(()=>{C.value=!1,vt(()=>{nt()})})},O=()=>{$.value.gameMode!=="custom"&&($.value.customGameMode="");const F={clusterSetting:$.value,worlds:p.value,mod:He.value.mod,sysSetting:{}};C.value=!0,Tt.cluster.saveRegenerate.post(F).then(k=>{Bt(k.message),C.value=!1,je()}).finally(()=>{C.value=!1,vt(()=>{nt()})})},Z=Be({}),Ze=F=>{if(F==="")return;const k=Rt.parse(F),Y=te(k);Z.value=b(Y)};function te(F){const Y=F.body[0].arguments[0];for(const Te of Y.fields)if(Te.key.type==="Identifier"&&Te.key.name==="overrides")return Te.value;return null}function b(F){const k={};for(const Y of F.fields){const Te=Y.key.name;k[Te]=Y.value.raw.replace(/"/g,"")}return k}const c=F=>{let k=Pt.Beautify(F,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1});return k=k.replace(/--\[\[\n\t.+\n\t.+\n--]]\n\n\n\n\n/g,""),k=k.replace(/ = /g,"="),k=k.replace(/\t/g,"  "),k=k.replace(/overrides=\{ +(.+)\n/g,`overrides={
    $1
`),k=k.replace(/^(\w+)=(.+)\n/gm,`    $1=$2
`),k=k.replace(/(.+)},\n/g,`$1
  },
`),k=k.replace(/^ +?\n/gm,""),k},s=et(F=>{const k=F.name,Y=F.value;for(let Te of p.value)if(Te.name===e.value){const Ae=Rt.parse(Te.levelData),he=te(Ae);for(let w of he.fields)w.key.name===k&&(w.value.raw=`"${Y}"`);Te.levelData=m(Ae);break}},100),m=(F,k=0)=>{const Y="    ".repeat(k);switch(F.type){case"Chunk":return F.body.map(Te=>m(Te,k)).join(`
`);case"LocalStatement":return`${Y}local ${F.variables.map(m).join(", ")} = ${F.init.map(m).join(", ")}`;case"FunctionDeclaration":return`${Y}function ${m(F.identifier)}(${F.parameters.map(m).join(", ")}) 
${m(F.body,k+1)}
${Y}end`;case"ReturnStatement":return`${Y}return ${F.arguments.map(m).join(", ")}`;case"BinaryExpression":return`${m(F.left)} ${F.operator} ${m(F.right)}`;case"CallStatement":return`${Y}${m(F.expression)}`;case"Identifier":return F.name;case"StringLiteral":return`${F.raw}`;case"NumericLiteral":return F.raw;case"VarargLiteral":return"...";case"TableConstructorExpression":return`${Y}{ ${F.fields.map(Te=>m(Te,k+1)).join(`,
`+Y)} }`;case"Field":return F.key?`${m(F.key)} = ${m(F.value)}`:m(F.value);case"AssignmentStatement":return`${Y}${F.variables.map(m).join(", ")} = ${F.init.map(m).join(", ")}`;case"CallExpression":return`${m(F.base)}(${F.arguments.map(m).join(", ")})`;case"TableKeyString":return`${m(F.key)} = ${m(F.value)}`;case"BooleanLiteral":return F.raw;case"TableKey":return`[${m(F.key)}] = ${m(F.value)}`;case"TableValue":return m(F.value);default:throw new Error(`Unsupported node type: ${F.type}`)}},h=Be(1),e=Be("World1"),p=Be([{id:101,name:"World1",isMaster:!0,levelData:"",serverPort:11001+qe.value*10,shardMasterPort:10888+qe.value*10,steamMasterPort:27018+qe.value*10,steamAuthenticationPort:8768+qe.value*10,shardMasterIp:"127.0.0.1",clusterKey:Ve.value,encodeUserPath:!0}]),f={id:[{required:!0,message:v("setting.roomWorldFormRules.id"),trigger:"blur"}],isMaster:[{required:!0,trigger:"change"}],encodeUserPath:[{required:!0,trigger:"change"}],serverPort:[{required:!0,message:v("setting.roomWorldFormRules.masterPort"),trigger:"blur"}],shardMasterPort:[{required:!0,message:v("setting.roomWorldFormRules.shardMasterPort"),trigger:"blur"}],steamMasterPort:[{required:!0,message:v("setting.roomWorldFormRules.steamMasterPort"),trigger:"blur"}],steamAuthenticationPort:[{required:!0,message:v("setting.roomWorldFormRules.steamAuthenticationPort"),trigger:"blur"}],shardMasterIp:[{required:!0,message:v("setting.roomWorldFormRules.shardMasterIp"),trigger:"blur"}],clusterKey:[{required:!0,message:v("setting.roomWorldFormRules.clusterKey"),trigger:"blur"}]},d={},g=()=>{for(let F of p.value){const k=p.value.length;h.value=k,d[`World${k}`]=Be()}},S=(F,k)=>{if(k==="add"){h.value++;const Y=`World${h.value}`;d[Y]=Be(),p.value.push({id:h.value+100,name:Y,isMaster:!1,levelData:"",serverPort:11e3+h.value+qe.value*10,shardMasterPort:10888+qe.value*10,steamMasterPort:27017+h.value+qe.value*10,steamAuthenticationPort:8767+h.value+qe.value*10,shardMasterIp:"127.0.0.1",clusterKey:Ve.value,encodeUserPath:!0}),e.value=Y}else if(k==="remove"){if(p.value.length===1){at(Se.value==="zh"?"":"Every room must include at least one world");return}const Y=p.value;let Te=e.value;Y.forEach((Ae,he)=>{if(Ae.name===F){const w=Y[he+1]||Y[he-1];w&&(Te=w.name)}}),e.value=Te,p.value=Y.filter(Ae=>Ae.name!==F),delete d[F]}t.value="Code"},t=Be("Code"),l=F=>{for(let k of p.value)k.name===e.value&&(F.clusterType==="endless"&&(F.worldType==="ground"&&(k.levelData=en.master),F.worldType==="cave"&&(k.levelData=en.caves)),F.clusterType==="survival"&&(F.worldType==="ground"&&(k.levelData=tn.master),F.worldType==="cave"&&(k.levelData=tn.caves)),F.clusterType==="relaxed"&&(F.worldType==="ground"&&(k.levelData=nn.master),F.worldType==="cave"&&(k.levelData=nn.caves)),F.clusterType==="wilderness"&&(F.worldType==="ground"&&(k.levelData=an.master),F.worldType==="cave"&&(k.levelData=an.caves)),F.clusterType==="lightsOut"&&(F.worldType==="ground"&&(k.levelData=Ot.master),F.worldType==="cave"&&(k.levelData=Ot.caves)),F.clusterType==="lavaarena"&&F.worldType==="ground"&&(k.levelData=Ot.master))},r=Be(""),i=async F=>{if(F==="Visualization")try{for(let k of p.value)if(k.name===e.value){r.value=G(k.levelData),await Ze(k.levelData);break}}catch{at(Se.value==="zh"?"":"Visualization load failed")}F==="Code"&&await vt(()=>{for(let k of p.value)if(k.name===e.value){k.levelData=c(k.levelData);break}})},G=F=>{const k=/location\s*=\s*"([^"]*)"/,Y=F.match(k);return Y?Y[1]:""},ge=()=>{t.value="Code"},ke=Be(!1),Ie=Be(""),Ue=Be([]),ee=()=>{Ue.value=[{ID:void 0,name:"",maxPlayers:void 0}],Ie.value="",ke.value=!0},X=()=>{let F="",k="";for(let Y of Ue.value){if(!Y.ID){at(Se.value==="zh"?"ID":"World ID is required");return}if(!Y.name){at(Se.value==="zh"?"":"World name is required");return}if(!Y.maxPlayers){at(Se.value==="zh"?"":"World max players is required");return}F=F+`["${Y.ID}"]="${Y.name}",`,k=k+`["${Y.ID}"]="${Y.maxPlayers}",`}Ie.value=`
  ["workshop-1438233888"]={
    configuration_options={
      auto_balancing=true,
      extra_worlds={},
      ignore_sinkholes=false,
      invisible_worlds={},
      language="auto",
      migration_postern=false,
      no_bat=true,
      population_limit={${k}},
      say_dest=true,
      world_name={${F}},
      world_prompt=true
    },
    enabled=true
  }`,Ie.value="```lua ::open\n"+Ie.value},oe=Be([]),bt=()=>{Tt.clustersWorldPort.get().then(F=>{oe.value=F.data})},ot=Be(!1),Xe=Be("name"),Qe=Be("copy"),kt=F=>{Xe.value=F,ot.value=!0},St=F=>{Qe.value==="insert"?Xe.value==="name"?$.value.name=$.value.name+F:$.value.description=$.value.description+F:wt(F).then(()=>{let k;Se.value==="zh"?k="":k="Copy Success",Bt(k)}).catch(()=>{Se.value})};function wt(F,k,Y){return new Promise((Te,Ae)=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(F).then(()=>{Te(F)}).catch(he=>{Ae(he)});else try{const he=document.createElement("textarea");he.value=F,he.style.position="fixed",he.style.opacity="0",document.body.appendChild(he),he.select();const w=document.execCommand("copy");if(document.body.removeChild(he),w)Te(F);else throw new Error("execCommandfalse")}catch(he){Ae(he)}})}return kn(()=>ce.selectedDstCluster,F=>{F&&vt(()=>{nt()})},{immediate:!1}),(F,k)=>{const Y=Re("el-step"),Te=Re("el-steps"),Ae=Re("el-card"),he=Re("el-col"),w=Re("el-row"),A=Re("el-button"),V=Re("el-tooltip"),T=Re("el-input"),x=Re("el-form-item"),P=Re("el-radio"),I=Re("el-radio-group"),q=Re("el-slider"),ne=Re("el-switch"),_e=Re("el-link"),ie=Re("el-form"),we=Re("el-scrollbar"),Oe=Re("el-icon"),fe=Re("el-dropdown-item"),$e=Re("el-dropdown-menu"),De=Re("el-dropdown"),Ne=Re("el-tab-pane"),xe=Re("el-divider"),Et=Re("el-tabs"),Ft=Re("el-result"),Mt=Re("el-dialog");return R(),le("div",Cn,[L(w,{gutter:10},{default:E(()=>[L(he,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:E(()=>[L(Ae,{shadow:"never"},{default:E(()=>[L(Te,{active:ae.value,"align-center":"","finish-status":"success"},{default:E(()=>[L(Y,{title:a(be)?a(v)("setting.roomSettingMobile"):a(v)("setting.roomSetting"),onClick:k[0]||(k[0]=z=>pe(0))},null,8,["title"]),L(Y,{title:a(be)?a(v)("setting.worldSettingMobile"):a(v)("setting.worldSetting"),onClick:k[1]||(k[1]=z=>pe(1))},null,8,["title"]),L(Y,{title:a(be)?a(v)("setting.modSettingMobile"):a(v)("setting.modSetting"),onClick:k[2]||(k[2]=z=>pe(3))},null,8,["title"]),L(Y,{title:a(be)?a(v)("setting.finishSettingMobile"):a(v)("setting.finishSetting"),onClick:k[3]||(k[3]=z=>pe(2))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),L(w,{gutter:10,style:{"margin-top":"5px"}},{default:E(()=>[L(he,{lg:24,md:24,sm:24,span:24,xs:24},{default:E(()=>[ae.value===0?(R(),re(Ae,{key:0,shadow:"never"},{header:E(()=>[Q("div",En,[Q("span",null,D(a(v)("setting.roomSetting")),1)])]),default:E(()=>[L(we,{height:U.value-438},{default:E(()=>[L(ie,{ref_key:"clusterSettingFormRef",ref:yt,"label-position":a(be)?"top":"left","label-width":a(be)?"70":"auto",model:$.value,rules:gt,size:a(be)?"small":"large",style:{"margin-right":"16px"}},{default:E(()=>[L(x,{label:a(v)("setting.baseForm.room"),prop:"name",style:rt(a(be)?"padding-top: 0px":"padding-top: 25px")},{default:E(()=>[L(T,{modelValue:$.value.name,"onUpdate:modelValue":k[5]||(k[5]=z=>$.value.name=z)},{append:E(()=>[L(V,{content:a(v)("setting.iconTip"),effect:"light",placement:"top"},{default:E(()=>[L(A,{icon:a(Yt),onClick:k[4]||(k[4]=z=>kt("name"))},null,8,["icon"])]),_:1},8,["content"])]),_:1},8,["modelValue"])]),_:1},8,["label","style"]),a(be)?Fe("",!0):(R(),le("div",Fn)),L(x,{label:a(v)("setting.baseForm.description"),prop:"description",style:rt(a(be)?"padding-top: 0px":"padding-top: 25px")},{default:E(()=>[L(T,{modelValue:$.value.description,"onUpdate:modelValue":k[7]||(k[7]=z=>$.value.description=z)},{append:E(()=>[L(V,{content:a(v)("setting.iconTip"),effect:"light",placement:"top"},{default:E(()=>[L(A,{icon:a(Yt),onClick:k[6]||(k[6]=z=>kt("description"))},null,8,["icon"])]),_:1},8,["content"])]),_:1},8,["modelValue"])]),_:1},8,["label","style"]),L(x,{label:a(v)("setting.baseForm.gameMode.name"),prop:"gameMode",style:rt([a(be)?"padding-top: 0px":"padding-top: 25px",{display:"flex","align-items":"center"}])},{default:E(()=>[L(I,{modelValue:$.value.gameMode,"onUpdate:modelValue":k[8]||(k[8]=z=>$.value.gameMode=z),style:{"margin-right":"20px"}},{default:E(()=>[L(P,{label:a(v)("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),L(P,{label:a(v)("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),L(P,{label:a(v)("setting.baseForm.gameMode.relaxed"),value:"relaxed"},null,8,["label"]),L(P,{label:a(v)("setting.baseForm.gameMode.wilderness"),value:"wilderness"},null,8,["label"]),L(P,{label:a(v)("setting.baseForm.gameMode.lightsOut"),value:"lightsOut"},null,8,["label"]),L(P,{label:a(v)("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),L(P,{label:a(v)("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"]),L(P,{label:a(v)("setting.baseForm.gameMode.custom"),value:"custom"},null,8,["label"])]),_:1},8,["modelValue"]),$.value.gameMode==="custom"?(R(),re(T,{key:0,modelValue:$.value.customGameMode,"onUpdate:modelValue":k[9]||(k[9]=z=>$.value.customGameMode=z),placeholder:a(v)("setting.baseForm.gameMode.customInputPlaceholder"),style:{flex:"0 0 auto",width:"25%"}},null,8,["modelValue","placeholder"])):Fe("",!0)]),_:1},8,["label","style"]),L(x,{label:a(v)("setting.baseForm.playerNum"),prop:"playerNum",style:rt(a(be)?"padding-top: 0px":"padding-top: 25px")},{default:E(()=>[L(q,{modelValue:$.value.playerNum,"onUpdate:modelValue":k[10]||(k[10]=z=>$.value.playerNum=z),max:64,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label","style"]),L(x,{label:a(v)("setting.baseForm.backDays"),prop:"backDays",style:rt(a(be)?"padding-top: 0px":"padding-top: 25px")},{default:E(()=>[L(q,{modelValue:$.value.backDays,"onUpdate:modelValue":k[11]||(k[11]=z=>$.value.backDays=z),max:64,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label","style"]),L(w,null,{default:E(()=>[L(he,{lg:8,md:8,sm:24,span:8,xs:24},{default:E(()=>[L(x,{label:a(v)("setting.baseForm.vote"),prop:"vote",style:rt(a(be)?"padding-top: 0px":"padding-top: 29px")},{default:E(()=>[L(ne,{modelValue:$.value.vote,"onUpdate:modelValue":k[12]||(k[12]=z=>$.value.vote=z)},null,8,["modelValue"])]),_:1},8,["label","style"])]),_:1}),L(he,{lg:8,md:8,sm:24,span:8,xs:24},{default:E(()=>[L(x,{label:a(v)("setting.baseForm.pauseEmptyDisabled"),prop:"vote",style:rt(a(be)?"padding-top: 0px":"padding-top: 29px")},{default:E(()=>[L(ne,{modelValue:$.value.pauseEmptyDisabled,"onUpdate:modelValue":k[13]||(k[13]=z=>$.value.pauseEmptyDisabled=z),"active-value":!1,"inactive-value":!0},null,8,["modelValue"])]),_:1},8,["label","style"])]),_:1}),L(he,{lg:8,md:8,sm:24,span:8,xs:24},{default:E(()=>[L(x,{label:a(v)("setting.baseForm.pvp"),prop:"pvp",style:rt(a(be)?"padding-top: 0px":"padding-top: 25px")},{default:E(()=>[L(ne,{modelValue:$.value.pvp,"onUpdate:modelValue":k[14]||(k[14]=z=>$.value.pvp=z)},null,8,["modelValue"])]),_:1},8,["label","style"])]),_:1})]),_:1}),L(x,{label:a(v)("setting.baseForm.password"),style:rt(a(be)?"padding-top: 0px":"padding-top: 30px")},{default:E(()=>[L(T,{modelValue:$.value.password,"onUpdate:modelValue":k[15]||(k[15]=z=>$.value.password=z),autocomplete:"new-password","show-password":""},null,8,["modelValue"])]),_:1},8,["label","style"]),L(x,{label:a(v)("setting.baseForm.token"),prop:"token",style:rt(a(be)?"padding-top: 0px":"padding-top: 30px")},{default:E(()=>[L(T,{modelValue:$.value.token,"onUpdate:modelValue":k[16]||(k[16]=z=>$.value.token=z),"show-password":""},null,8,["modelValue"]),Q("div",Mn,[L(_e,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:E(()=>[se(D(a(v)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label","style"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["height"])]),_:1})):Fe("",!0),ae.value===1?(R(),re(Ae,{key:1,shadow:"never"},{header:E(()=>[Q("div",An,[Q("span",null,D(a(v)("setting.worldSetting")),1),Q("div",null,[L(De,{trigger:"click",onCommand:l},{dropdown:E(()=>[L($e,null,{default:E(()=>[$.value.gameMode==="endless"?(R(),re(fe,{key:0,command:{clusterType:"endless",worldType:"ground"}},{default:E(()=>[se(D(a(v)("setting.endless"))+"-"+D(a(v)("setting.groundSettingMobile")),1)]),_:1})):Fe("",!0),$.value.gameMode==="endless"?(R(),re(fe,{key:1,command:{clusterType:"endless",worldType:"cave"}},{default:E(()=>[se(D(a(v)("setting.endless"))+"-"+D(a(v)("setting.caveSettingMobile")),1)]),_:1})):Fe("",!0),$.value.gameMode==="survival"?(R(),re(fe,{key:2,command:{clusterType:"survival",worldType:"ground"}},{default:E(()=>[se(D(a(v)("setting.survival"))+"-"+D(a(v)("setting.groundSettingMobile")),1)]),_:1})):Fe("",!0),$.value.gameMode==="survival"?(R(),re(fe,{key:3,command:{clusterType:"survival",worldType:"cave"}},{default:E(()=>[se(D(a(v)("setting.survival"))+"-"+D(a(v)("setting.caveSettingMobile")),1)]),_:1})):Fe("",!0),$.value.gameMode==="relaxed"?(R(),re(fe,{key:4,command:{clusterType:"relaxed",worldType:"ground"}},{default:E(()=>[se(D(a(v)("setting.baseForm.gameMode.relaxed"))+"-"+D(a(v)("setting.groundSettingMobile")),1)]),_:1})):Fe("",!0),$.value.gameMode==="relaxed"?(R(),re(fe,{key:5,command:{clusterType:"relaxed",worldType:"cave"}},{default:E(()=>[se(D(a(v)("setting.baseForm.gameMode.relaxed"))+"-"+D(a(v)("setting.caveSettingMobile")),1)]),_:1})):Fe("",!0),$.value.gameMode==="wilderness"?(R(),re(fe,{key:6,command:{clusterType:"wilderness",worldType:"ground"}},{default:E(()=>[se(D(a(v)("setting.baseForm.gameMode.wilderness"))+"-"+D(a(v)("setting.groundSettingMobile")),1)]),_:1})):Fe("",!0),$.value.gameMode==="wilderness"?(R(),re(fe,{key:7,command:{clusterType:"wilderness",worldType:"cave"}},{default:E(()=>[se(D(a(v)("setting.baseForm.gameMode.wilderness"))+"-"+D(a(v)("setting.caveSettingMobile")),1)]),_:1})):Fe("",!0),$.value.gameMode==="lightsOut"?(R(),re(fe,{key:8,command:{clusterType:"lightsOut",worldType:"ground"}},{default:E(()=>[se(D(a(v)("setting.baseForm.gameMode.lightsOut"))+"-"+D(a(v)("setting.groundSettingMobile")),1)]),_:1})):Fe("",!0),$.value.gameMode==="lightsOut"?(R(),re(fe,{key:9,command:{clusterType:"lightsOut",worldType:"cave"}},{default:E(()=>[se(D(a(v)("setting.baseForm.gameMode.lightsOut"))+"-"+D(a(v)("setting.caveSettingMobile")),1)]),_:1})):Fe("",!0),$.value.gameMode==="lavaarena"?(R(),re(fe,{key:10,command:{clusterType:"lavaarena",worldType:"ground"}},{default:E(()=>[se(D(a(v)("setting.baseForm.gameMode.lavaarena"))+"-"+D(a(v)("setting.groundSettingMobile")),1)]),_:1})):Fe("",!0)]),_:1})]),default:E(()=>[L(A,{disabled:t.value!=="Code"||$.value.gameMode!=="endless"&&$.value.gameMode!=="survival"&&$.value.gameMode!=="relaxed"&&$.value.gameMode!=="wilderness"&&$.value.gameMode!=="lightsOut"&&$.value.gameMode!=="lavaarena",type:"success"},{default:E(()=>[se(D(a(v)("setting.oneClick"))+" ",1),L(Oe,{class:"el-icon--right"},{default:E(()=>[L(a(Zt))]),_:1})]),_:1},8,["disabled"])]),_:1})])])]),default:E(()=>[L(we,{height:U.value-450},{default:E(()=>[L(Et,{modelValue:e.value,"onUpdate:modelValue":k[18]||(k[18]=z=>e.value=z),editable:"",type:"card",onEdit:S,onTabChange:ge,style:{"margin-right":"16px"}},{default:E(()=>[(R(!0),le(Me,null,Ge(p.value,z=>(R(),re(Ne,{key:z.name,label:Se.value==="zh"?"":"World",name:z.name},{default:E(()=>[L(w,null,{default:E(()=>[L(ie,{ref_for:!0,ref:u=>d[z.name]=u,"label-position":a(be)||Se.value==="en"?"top":"left",model:z,rules:f,size:a(be)?"small":"large",inline:"","label-width":"120px",style:{"margin-top":"10px"}},{default:E(()=>[Q("div",xn,[L(x,{label:a(v)("setting.isMaster"),prop:"isMaster",style:{width:"250px"}},{default:E(()=>[L(V,{"show-after":100,content:a(v)("setting.isMasterTip"),effect:"light",placement:"top"},{default:E(()=>[L(ne,{modelValue:z.isMaster,"onUpdate:modelValue":u=>z.isMaster=u,"active-text":Se.value==="zh"?"":"Y","inactive-text":Se.value==="zh"?"":"N","inline-prompt":""},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text"])]),_:2},1032,["content"])]),_:2},1032,["label"]),L(x,{label:a(v)("setting.system.encodeUserPath.divider"),prop:"encodeUserPath",style:{width:"250px"}},{default:E(()=>[L(V,{"show-after":100,content:a(v)("setting.encodeUserPathTip"),effect:"light",placement:"top"},{default:E(()=>[L(ne,{modelValue:z.encodeUserPath,"onUpdate:modelValue":u=>z.encodeUserPath=u,"active-text":Se.value==="zh"?"":"Y","inactive-text":Se.value==="zh"?"":"N","inline-prompt":""},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text"])]),_:2},1032,["content"])]),_:2},1032,["label"]),L(x,{label:a(v)("setting.roomWorldForm.id"),prop:"id",style:{width:"250px"}},{default:E(()=>[L(V,{"show-after":100,content:a(v)("setting.idTip"),effect:"light",placement:"top"},{default:E(()=>[L(T,{modelValue:z.id,"onUpdate:modelValue":u=>z.id=u,modelModifiers:{number:!0},disabled:z.saved,size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1032,["content"])]),_:2},1032,["label"]),L(x,{label:a(v)("setting.serverPort"),prop:"serverPort",style:{width:"250px"}},{default:E(()=>[L(V,{"show-after":100,content:a(v)("setting.serverPortTip"),effect:"light",placement:"top"},{default:E(()=>[L(T,{modelValue:z.serverPort,"onUpdate:modelValue":u=>z.serverPort=u,modelModifiers:{number:!0},size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"]),L(x,{label:a(v)("setting.roomWorldForm.shardMasterPort"),prop:"shardMasterPort",style:{width:"250px"}},{default:E(()=>[L(V,{"show-after":100,content:a(v)("setting.noEdit")+"cluster.ini -> [SHARD] -> master_port",effect:"light",placement:"top"},{default:E(()=>[L(T,{modelValue:z.shardMasterPort,"onUpdate:modelValue":u=>z.shardMasterPort=u,modelModifiers:{number:!0},size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"]),L(x,{label:a(v)("setting.roomWorldForm.steamMasterPort"),prop:"steamMasterPort",style:{width:"250px"}},{default:E(()=>[L(V,{"show-after":100,content:a(v)("setting.noEdit")+"server.ini -> [STEAM] -> server_master_port",effect:"light",placement:"top"},{default:E(()=>[L(T,{modelValue:z.steamMasterPort,"onUpdate:modelValue":u=>z.steamMasterPort=u,modelModifiers:{number:!0},size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"]),L(x,{label:a(v)("setting.roomWorldForm.steamAuthenticationPort"),prop:"steamAuthenticationPort",style:{width:"250px"}},{default:E(()=>[L(V,{"show-after":100,content:a(v)("setting.noEdit")+"server.ini -> [STEAM] -> authentication_port",effect:"light",placement:"top"},{default:E(()=>[L(T,{modelValue:z.steamAuthenticationPort,"onUpdate:modelValue":u=>z.steamAuthenticationPort=u,modelModifiers:{number:!0},size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"]),L(x,{label:a(v)("setting.shardMasterIp"),prop:"shardMasterIp",style:{width:"250px"}},{default:E(()=>[L(V,{"show-after":100,content:a(v)("setting.shardMasterIpTip"),effect:"light",placement:"top"},{default:E(()=>[L(T,{modelValue:z.shardMasterIp,"onUpdate:modelValue":u=>z.shardMasterIp=u,disabled:z.isMaster,size:"default"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1032,["content"])]),_:2},1032,["label"]),L(x,{label:a(v)("setting.roomWorldForm.clusterKey"),prop:"clusterKey",style:{width:"250px"}},{default:E(()=>[L(V,{"show-after":100,content:a(v)("setting.clusterKeyTip"),effect:"light",placement:"top"},{default:E(()=>[L(T,{modelValue:z.clusterKey,"onUpdate:modelValue":u=>z.clusterKey=u,autocomplete:"new-password","show-password":"",size:"default",type:"password"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"])])]),_:2},1032,["label-position","model","size"])]),_:2},1024),Q("div",Bn,[L(Et,{modelValue:t.value,"onUpdate:modelValue":k[17]||(k[17]=u=>t.value=u),onTabChange:i},{default:E(()=>[L(Ne,{label:Se.value==="zh"?"":"Code",name:"Code"},{default:E(()=>[Q("div",Gn,[L(ie,{model:z},{default:E(()=>[L(x,null,{default:E(()=>[L(Qt,{modelValue:z.levelData,"onUpdate:modelValue":u=>z.levelData=u,height:U.value*.5,theme:ct.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue","height","theme"])]),_:2},1024)]),_:2},1032,["model"])])]),_:2},1032,["label"]),($.value.gameMode==="endless"||$.value.gameMode==="survival")&&z.levelData!==""?(R(),re(Ne,{key:0,label:a(v)("setting.tabVisualization"),lazy:"",name:"Visualization"},{default:E(()=>[r.value==="forest"&&Object.keys(Z.value).length!==0?(R(),le(Me,{key:0},[L(xe,{"content-position":"center"},{default:E(()=>[Q("span",Rn,D(a(v)("setting.groundVisualizationRule")),1),se(" - "+D(a(v)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),Q("div",In,[(R(!0),le(Me,null,Ge(a(ht).global,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",Pn,D(a(v)("setting.groundVisualizationRule")),1),se(" - "+D(a(v)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),Q("div",Un,[(R(!0),le(Me,null,Ge(a(ht).events,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",Dn,D(a(v)("setting.groundVisualizationRule")),1),se(" - "+D(a(v)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),Q("div",Nn,[(R(!0),le(Me,null,Ge(a(ht).survivors,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",zn,D(a(v)("setting.groundVisualizationRule")),1),se(" - "+D(a(v)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),Q("div",Wn,[(R(!0),le(Me,null,Ge(a(ht).world,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",On,D(a(v)("setting.groundVisualizationRule")),1),se(" - "+D(a(v)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),Q("div",qn,[(R(!0),le(Me,null,Ge(a(ht).resourceRegrowth,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",$n,D(a(v)("setting.groundVisualizationRule")),1),se(" - "+D(a(v)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),Q("div",Kn,[(R(!0),le(Me,null,Ge(a(ht).unnaturalPortalResource,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",jn,D(a(v)("setting.groundVisualizationRule")),1),se(" - "+D(a(v)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),Q("div",Hn,[(R(!0),le(Me,null,Ge(a(ht).creatures,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",Jn,D(a(v)("setting.groundVisualizationRule")),1),se(" - "+D(a(v)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),Q("div",Xn,[(R(!0),le(Me,null,Ge(a(ht).hostileCreatures,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",Yn,D(a(v)("setting.groundVisualizationRule")),1),se(" - "+D(a(v)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),Q("div",Zn,[(R(!0),le(Me,null,Ge(a(ht).giants,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",Qn,D(a(v)("setting.groundVisualizationGeneration")),1),se(" - "+D(a(v)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),Q("div",ea,[(R(!0),le(Me,null,Ge(a(Lt).global,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",ta,D(a(v)("setting.groundVisualizationGeneration")),1),se(" - "+D(a(v)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),Q("div",na,[(R(!0),le(Me,null,Ge(a(Lt).world,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",aa,D(a(v)("setting.groundVisualizationGeneration")),1),se(" - "+D(a(v)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),Q("div",la,[(R(!0),le(Me,null,Ge(a(Lt).resources,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",oa,D(a(v)("setting.groundVisualizationGeneration")),1),se(" - "+D(a(v)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),Q("div",ra,[(R(!0),le(Me,null,Ge(a(Lt).creaturesAndSpawners,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",ua,D(a(v)("setting.groundVisualizationGeneration")),1),se(" - "+D(a(v)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),Q("div",ia,[(R(!0),le(Me,null,Ge(a(Lt).hostileCreaturesAndSpawners,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))])],64)):Fe("",!0),r.value==="cave"&&Object.keys(Z.value).length!==0?(R(),le(Me,{key:1},[L(xe,{"content-position":"center"},{default:E(()=>[Q("span",sa,D(a(v)("setting.cavesVisualizationRule")),1),se(" - "+D(a(v)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),Q("div",da,[(R(!0),le(Me,null,Ge(a(Vt).world,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",fa,D(a(v)("setting.cavesVisualizationRule")),1),se(" - "+D(a(v)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),Q("div",ca,[(R(!0),le(Me,null,Ge(a(Vt).resourceRegrowth,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",ma,D(a(v)("setting.cavesVisualizationRule")),1),se(" - "+D(a(v)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),Q("div",pa,[(R(!0),le(Me,null,Ge(a(Vt).creatures,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",ga,D(a(v)("setting.cavesVisualizationRule")),1),se(" - "+D(a(v)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),Q("div",ha,[(R(!0),le(Me,null,Ge(a(Vt).hostileCreatures,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",_a,D(a(v)("setting.cavesVisualizationRule")),1),se(" - "+D(a(v)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),Q("div",ya,[(R(!0),le(Me,null,Ge(a(Vt).giants,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",Ta,D(a(v)("setting.cavesVisualizationGeneration")),1),se(" - "+D(a(v)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),Q("div",ba,[(R(!0),le(Me,null,Ge(a(Gt).world,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(Ct)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(Ct)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(Ct)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(Ct)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(Ct)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",ka,D(a(v)("setting.cavesVisualizationGeneration")),1),se(" - "+D(a(v)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),Q("div",va,[(R(!0),le(Me,null,Ge(a(Gt).resources,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",Sa,D(a(v)("setting.cavesVisualizationGeneration")),1),se(" - "+D(a(v)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),Q("div",wa,[(R(!0),le(Me,null,Ge(a(Gt).creaturesAndSpawners,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),L(xe,{"content-position":"center"},{default:E(()=>[Q("span",La,D(a(v)("setting.cavesVisualizationGeneration")),1),se(" - "+D(a(v)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),Q("div",Va,[(R(!0),le(Me,null,Ge(a(Gt).hostileCreaturesAndSpawners,(u,de)=>{var K,j,H,J,N;return R(),le("div",null,[(R(),re(Pe,{key:de,modelValue:Z.value[u],"onUpdate:modelValue":ue=>Z.value[u]=ue,configs:((K=a(B)[u])==null?void 0:K.configs)||["undefined"],customConfigsValue:((j=a(B)[u])==null?void 0:j.customConfigsValue)||{},defaultModelValue:((H=a(B)[u])==null?void 0:H.modelValue)||"undefined",i18n:((J=a(B)[u])==null?void 0:J.i18n)||{zh:"",en:"undefined"},image:((N=a(B)[u])==null?void 0:N.image)||"undefined.png",name:u,onChangeModelValue:a(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))])],64)):Fe("",!0)]),_:2},1032,["label"])):Fe("",!0)]),_:2},1032,["modelValue"])])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["height"])]),_:1})):Fe("",!0),ae.value===2?(R(),re(Ae,{key:2,shadow:"never"},{default:E(()=>[Q("div",Ca,[Q("div",Ea,[Q("span",null,D(a(v)("setting.multiWorldTip")),1),L(A,{size:"small",style:{"margin-left":"10px"},type:"primary",onClick:ee},{default:E(()=>[se(D(Se.value==="zh"?"":"Multi-world"),1)]),_:1})])]),L(ie,{model:He.value},{default:E(()=>[L(x,null,{default:E(()=>[L(Qt,{modelValue:He.value.mod,"onUpdate:modelValue":k[19]||(k[19]=z=>He.value.mod=z),height:U.value-481,theme:ct.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["model"])]),_:1})):Fe("",!0),ae.value===3?(R(),re(Ae,{key:3,shadow:"never"},{default:E(()=>[Q("div",{style:rt({height:`${U.value-381}px`}),class:"fcc"},[L(Ft,{"sub-title":a(v)("setting.finish.description"),title:a(v)("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1})):Fe("",!0)]),_:1})]),_:1}),L(w,{gutter:10},{default:E(()=>[L(he,{lg:24,md:24,sm:24,span:24,xs:24},{default:E(()=>[L(Ae,{shadow:"never"},{default:E(()=>[Q("div",Fa,[ae.value>0?(R(),re(A,{key:0,onClick:lt},{default:E(()=>[se(D(a(v)("setting.button.prev")),1)]),_:1})):Fe("",!0),ae.value<3?(R(),re(A,{key:1,type:"primary",loading:ye.value,onClick:_t},{default:E(()=>[se(D(a(v)("setting.button.next")),1)]),_:1},8,["loading"])):Fe("",!0),ae.value===3?(R(),re(De,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:Je},{dropdown:E(()=>[L($e,null,{default:E(()=>[L(fe,{command:"save"},{default:E(()=>[se(D(a(v)("setting.button.save")),1)]),_:1}),L(fe,{command:"saveAndRestart"},{default:E(()=>[se(D(a(v)("setting.button.saveAndRestart")),1)]),_:1}),L(fe,{command:"generateNewWorld"},{default:E(()=>[se(D(a(v)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:E(()=>[L(A,{loading:C.value,type:"warning"},{default:E(()=>[se(D(a(v)("setting.button.actions"))+" ",1),L(Oe,{class:"el-icon--right"},{default:E(()=>[L(a(Zt))]),_:1})]),_:1},8,["loading"])]),_:1})):Fe("",!0)])]),_:1})]),_:1})]),_:1}),L(Mt,{modelValue:ke.value,"onUpdate:modelValue":k[21]||(k[21]=z=>ke.value=z),width:"65%"},{header:E(()=>[se(D(a(v)("setting.multiWorldDialog.title")),1)]),default:E(()=>[Q("div",Ma,D(a(v)("setting.multiWorldDialog.tip")),1),Q("div",Aa,[L(ie,{model:Ue.value,"label-position":"top"},{default:E(()=>[(R(!0),le(Me,null,Ge(Ue.value,z=>(R(),re(x,null,{default:E(()=>[L(T,{modelValue:z.ID,"onUpdate:modelValue":u=>z.ID=u,placeholder:a(v)("setting.multiWorldDialog.placeholder0"),type:"number",style:{width:"20%"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),L(T,{modelValue:z.name,"onUpdate:modelValue":u=>z.name=u,placeholder:a(v)("setting.multiWorldDialog.placeholder1"),style:{"margin-left":"2%",width:"48%"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),L(T,{modelValue:z.maxPlayers,"onUpdate:modelValue":u=>z.maxPlayers=u,placeholder:a(v)("setting.multiWorldDialog.placeholder2"),type:"number",style:{"margin-left":"2%",width:"28%"}},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024))),256)),Q("div",xa,[L(A,{type:"success",onClick:k[20]||(k[20]=z=>Ue.value.push({ID:void 0,name:"",maxPlayers:void 0}))},{default:E(()=>[se(D(Se.value==="zh"?"":"New Line"),1)]),_:1}),L(A,{type:"primary",onClick:X},{default:E(()=>[se(D(Se.value==="zh"?"":"Generate"),1)]),_:1})])]),_:1},8,["model"]),Ie.value?(R(),re(xe,{key:0})):Fe("",!0),Ie.value?(R(),re(a(vn),{key:1,ref:"threeCodeOneRef",modelValue:Ie.value,theme:ct.value?"dark":"light",previewTheme:"github"},null,8,["modelValue","theme"])):Fe("",!0)])]),_:1},8,["modelValue"]),L(Mt,{modelValue:ot.value,"onUpdate:modelValue":k[25]||(k[25]=z=>ot.value=z),width:"65%"},{header:E(()=>[Q("div",Ba,[L(ne,{modelValue:Qe.value,"onUpdate:modelValue":k[22]||(k[22]=z=>Qe.value=z),"active-value":"insert","inactive-value":"copy","active-text":Se.value==="zh"?"":"Insert Mode","inactive-text":Se.value==="zh"?"":"Copy Mode"},null,8,["modelValue","active-text","inactive-text"]),Qe.value==="insert"?(R(),le("div",Ga,[Xe.value==="name"?(R(),re(T,{key:0,modelValue:$.value.name,"onUpdate:modelValue":k[23]||(k[23]=z=>$.value.name=z),style:{width:"100%"}},null,8,["modelValue"])):Fe("",!0),Xe.value==="description"?(R(),re(T,{key:1,modelValue:$.value.description,"onUpdate:modelValue":k[24]||(k[24]=z=>$.value.description=z),style:{width:"100%"}},null,8,["modelValue"])):Fe("",!0)])):Fe("",!0)])]),footer:E(()=>[Se.value==="zh"?(R(),re(_e,{key:0,href:"https://www.bilibili.com/opus/814456568458248259",target:"_blank",type:"info",underline:"never"},{default:E(()=>k[26]||(k[26]=[se(" B ")])),_:1})):(R(),re(_e,{key:1,href:"https://www.bilibili.com/opus/814456568458248259",target:"_blank",type:"info",underline:"never"},{default:E(()=>k[27]||(k[27]=[se(" Thanks to Bilibili user  for providing the DST emoji font. ")])),_:1}))]),default:E(()=>[Q("div",Ra,[(R(!0),le(Me,null,Ge(a(Vn),z=>(R(),le("div",{class:"emoji-item",onClick:u=>St(z)},D(z),9,Ia))),256))])]),_:1},8,["modelValue"])])}}},Oa=dn(Pa,[["__scopeId","data-v-61b1117c"]]);export{Oa as default};
