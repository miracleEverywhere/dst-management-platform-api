import{j as v,c as b,o as c,k as t,H as T,F as x,T as V,y,O as p,n as S,l as m,t as u,I as B,J as F,bb as P,bc as $,K as I,a as l,aK as D,L as A,ad as R,M as E,bd as M,N as H,h as j,w as s,m as w,v as n,x as K,V as z,p as L,be as O,aP as U,s as k,C as W}from"./index-Bnu2ge-9.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as f}from"./VChip-Bc5rzJEM.js";import{V as q}from"./VTooltip-BzghMA6y.js";import{V as J}from"./VDialog-BNYihiDl.js";import"./index-DAgEKh0P.js";import"./VSlideGroup-CBurGPdq.js";import"./dialog-transition-DxoZoDaa.js";const G={class:"precise-rating"},Q={class:"rating-container"},X={class:"stars-background"},Y={key:0},Z={__name:"PreciseRating",props:{value:{type:Number,required:!0,validator:a=>a>=0},length:{type:Number,default:5},size:{type:[Number,String],default:"small"},color:{type:String,default:"#FFC107"},backgroundColor:{type:String,default:"#E0E0E0"},showActualValue:{type:Boolean,default:!0}},setup(a){const e=a,r=v(()=>{const i=Number(e.size);return isNaN(i)?{"x-small":16,small:24,default:24,medium:28,large:32,"x-large":36}[e.size]||24:i}),h=v(()=>Number(e.value).toFixed(1)),d=v(()=>{const i=r.value;return{position:"absolute",top:0,left:0,width:`${e.value*i}px`,overflow:"hidden",whiteSpace:"nowrap",display:"flex"}});return(i,_)=>(c(),b("div",G,[t("div",Q,[t("div",X,[(c(!0),b(x,null,V(e.length,o=>(c(),y(p,{key:`star-bg-${o}`,color:e.backgroundColor,size:e.size,icon:"ri-star-fill"},null,8,["color","size"]))),128))]),t("div",{style:S(m(d)),class:"stars-foreground"},[(c(!0),b(x,null,V(e.length,o=>(c(),y(p,{key:`star-fg-${o}`,color:e.color,size:e.size,icon:"ri-star-fill"},null,8,["color","size"]))),128))],4)]),e.showActualValue?(c(),b("span",Y,u(m(h)),1)):T("",!0)]))}},C=N(Z,[["__scopeId","data-v-687d1fc0"]]),ee=F({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:a=>["even","odd"].includes(a)},...H(),...M(),...E(),...R()},"VTable"),te=B()({name:"VTable",props:ee(),setup(a,e){let{slots:r,emit:h}=e;const{themeClasses:d}=P(a),{densityClasses:i}=$(a);return I(()=>l(a.tag,{class:A(["v-table",{"v-table--fixed-height":!!a.height,"v-table--fixed-header":a.fixedHeader,"v-table--fixed-footer":a.fixedFooter,"v-table--has-top":!!r.top,"v-table--has-bottom":!!r.bottom,"v-table--hover":a.hover,"v-table--striped-even":a.striped==="even","v-table--striped-odd":a.striped==="odd"},d.value,i.value,a.class]),style:S(a.style)},{default:()=>[r.top?.(),r.default?t("div",{class:"v-table__wrapper",style:{height:D(a.height)}},[t("table",null,[r.default()])]):r.wrapper?.(),r.bottom?.()]})),{}}}),le={style:{display:"flex","align-items":"center",margin:"5px",width:"320px"}},ae={style:{width:"200px"}},oe={class:"fcc"},se={style:{margin:"5px 0"},class:"fcc"},re={class:"fcc"},ie={rowspan:"2"},ne={rowspan:"2"},de={colspan:"3"},ue={__name:"modInfo",props:{mod:{type:Object,default:{}}},setup(a){const e=a,r=v(()=>parseFloat((e.mod.vote_data.score*5).toFixed(2))),h=v(()=>e.mod.name.length>20?e.mod.name.slice(0,20)+"...":e.mod.name),d=j(!1),i=()=>{};return(_,o)=>(c(),y(z,{hover:!0,variant:"flat",height:"135",class:"fcc"},{default:s(()=>[t("div",le,[l(w,{src:e.mod.preview_url,"aspect-ratio":"1",style:{width:"80px",height:"80px"}},null,8,["src"]),t("div",ae,[t("div",oe,[l(f,{label:"",size:"small",color:"primary"},{default:s(()=>[n(u(m(h))+" ",1),l(q,{activator:"parent","open-delay":"300","scroll-strategy":"close"},{default:s(()=>[n(u(e.mod.name),1)]),_:1})]),_:1})]),t("div",se,[l(C,{value:m(r),length:5,"show-actual-value":!0,size:"24"},null,8,["value"])]),t("div",re,[l(J,{modelValue:m(d),"onUpdate:modelValue":o[1]||(o[1]=g=>K(d)?d.value=g:null),class:"flex-wrap","max-width":"60%"},{activator:s(({props:g})=>[l(k,W({color:"info",density:"compact",size:"small",onClick:o[0]||(o[0]=ce=>d.value=!0)},g,{class:"mr-4"}),{default:s(()=>[...o[2]||(o[2]=[n("详情",-1)])]),_:1},16)]),default:s(({isActive:g})=>[l(z,{title:e.mod.name},{default:s(()=>[l(L,null,{default:s(()=>[l(te,{class:"custom-table"},{default:s(()=>[t("tbody",null,[t("tr",null,[t("td",ie,[l(p,{icon:"ri-image-line"})]),t("td",ne,[l(w,{src:e.mod.preview_url,"aspect-ratio":"1",style:{width:"150px",height:"150px"}},null,8,["src"])]),o[3]||(o[3]=t("td",null,"ID",-1)),t("td",null,[l(f,{color:"info",label:""},{default:s(()=>[n(u(e.mod.id),1)]),_:1})])]),t("tr",null,[o[4]||(o[4]=t("td",null,"模组大小",-1)),t("td",null,[l(f,{color:"info",label:""},{default:s(()=>[n(u(m(O)(e.mod.size)),1)]),_:1})])]),t("tr",null,[t("td",null,[l(p,{icon:"ri-thumb-up-fill",color:"success"})]),t("td",null,[l(f,{color:"success",label:""},{default:s(()=>[n(u(e.mod.vote_data.votes_up),1)]),_:1})]),t("td",null,[l(p,{icon:"ri-thumb-down-fill",color:"error"})]),t("td",null,[l(f,{color:"error",label:""},{default:s(()=>[n(u(e.mod.vote_data.votes_down),1)]),_:1})])]),t("tr",null,[t("td",null,[l(p,{icon:"ri-star-fill",color:"warning"})]),t("td",de,[l(C,{value:m(r),length:5,"show-actual-value":!0,size:"24"},null,8,["value"])])])])]),_:1}),l(U,{color:"grey-lighten-3",class:"mt-4 mb-4"},{default:s(()=>[n(u(e.mod.file_description),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]),l(k,{color:"success",density:"compact",size:"small",onClick:i},{default:s(()=>[...o[5]||(o[5]=[n("下载",-1)])]),_:1})])])])]),_:1}))}},ye=N(ue,[["__scopeId","data-v-648cdf5d"]]);export{ye as default};
