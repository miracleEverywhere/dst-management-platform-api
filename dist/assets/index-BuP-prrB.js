import{h as P,_ as ql,o as Al,u as Pl,a as Ll,g as Fl,b as Bl,c as He,s as le,r as v,d as El,e as Ml,w as Rl,f as r,i as z,F as E,j as t,k as l,l as e,m as d,n as u,t as s,p,q as te,v as y,x as Qe,y as ae,z as Kl,A as Ye,B as j,E as Je,C as Xe,D as de,G as Gl,H as Wl,I as Ol,J as Ze,K as m,L as el}from"./index-Be39cykK.js";import{e as ce}from"./index-oly5rdt-.js";const q={roomInfo:{url:"/home/room_info",get:async function(b){return await P.get(this.url,b)}},sysInfo:{url:"/home/sys_info",get:async function(b){return await P.get(this.url,b)}},worldInfo:{url:"/home/world_info",get:async function(b){return await P.get(this.url,b)}},exec:{url:"/home/exec",post:async function(b){return await P.post(this.url,b)}},allScreens:{url:"/home/cluster/all_screens",get:async function(b){return await P.get(this.url,b)}},screenKill:{url:"/home/cluster/screen_kill",post:async function(b){return await P.post(this.url,b)}},interface:{announce:{url:"/home/announce",post:async function(b){return await P.post(this.url,b)}},console:{url:"/home/console",post:async function(b){return await P.post(this.url,b)}}},isUpdating:{url:"/home/update/is_updating",get:async function(b){return await P.get(this.url,b)}}},jl={class:"page-div"},Hl={class:"card-header"},Ql={class:"fcc"},Yl={key:1,class:"fcc",style:{height:"150px"}},Jl={class:"card-header"},Xl={class:"fcc"},Zl={class:"fcc"},et={class:"percentage-value"},lt={class:"percentage-value"},tt={class:"percentage-label"},at={class:"card-header"},ot={key:0},nt={key:1,class:"fcc",style:{height:"150px"}},st={class:"card-header"},ut={key:0},rt={style:{display:"flex","align-items":"center"}},it={style:{display:"flex","align-items":"center"}},dt={class:"fcc"},ct={style:{"margin-right":"10px"}},mt={key:1,class:"fcc",style:{height:"150px"}},pt={class:"card-header"},ft={style:{display:"flex","align-items":"center"}},vt={key:1,class:"fcc",style:{height:"300px"}},ht={class:"fcc",style:{height:"67vh"}},_t={class:"fcc",style:{height:"67vh"}},yt={class:"tip_warning"},gt={class:"tip"},bt={style:{margin:"20px"}},Ct={class:"tip"},kt={class:"tip_success"},wt={key:0,class:"tip"},xt={style:{display:"flex","justify-content":"flex-end","padding-top":"30px"}},zt={style:{margin:"20px 0"}},Dt={class:"tip",style:{width:"100%"}},Vt={style:{display:"flex","align-items":"center"}},It={style:{display:"flex","align-items":"center"}},St={style:{display:"flex","align-items":"center"}},Tt={style:{display:"flex","align-items":"center"}},Ut={style:{display:"flex","align-items":"center"}},$t={style:{display:"flex","align-items":"center"}},Nt={__name:"index",setup(b){Al(()=>{il(),ul(),rl(),he(!1),_e(),cl(),al()});const{t:n}=Pl(),{isMobile:H}=Ll(),i=Fl(),ll=Bl(),me=He(()=>i.isDark),h=He(()=>i.language),tl=ll.userInfo,al=async()=>{var c;await le(2e3),i.needTour=(((c=i.dstClusters)==null?void 0:c.length)||0)===0};v(!1);const pe=v(!1),fe=v(!1),L=v({server:0,local:0}),M=v(""),w=v({ip:"",port:"",password:""}),Q=v(!1),ol=()=>{i.customConnectionCode[i.selectedDstCluster]?w.value=i.customConnectionCode[i.selectedDstCluster]:w.value={ip:"",port:"",password:""},Q.value=!0},nl=()=>{i.customConnectionCode[i.selectedDstCluster]=w.value,Q.value=!1,j(h.value==="zh"?"更新成功":"Update Success"),Ie()},sl=()=>{delete i.customConnectionCode[i.selectedDstCluster],Q.value=!1,j(h.value==="zh"?"清除成功":"Clear Success"),Ie()},ul=()=>{pe.value=!0,ce.dstVersion.get().then(c=>{L.value=c.data}).finally(()=>{pe.value=!1})},rl=async()=>{i.customConnectionCode[i.selectedDstCluster]?i.customConnectionCode[i.selectedDstCluster].password?M.value=`c_connect('${i.customConnectionCode[i.selectedDstCluster].ip}', ${i.customConnectionCode[i.selectedDstCluster].port}, '${i.customConnectionCode[i.selectedDstCluster].password}')`:M.value=`c_connect('${i.customConnectionCode[i.selectedDstCluster].ip}', ${i.customConnectionCode[i.selectedDstCluster].port})`:(fe.value=!0,i.selectedDstCluster||await le(1e3),ce.connectionCode.get({clusterName:i.selectedDstCluster}).then(c=>{M.value=c.data}).finally(()=>{fe.value=!1}))},_=v({clusterSetting:{},seasonInfo:{season:{},cycles:0,elapsedDays:0,seasonLength:{summer:15,autumn:20,spring:20,winter:15},phase:{}},modsCount:0,players:[]}),il=async()=>{i.selectedDstCluster||await le(1e3),q.roomInfo.get({clusterName:i.selectedDstCluster}).then(c=>{_.value=c.data})},Ne=c=>_.value.seasonInfo.cycles>-1?`(${_.value.seasonInfo.elapsedDays}/${_.value.seasonInfo.seasonLength[c]})`:"",ve=v({cpu:0,memory:0}),oe=v([{id:"",stat:!1,world:"",type:"",cpu:0,mem:0,memSize:0,diskUsed:0}]),dl=()=>{q.sysInfo.get().then(c=>{ve.value=c.data})},he=async(c=!0)=>{if(_.value.clusterSetting.name==="")return;c||i.selectedDstCluster||await le(1e3);const o={clusterName:i.selectedDstCluster};q.worldInfo.get(o).then(V=>{oe.value=V.data})},qe=[{color:"#5cb87a",percentage:20},{color:"#1989fa",percentage:40},{color:"#e6a23c",percentage:60},{color:"#f56c6c",percentage:80},{color:"#6f7ad3",percentage:100}],Ae=v(!1),_e=()=>{q.isUpdating.get().then(c=>{Ae.value=c.data})};let ne=null,ye=null;const cl=()=>{ne=setInterval(()=>{dl()},2e3),ye=setInterval(()=>{i.selectedDstCluster&&(he(),_e())},1e4)},Pe=()=>{ne&&(clearInterval(ne),clearInterval(ye),ne=null,ye=null)},ge=v(!1),ml=c=>{const o={clusterName:i.selectedDstCluster,worldName:c,type:"switch",extraData:""};ge.value=!0,q.exec.post(o).finally(async()=>{await he(),await le(1500),ge.value=!1})},k=(c,o)=>{const V={startup:{en:"STARTUP",zh:"启动"},rollback:{en:"ROLLBACK",zh:"回档"},shutdown:{en:"SHUTDOWN",zh:"关闭"},restart:{en:"RESTART",zh:"重启"},update:{en:"UPDATE GAME",zh:"更新游戏"},reset:{en:"RESET GAME",zh:"重置游戏"},delete:{en:"DELETE GAME",zh:"删除世界"}};Je.confirm(h.value==="zh"?`将执行 ${V[c].zh} 操作，是否继续？`:`The ${V[c].en} operation will be performed. Do you want to continue?`,h.value==="zh"?"请确认您的操作":"Please confirm your operation",{confirmButtonText:h.value==="zh"?"确定":"confirm",cancelButtonText:h.value==="zh"?"取消":"cancel",type:"warning",beforeClose:(C,I,K)=>{if(C==="confirm"){I.confirmButtonLoading=!0;const f={type:c,extraData:o,clusterName:i.selectedDstCluster,worldName:""};q.exec.post(f).then(N=>{j(N.message),_e(),K()}).catch(()=>{}).finally(()=>{I.confirmButtonLoading=!1})}else K()}}).then(()=>{}).catch(()=>{Xe(n("home.canceled"))})},be=v(!1),Y=v({message:""}),Le=()=>{if(Y.value.message===""){de(h.value==="zh"?"请输入要宣告的内容":"Please enter the content to be announced");return}be.value=!0;const c={type:"announce",extraData:Y.value.message,clusterName:i.selectedDstCluster,worldName:""};q.exec.post(c).then(o=>{j(o.message),Y.value.message=""}).finally(()=>{be.value=!1})},Ce=v(!1),U=v({cmd:"",world:""}),Fe=()=>{if(U.value.world===""){de(h.value==="zh"?"请选择地面或洞穴":"Please select a world from ground and cave");return}if(U.value.cmd===""){de(h.value==="zh"?"请输入要执行的命令":"Please enter the command to execute");return}Ce.value=!0;const c={type:"console",extraData:U.value.cmd,clusterName:i.selectedDstCluster,worldName:U.value.world};q.exec.post(c).then(o=>{j(o.message),U.value.cmd=""}).finally(()=>{Ce.value=!1})},ke=v(!1),we=v(!1),Be=v([]),pl=()=>{ke.value=!0,we.value=!0;const c={clusterName:i.selectedDstCluster};ce.modInfo.get(c).then(o=>{Be.value=o.data}).finally(()=>{we.value=!1})},xe=v(!1),Ee=v([]),ze=v(!1),Me=()=>{ze.value=!0,xe.value=!0;const c={clusterName:i.selectedDstCluster};q.allScreens.get(c).then(o=>{Ee.value=o.data}).finally(()=>{xe.value=!1}),Re()},fl=c=>{Je.confirm(h.value==="zh"?"将执行 关闭进程 操作，是否继续？":"The shutdown operation will be performed. Do you want to continue?",h.value==="zh"?"请确认您的操作":"Please confirm your operation",{confirmButtonText:h.value==="zh"?"确定":"confirm",cancelButtonText:h.value==="zh"?"取消":"cancel",type:"warning",beforeClose:(o,V,C)=>{if(o==="confirm"){V.confirmButtonLoading=!0;const I={screenName:c};q.screenKill.post(I).then(K=>{j(K.message),Me(),C()}).catch(()=>{}).finally(()=>{V.confirmButtonLoading=!1})}else C()}}).then(()=>{}).catch(()=>{Xe(n("home.canceled"))})},vl=[{label:"ap-southeast-1",value:"ap-southeast-1"},{label:"ap-east-1",value:"ap-east-1"},{label:"us-east-1",value:"us-east-1"},{label:"eu-central-1",value:"eu-central-1"}],De=v(["ap-southeast-1","ap-east-1"]),Ve=v(!1),R=v(!1),Re=()=>{R.value=!0;const c={clusterName:i.selectedDstCluster,regions:De.value};ce.checkLobby.post(c).then(o=>{Ve.value=o.data}).finally(()=>{R.value=!1})},J=v(!1),X=v("player"),S=v(""),$=v(),F=v(),D=v(""),hl=[{label:{zh:"开启上帝模式",en:"god mode"},value:0},{label:{zh:"开启建造模式",en:"builder mode"},value:1},{label:{zh:"开启隐身模式",en:"invisible mode"},value:2},{label:{zh:"开启一击必杀",en:"one attack to kill"},value:3},{label:{zh:"解锁所有科技",en:"unlock all tech"},value:4},{label:{zh:"移速×4(按需更改)",en:"moving speed × 4 (modify it by self)"},value:5},{label:{zh:"重选角色",en:"reselect character"},value:6}],_l=()=>{if(!/^KU_/.test(S.value)){de(h.value==="zh"?"请输入正确的玩家UID":"Please input the correct player UID");return}$.value===0&&(D.value=`UserToPlayer('${S.value}').components.health:SetInvincible(true)`),$.value===1&&(D.value=`for k, v in pairs(AllPlayers) do if v.userid=='${S.value}' then AllPlayers[k].components.builder:GiveAllRecipes() end end`),$.value===2&&(D.value=`UserToPlayer('${S.value}'):AddTag('debugnoattack')`),$.value===3&&(D.value=`UserToPlayer('${S.value}').components.combat.CalcDamage = function() return 9999999999 * 9 end`),$.value===4&&(D.value=`UserToPlayer('${S.value}').components.builder:UnlockRecipesForTech({SCIENCE = 1, MAGIC = 1, ANCIENT = 1, SHADOW = 1, CARTOGRAPHY = 1})`),$.value===5&&(D.value=`UserToPlayer('${S.value}').components.locomotor:SetExternalSpeedMultiplier(UserToPlayer('${S.value}'), 'c_speedmult', 4)`),$.value===6&&(D.value=`c_despawn(UserToPlayer('${S.value}'))`)},yl=[{label:{zh:"回档6天(按需更改)",en:"roll back 6 days (modify it by self)"},value:0},{label:{zh:"跳过1天(按需更改)",en:"skip 1 day (modify it by self)"},value:1},{label:{zh:"下一阶段",en:"next phase"},value:2},{label:{zh:"保存游戏",en:"save"},value:3}],gl=()=>{F.value===0&&(D.value="c_rollback(6)"),F.value===1&&(D.value="c_skip(1)"),F.value===2&&(D.value="TheWorld:PushEvent('ms_nextphase')"),F.value===3&&(D.value="c_save()")},bl=()=>{U.value.cmd=D.value,J.value=!1},se=Gl();Wl();const Ke=El(),Ge=Ol("refresh"),Ie=()=>{setTimeout(()=>{se.meta.isKeepAlive&&Ke.removeKeepAliveName(se.name),Ge(!1),Ze(()=>{se.meta.isKeepAlive&&Ke.addKeepAliveName(se.name),Ge(!0)})},0)};return Ml(()=>{Pe(),window.removeEventListener("beforeunload",Pe)}),Rl(()=>i.selectedDstCluster,c=>{c&&Ze(()=>{Ie()})},{immediate:!1}),(c,o)=>{const V=m("QuestionFilled"),C=m("el-icon"),I=m("el-tooltip"),K=m("DocumentCopy"),f=m("el-button"),N=m("el-descriptions-item"),g=m("el-tag"),Cl=m("el-descriptions"),G=m("el-result"),B=m("el-card"),T=m("el-col"),We=m("el-progress"),A=m("el-row"),Z=m("el-form-item"),Se=m("el-form"),W=m("el-input"),ue=m("el-option"),re=m("el-select"),x=m("el-table-column"),kl=m("el-switch"),Te=m("el-table"),wl=m("el-image"),ie=m("el-dialog"),xl=m("Loading"),Ue=m("el-alert"),Oe=m("el-radio"),zl=m("el-radio-group"),Dl=m("el-text"),Vl=m("MilkTea"),O=m("el-tour-step"),Il=m("Sugar"),Sl=m("ColdDrink"),Tl=m("Dessert"),Ul=m("Fries"),$l=m("IceDrink"),Nl=m("el-tour"),je=el("copy"),$e=el("loading");return r(),z("div",jl,[L.value.local!==-1?(r(),z(E,{key:0},[t(i).dstClusters?(r(),z(E,{key:0},[l(A,{gutter:10},{default:e(()=>[l(T,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[l(B,{shadow:"never",style:{"min-height":"250px"}},{header:e(()=>[d("div",Hl,[d("div",Ql,[u(s(t(n)("home.roomInfo"))+" ",1),l(I,{content:t(n)("home.roomInfoTip"),effect:"light",placement:"top"},{default:e(()=>[l(C,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[l(V)]),_:1})]),_:1},8,["content"])])])]),default:e(()=>[_.value.clusterSetting.name!==""?(r(),p(Cl,{key:0,column:t(H)?1:2},{default:e(()=>[l(N,{label:t(n)("home.roomName")},{default:e(()=>[te((r(),p(f,{link:"",type:"primary"},{default:e(()=>[u(s(_.value.clusterSetting.name)+" ",1),l(C,{style:{"margin-left":"3px"}},{default:e(()=>[l(K)]),_:1})]),_:1})),[[je,_.value.clusterSetting.name]])]),_:1},8,["label"]),l(N,{label:t(n)("home.connectionCode")},{default:e(()=>[l(I,{content:M.value,effect:"light",placement:"top"},{default:e(()=>[te((r(),p(f,{disabled:M.value==="",loading:fe.value,link:"",type:"primary"},{default:e(()=>[u(s(t(n)("home.copy")),1)]),_:1},8,["disabled","loading"])),[[je,M.value]])]),_:1},8,["content"]),l(f,{link:"",type:"info",onClick:ol},{default:e(()=>[u(s(t(n)("home.customConnectionCode")),1)]),_:1})]),_:1},8,["label"]),l(N,{label:t(n)("home.cycles")},{default:e(()=>[l(g,{type:_.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(s(_.value.seasonInfo.cycles),1)]),_:1},8,["type"])]),_:1},8,["label"]),l(N,{label:t(n)("home.phase")},{default:e(()=>[h.value==="en"?(r(),p(g,{key:0,type:_.value.seasonInfo.phase.en==="Failed to retrieve"?"danger":"success"},{default:e(()=>[u(s(_.value.seasonInfo.phase.en),1)]),_:1},8,["type"])):y("",!0),h.value==="zh"?(r(),p(g,{key:1,type:_.value.seasonInfo.phase.zh==="获取失败"?"danger":"success"},{default:e(()=>[u(s(_.value.seasonInfo.phase.zh),1)]),_:1},8,["type"])):y("",!0)]),_:1},8,["label"]),l(N,{label:t(n)("home.season")},{default:e(()=>[h.value==="en"?(r(),p(g,{key:0,type:_.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(s(_.value.seasonInfo.season.en)+" "+s(Ne(_.value.seasonInfo.season.en)),1)]),_:1},8,["type"])):y("",!0),h.value==="zh"?(r(),p(g,{key:1,type:_.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(s(_.value.seasonInfo.season.zh)+" "+s(Ne(_.value.seasonInfo.season.en)),1)]),_:1},8,["type"])):y("",!0)]),_:1},8,["label"]),l(N,{label:t(n)("home.mods")},{default:e(()=>[l(g,null,{default:e(()=>[u(s(_.value.modsCount),1)]),_:1}),l(f,{link:"",style:{"margin-left":"10px"},type:"primary",onClick:pl},{default:e(()=>[u(s(t(n)("home.modsButton")),1)]),_:1})]),_:1},8,["label"]),l(N,{label:t(n)("home.version")},{default:e(()=>[te((r(),p(g,{type:L.value.local===L.value.server&&!L.value.server<1?"success":"danger"},{default:e(()=>[u(" ("+s(L.value.local)+"/"+s(L.value.server)+") ",1)]),_:1},8,["type"])),[[$e,pe.value]])]),_:1},8,["label"]),l(N,{label:t(n)("home.playerNum")},{default:e(()=>[_.value.players!==null?(r(),p(I,{key:0,content:_.value.players.join(", "),effect:"light",placement:"top"},{default:e(()=>[l(g,{type:"primary"},{default:e(()=>[u(s(_.value.players.length),1)]),_:1})]),_:1},8,["content"])):(r(),p(g,{key:1,type:"primary"},{default:e(()=>o[34]||(o[34]=[u("0")])),_:1}))]),_:1},8,["label"])]),_:1},8,["column"])):y("",!0),_.value.clusterSetting.name===""?(r(),z("div",Yl,[l(G,{title:t(n)("home.noServer"),icon:"warning"},null,8,["title"])])):y("",!0)]),_:1})]),_:1}),l(T,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[l(B,{shadow:"never",style:{"min-height":"250px"}},{header:e(()=>[d("div",Jl,[d("div",Xl,[u(s(t(n)("home.sysInfo"))+" ",1),l(I,{content:t(n)("home.sysInfoTip"),effect:"light",placement:"top"},{default:e(()=>[l(C,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[l(V)]),_:1})]),_:1},8,["content"])])])]),default:e(()=>[d("div",Zl,[l(We,{color:qe,percentage:ve.value.cpu,type:"dashboard"},{default:e(({percentage:a})=>[d("span",et,s(a.toFixed(1)),1),o[35]||(o[35]=d("span",{class:"percentage-label"},"CPU",-1))]),_:1},8,["percentage"]),l(We,{color:qe,percentage:ve.value.memory,style:{"margin-left":"10%"},type:"dashboard"},{default:e(({percentage:a})=>[d("span",lt,s(a.toFixed(1)),1),d("span",tt,s(t(n)("home.mem")),1)]),_:1},8,["percentage"])])]),_:1})]),_:1})]),_:1}),l(A,{gutter:10},{default:e(()=>[l(T,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[l(B,{style:{"min-height":"300px"},shadow:"never"},{header:e(()=>[d("div",at,s(t(n)("home.control")),1)]),default:e(()=>[_.value.clusterSetting.name!==""?(r(),z("div",ot,[l(Se,{size:"large"},{default:e(()=>[l(Z,{label:t(n)("home.rollback")},{default:e(()=>[t(H)?(r(),p(T,{key:0},{default:e(()=>[l(f,{size:"small",onClick:o[0]||(o[0]=a=>k("rollback",1))},{default:e(()=>[u("1"+s(t(n)("home.day")),1)]),_:1}),l(f,{size:"small",onClick:o[1]||(o[1]=a=>k("rollback",2))},{default:e(()=>[u(" 2"+s(t(n)("home.days")),1)]),_:1}),l(f,{size:"small",onClick:o[2]||(o[2]=a=>k("rollback",3))},{default:e(()=>[u(" 3"+s(t(n)("home.days")),1)]),_:1})]),_:1})):y("",!0),t(H)?(r(),p(T,{key:1},{default:e(()=>[l(f,{size:"small",onClick:o[3]||(o[3]=a=>k("rollback",4))},{default:e(()=>[u(" 4"+s(t(n)("home.days")),1)]),_:1}),l(f,{size:"small",onClick:o[4]||(o[4]=a=>k("rollback",5))},{default:e(()=>[u(" 5"+s(t(n)("home.days")),1)]),_:1})]),_:1})):y("",!0),t(H)?y("",!0):(r(),p(T,{key:2},{default:e(()=>[l(f,{size:"small",onClick:o[5]||(o[5]=a=>k("rollback",1))},{default:e(()=>[u("1"+s(t(n)("home.day")),1)]),_:1}),l(f,{size:"small",onClick:o[6]||(o[6]=a=>k("rollback",2))},{default:e(()=>[u(" 2"+s(t(n)("home.days")),1)]),_:1}),l(f,{size:"small",onClick:o[7]||(o[7]=a=>k("rollback",3))},{default:e(()=>[u(" 3"+s(t(n)("home.days")),1)]),_:1}),l(f,{size:"small",onClick:o[8]||(o[8]=a=>k("rollback",4))},{default:e(()=>[u(" 4"+s(t(n)("home.days")),1)]),_:1}),l(f,{size:"small",onClick:o[9]||(o[9]=a=>k("rollback",5))},{default:e(()=>[u(" 5"+s(t(n)("home.days")),1)]),_:1})]),_:1}))]),_:1},8,["label"])]),_:1}),l(Se,{size:"large"},{default:e(()=>[l(Z,null,{default:e(()=>[l(f,{size:"default",type:"success",onClick:o[10]||(o[10]=a=>k("startup",0))},{default:e(()=>[u(s(t(n)("home.startup")),1)]),_:1}),l(f,{size:"default",type:"primary",onClick:o[11]||(o[11]=a=>k("restart",0))},{default:e(()=>[u(s(t(n)("home.restart")),1)]),_:1}),l(f,{disabled:t(tl).role!=="admin",loading:Ae.value,size:"default",type:"warning",onClick:o[12]||(o[12]=a=>k("update",0))},{default:e(()=>[u(s(t(n)("home.update")),1)]),_:1},8,["disabled","loading"])]),_:1}),l(Z,null,{default:e(()=>[l(f,{size:"default",type:"warning",onClick:o[13]||(o[13]=a=>k("shutdown",0))},{default:e(()=>[u(s(t(n)("home.shutdown")),1)]),_:1}),l(f,{size:"default",type:"danger",onClick:o[14]||(o[14]=a=>k("reset",0))},{default:e(()=>[u(s(t(n)("home.reset")),1)]),_:1}),l(I,{content:t(n)("home.deleteTips"),effect:"light",placement:"top"},{default:e(()=>[l(f,{color:"#626aef",size:"default",onClick:o[15]||(o[15]=a=>k("delete",0))},{default:e(()=>[u(s(t(n)("home.delete")),1)]),_:1})]),_:1},8,["content"])]),_:1})]),_:1})])):y("",!0),_.value.clusterSetting.name===""?(r(),z("div",nt,[l(G,{title:t(n)("home.noServer"),icon:"warning"},null,8,["title"])])):y("",!0)]),_:1})]),_:1}),l(T,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[l(B,{style:{"min-height":"300px"},shadow:"never"},{header:e(()=>[d("div",st,[u(s(t(n)("home.interface"))+" ",1),l(f,{link:"",type:"primary",onClick:o[16]||(o[16]=a=>J.value=!0)},{default:e(()=>[u(s(t(n)("home.quickCmd.openButton")),1)]),_:1})])]),default:e(()=>[_.value.clusterSetting.name!==""?(r(),z("div",ut,[l(Se,{"label-position":"top"},{default:e(()=>[l(Z,null,{label:e(()=>[d("div",rt,[d("span",null,s(t(n)("home.announcement")),1),l(I,{content:t(n)("home.announceTip"),effect:"light",placement:"top"},{default:e(()=>[l(C,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[l(V)]),_:1})]),_:1},8,["content"])])]),default:e(()=>[l(W,{modelValue:Y.value.message,"onUpdate:modelValue":o[17]||(o[17]=a=>Y.value.message=a),onKeyup:Qe(Le,["enter"])},{append:e(()=>[l(f,{loading:be.value,onClick:Le},{default:e(()=>[u(s(t(n)("home.send")),1)]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1}),l(Z,null,{label:e(()=>[d("div",it,[o[36]||(o[36]=d("span",null,"Console",-1)),l(I,{content:t(n)("home.consoleTip"),effect:"light",placement:"top"},{default:e(()=>[l(C,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[l(V)]),_:1})]),_:1},8,["content"])])]),default:e(()=>[l(W,{modelValue:U.value.cmd,"onUpdate:modelValue":o[19]||(o[19]=a=>U.value.cmd=a),onKeyup:Qe(Fe,["enter"])},{prepend:e(()=>[l(re,{modelValue:U.value.world,"onUpdate:modelValue":o[18]||(o[18]=a=>U.value.world=a),style:{width:"115px"}},{default:e(()=>[(r(!0),z(E,null,ae(oe.value,a=>(r(),p(ue,{disabled:!a.stat,label:a.world,value:a.world},{default:e(()=>[d("div",dt,[d("span",ct,s(a.world),1),a.type==="forest"?(r(),p(g,{key:0,type:"success"},{default:e(()=>o[37]||(o[37]=[u("地面")])),_:1})):y("",!0),a.type==="cave"?(r(),p(g,{key:1,type:"warning"},{default:e(()=>o[38]||(o[38]=[u("洞穴")])),_:1})):y("",!0),a.type==="None"?(r(),p(g,{key:2,type:"danger"},{default:e(()=>o[39]||(o[39]=[u("未识别")])),_:1})):y("",!0)])]),_:2},1032,["disabled","label","value"]))),256))]),_:1},8,["modelValue"])]),append:e(()=>[l(f,{loading:Ce.value,onClick:Fe},{default:e(()=>[u(s(t(n)("home.execute")),1)]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1})]),_:1})])):y("",!0),_.value.clusterSetting.name===""?(r(),z("div",mt,[l(G,{title:t(n)("home.noServer"),icon:"warning"},null,8,["title"])])):y("",!0)]),_:1})]),_:1})]),_:1}),l(A,{gutter:10},{default:e(()=>[l(T,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[l(B,{style:Kl(t(H)?"min-height: 300px":"height: 400px"),shadow:"never"},{header:e(()=>[d("div",pt,[d("span",null,s(h.value==="zh"?"世界信息":"World Info"),1),l(f,{link:"",type:"primary",onClick:Me},{default:e(()=>[u(s(h.value==="zh"?"检查世界":"Check World"),1)]),_:1})])]),default:e(()=>[oe.value?(r(),p(Te,{key:0,data:oe.value,border:""},{default:e(()=>[l(x,{label:"ID",prop:"id"},{default:e(a=>[l(g,{type:"info"},{default:e(()=>[u(s(a.row.id),1)]),_:2},1024)]),_:1}),l(x,{label:t(n)("home.worldName"),prop:"world"},{default:e(a=>[l(g,{type:"primary"},{default:e(()=>[u(s(a.row.world),1)]),_:2},1024)]),_:1},8,["label"]),l(x,{label:t(n)("home.type"),prop:"type"},{default:e(a=>[a.row.type==="forest"?(r(),p(g,{key:0,type:"success"},{default:e(()=>[u(s(h.value==="zh"?"地面":"Ground"),1)]),_:1})):y("",!0),a.row.type==="cave"?(r(),p(g,{key:1,type:"warning"},{default:e(()=>[u(s(h.value==="zh"?"洞穴":"Cave"),1)]),_:1})):y("",!0),a.row.type==="None"?(r(),p(g,{key:2,type:"danger"},{default:e(()=>[u(s(h.value==="zh"?"未识别":"Undefined"),1)]),_:1})):y("",!0)]),_:1},8,["label"]),l(x,{label:t(n)("home.isMaster"),prop:"isMaster"},{default:e(a=>[a.row.isMaster?(r(),p(g,{key:0,type:"primary"},{default:e(()=>[u(s(h.value==="zh"?"是":"Yes"),1)]),_:1})):(r(),p(g,{key:1,type:"info"},{default:e(()=>[u(s(h.value==="zh"?"否":"No"),1)]),_:1}))]),_:1},8,["label"]),l(x,{prop:"cpu"},{header:e(()=>[d("div",ft,[o[40]||(o[40]=d("span",null,"CPU",-1)),l(I,{content:t(n)("home.cpuTip"),effect:"light",placement:"top"},{default:e(()=>[l(C,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[l(V)]),_:1})]),_:1},8,["content"])])]),default:e(a=>[l(g,{type:"info"},{default:e(()=>[u(s(a.row.cpu.toFixed(2))+"%",1)]),_:2},1024)]),_:1}),l(x,{label:t(n)("home.memory")+"(MiB)",prop:"mem"},{default:e(a=>[l(g,{type:"info"},{default:e(()=>[u(s(a.row.memSize.toFixed(0))+" ["+s(a.row.mem.toFixed(0))+"%]",1)]),_:2},1024)]),_:1},8,["label"]),l(x,{label:t(n)("home.disk"),prop:"diskUsed"},{default:e(a=>[l(g,{type:"info"},{default:e(()=>[u(s(t(Ye)(a.row.diskUsed,0)),1)]),_:2},1024)]),_:1},8,["label"]),l(x,{label:t(n)("home.status"),prop:"stat"},{default:e(a=>[l(kl,{modelValue:a.row.stat,"onUpdate:modelValue":ee=>a.row.stat=ee,"inline-prompt":"","active-text":t(n)("home.running"),"inactive-text":t(n)("home.terminated"),loading:ge.value,onChange:ee=>ml(a.row.world)},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text","loading","onChange"])]),_:1},8,["label"])]),_:1},8,["data"])):(r(),z("div",vt,[l(G,{title:t(n)("home.noServer"),icon:"warning"},null,8,["title"])]))]),_:1},8,["style"])]),_:1})]),_:1})],64)):(r(),p(B,{key:1,shadow:"never"},{default:e(()=>[d("div",ht,[l(G,{title:"请创建集群后再使用本平台功能",icon:"warning"})])]),_:1}))],64)):y("",!0),L.value.local===-1?(r(),p(B,{key:1,shadow:"never"},{default:e(()=>[d("div",_t,[l(G,{title:"请先安装游戏后再使用本平台功能","sub-title":"请前往 工具-安装游戏 页面，或使用脚本进行手动安装",icon:"warning"})])]),_:1})):y("",!0),l(ie,{modelValue:ke.value,"onUpdate:modelValue":o[20]||(o[20]=a=>ke.value=a),"close-on-click-modal":!1,title:t(n)("home.modsTable.title"),width:"80%"},{default:e(()=>[te((r(),p(Te,{data:Be.value.filter(a=>a.id!==1),border:"",height:"70vh",size:"small",style:{width:"100%"},"tooltip-effect":"light"},{default:e(()=>[l(x,{label:t(n)("home.modsTable.name"),prop:"name"},null,8,["label"]),l(x,{label:t(n)("home.modsTable.pics"),prop:"preview_url",width:"120px"},{default:e(a=>[l(wl,{src:a.row.preview_url,fit:"fill",style:{width:"100px",height:"100px"}},null,8,["src"])]),_:1},8,["label"]),l(x,{label:t(n)("home.modsTable.size"),prop:"size"},{default:e(a=>[u(s(t(Ye)(a.row.size)),1)]),_:1},8,["label"]),l(x,{label:t(n)("home.modsTable.id"),prop:"id"},null,8,["label"]),l(x,{label:t(n)("home.modsTable.tags"),prop:"tags"},{default:e(a=>[(r(!0),z(E,null,ae(a.row.tags,ee=>(r(),p(g,{style:{margin:"0 5px 5px 0"}},{default:e(()=>[u(s(ee.display_name),1)]),_:2},1024))),256))]),_:1},8,["label"])]),_:1},8,["data"])),[[$e,we.value]])]),_:1},8,["modelValue","title"]),l(ie,{modelValue:ze.value,"onUpdate:modelValue":o[22]||(o[22]=a=>ze.value=a),width:"60%"},{header:e(()=>[u(s(t(n)("home.screenDialog.title")),1)]),default:e(()=>[l(re,{modelValue:De.value,"onUpdate:modelValue":o[21]||(o[21]=a=>De.value=a),multiple:"",disabled:R.value,onChange:Re,style:{margin:"20px 0"}},{default:e(()=>[(r(),z(E,null,ae(vl,a=>l(ue,{label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"]),R.value?(r(),p(Ue,{key:0,closable:!1,type:"info","show-icon":"",effect:me.value?"light":"dark"},{icon:e(()=>[l(C,{class:"is-loading"},{default:e(()=>[l(xl)]),_:1})]),default:e(()=>[u(" "+s(t(n)("home.screenDialog.tip3")),1)]),_:1},8,["effect"])):y("",!0),Ve.value&&!R.value?(r(),p(Ue,{key:1,closable:!1,type:"success","show-icon":"",effect:me.value?"light":"dark"},{default:e(()=>[u(s(t(n)("home.screenDialog.tip4")),1)]),_:1},8,["effect"])):y("",!0),!Ve.value&&!R.value?(r(),p(Ue,{key:2,closable:!1,type:"error","show-icon":"",effect:me.value?"light":"dark"},{default:e(()=>[u(s(t(n)("home.screenDialog.tip5")),1)]),_:1},8,["effect"])):y("",!0),d("div",yt,s(t(n)("home.screenDialog.tip1")),1),d("div",gt,s(t(n)("home.screenDialog.tip2")),1),te((r(),p(Te,{data:Ee.value,border:""},{default:e(()=>[l(x,{label:t(n)("home.screenDialog.column1"),prop:"screenName"},{default:e(a=>[l(g,{type:"primary"},{default:e(()=>[u(s(a.row.screenName),1)]),_:2},1024)]),_:1},8,["label"]),l(x,{label:t(n)("home.screenDialog.column2")},{default:e(a=>[l(f,{type:"danger",size:"small",onClick:ee=>fl(a.row.screenName)},{default:e(()=>[u(s(t(n)("home.screenDialog.stop")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[$e,xe.value]])]),_:1},8,["modelValue"]),l(ie,{modelValue:Q.value,"onUpdate:modelValue":o[26]||(o[26]=a=>Q.value=a),width:"60%"},{default:e(()=>[d("div",bt,[d("div",Ct,s(t(n)("home.customConnectionCodeTip")),1),d("div",kt,s(t(n)("home.customConnectionCodeTip2")),1),l(A,{gutter:20},{default:e(()=>[l(T,{span:8},{default:e(()=>[l(W,{modelValue:w.value.ip,"onUpdate:modelValue":o[23]||(o[23]=a=>w.value.ip=a),placeholder:t(n)("home.ip")},null,8,["modelValue","placeholder"])]),_:1}),l(T,{span:8},{default:e(()=>[l(W,{modelValue:w.value.port,"onUpdate:modelValue":o[24]||(o[24]=a=>w.value.port=a),placeholder:t(n)("home.port")},null,8,["modelValue","placeholder"])]),_:1}),l(T,{span:8},{default:e(()=>[l(W,{modelValue:w.value.password,"onUpdate:modelValue":o[25]||(o[25]=a=>w.value.password=a),placeholder:t(n)("home.password")},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),w.value.ip&&w.value.port?(r(),z("div",wt,[d("strong",null,s(t(n)("home.preview"))+": ",1),u(" c_connect('"+s(w.value.ip)+"', "+s(w.value.port)+s(w.value.password?`, '${w.value.password}'`:"")+") ",1)])):y("",!0),d("div",xt,[l(f,{type:"danger",onClick:sl},{default:e(()=>[u(s(t(n)("home.clear")),1)]),_:1}),l(f,{type:"primary",onClick:nl},{default:e(()=>[u(s(t(n)("home.submit")),1)]),_:1})])])]),_:1},8,["modelValue"]),l(ie,{modelValue:J.value,"onUpdate:modelValue":o[32]||(o[32]=a=>J.value=a)},{header:e(()=>[u(s(t(n)("home.quickCmd.openButton")),1)]),footer:e(()=>[l(f,{onClick:o[31]||(o[31]=a=>J.value=!1)},{default:e(()=>[u(s(t(n)("home.quickCmd.cancel")),1)]),_:1}),l(f,{type:"primary",onClick:bl},{default:e(()=>[u(s(t(n)("home.quickCmd.insert")),1)]),_:1})]),default:e(()=>[d("div",zt,[l(A,null,{default:e(()=>[l(zl,{modelValue:X.value,"onUpdate:modelValue":o[27]||(o[27]=a=>X.value=a)},{default:e(()=>[l(Oe,{value:"player"},{default:e(()=>[u(s(h.value==="zh"?"玩家":"Player"),1)]),_:1}),l(Oe,{value:"world"},{default:e(()=>[u(s(h.value==="zh"?"世界":"World"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(A,{class:"mt-16px"},{default:e(()=>[l(W,{modelValue:S.value,"onUpdate:modelValue":o[28]||(o[28]=a=>S.value=a),disabled:X.value==="world",placeholder:t(n)("home.quickCmd.uid"),clearable:""},null,8,["modelValue","disabled","placeholder"])]),_:1}),l(A,{class:"mt-16px"},{default:e(()=>[l(re,{modelValue:$.value,"onUpdate:modelValue":o[29]||(o[29]=a=>$.value=a),disabled:X.value==="world"||S.value==="",placeholder:t(n)("home.quickCmd.player"),filterable:"",onChange:_l,clearable:""},{default:e(()=>[(r(),z(E,null,ae(hl,a=>l(ue,{label:h.value==="zh"?a.label.zh:a.label.en,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled","placeholder"])]),_:1}),l(A,{class:"mt-16px"},{default:e(()=>[l(re,{modelValue:F.value,"onUpdate:modelValue":o[30]||(o[30]=a=>F.value=a),disabled:X.value==="player",placeholder:t(n)("home.quickCmd.world"),filterable:"",onChange:gl,clearable:""},{default:e(()=>[(r(),z(E,null,ae(yl,a=>l(ue,{label:h.value==="zh"?a.label.zh:a.label.en,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled","placeholder"])]),_:1}),D.value&&($.value>=0||F.value>=0)?(r(),p(A,{key:0,class:"mt-16px"},{default:e(()=>[d("div",Dt,[u(s(h.value==="zh"?"预览：":"preview: ")+" ",1),l(Dl,{type:"primary"},{default:e(()=>[u(s(D.value),1)]),_:1})])]),_:1})):y("",!0)])]),_:1},8,["modelValue"]),l(Nl,{modelValue:t(i).needTour,"onUpdate:modelValue":o[33]||(o[33]=a=>t(i).needTour=a)},{default:e(()=>[l(O,{title:t(n)("home.tour.one.title")},{default:e(()=>[d("div",Vt,[l(C,{style:{"margin-right":"5px"}},{default:e(()=>[l(Vl)]),_:1}),d("span",null,s(t(n)("home.tour.one.desc")),1)])]),_:1},8,["title"]),l(O,{target:"#tourUser",title:t(n)("home.tour.two.title")},{default:e(()=>[d("div",It,[l(C,{style:{"margin-right":"5px"}},{default:e(()=>[l(Il)]),_:1}),d("span",null,s(t(n)("home.tour.two.desc")),1)])]),_:1},8,["title"]),l(O,{target:"#tourClusterSelect",title:t(n)("home.tour.three.title")},{default:e(()=>[d("div",St,[l(C,{style:{"margin-right":"5px"}},{default:e(()=>[l(Sl)]),_:1}),d("span",null,s(t(n)("home.tour.three.desc")),1)])]),_:1},8,["title"]),l(O,{target:"#tourMessage",title:t(n)("home.tour.four.title")},{default:e(()=>[d("div",Tt,[l(C,{style:{"margin-right":"5px"}},{default:e(()=>[l(Tl)]),_:1}),d("span",null,s(t(n)("home.tour.four.desc")),1)])]),_:1},8,["title"]),l(O,{target:"#tourGithub",title:t(n)("home.tour.five.title")},{default:e(()=>[d("div",Ut,[l(C,{style:{"margin-right":"5px"}},{default:e(()=>[l(Ul)]),_:1}),d("span",null,s(t(n)("home.tour.five.desc")),1)])]),_:1},8,["title"]),l(O,{title:t(n)("home.tour.six.title")},{default:e(()=>[d("div",$t,[l(C,{style:{"margin-right":"5px"}},{default:e(()=>[l($l)]),_:1}),d("span",null,s(t(n)("home.tour.six.desc")),1)])]),_:1},8,["title"])]),_:1},8,["modelValue"])])}}},Pt=ql(Nt,[["__scopeId","data-v-78c6af19"]]);export{Pt as default};
