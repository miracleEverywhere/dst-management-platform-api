import{_ as h,r as f,K as d,f as y,i as q,m as t,t as n,a8 as E,k as o,l as a,j as s,a9 as Q,p as I,aa as X,ab as Y,ac as ee,u as te,a as le,g as se,G as ae,H as oe,d as ie,I as ne,c as M,w as re,J as A,L as de,q as l,n as K,v as ue,ad as pe,D as ce,a2 as $,B as me}from"./index-BQEj5pez.js";const ve={class:"content"},fe={__name:"index",props:{title:{type:String,required:!0},defaultExpanded:{type:Boolean,default:!1},darkMode:{type:Boolean,default:!1}},setup(g){const p=f(g.defaultExpanded),r=()=>{p.value=!p.value};return(c,C)=>{const _=d("el-icon");return y(),q("div",{class:E(["expandable-container",{"dark-mode":g.darkMode}])},[t("div",{class:"header",onClick:r},[t("h3",null,n(g.title),1),t("div",{class:E(["arrow-container",{rotated:p.value}])},[o(_,{class:"arrow-icon"},{default:a(()=>[o(s(Q))]),_:1})],2)]),o(ee,{name:"expand"},{default:a(()=>[I(t("div",ve,[X(c.$slots,"default",{},void 0,!0)],512),[[Y,p.value]])]),_:3})],2)}}},ge=h(fe,[["__scopeId","data-v-ea7cdcb6"]]),_e={class:"page-div"},be={class:"card-header"},xe={style:{height:"auto"}},ke={class:"tip custom-block"},we={class:"bolder"},ye={class:"card-footer"},Ce={class:"el-upload__text"},De={class:"el-upload__tip"},ze={__name:"import",setup(g){const{t:i}=te(),{isMobile:p}=le(),r=se(),c=ae();oe();const C=ie(),_=ne("refresh"),v=M(()=>r.isDark),L=M(()=>r.language),D=f(!1),m=f(!1),b=f(!1),z=f(),P=()=>{z.value&&z.value.clearFiles(),b.value=!0},T=u=>/\.zip$/i.test(u.name)?!0:(ce(L.value==="zh"?"请上传zip文件":"Please upload a zip file"),!1),F=u=>{m.value=!0;const e=new FormData;e.append("file",u.file),e.append("clusterName",r.selectedDstCluster),$.import.upload.post(e).then(x=>{G(),me(x.message)}).finally(()=>{b.value=!1,m.value=!1})},G=()=>{$.clusters.get().then(u=>{r.dstClusters=u.data,r.selectedDstCluster===null&&r.dstClusters!==null&&(r.selectedDstCluster=r.dstClusters[0].clusterName)})},R=new URL("/assets/zip-image-DCIK-Up-.png",import.meta.url).href,U=new URL("/assets/zip-image-master-BqrqyRWw.png",import.meta.url).href,j=new URL("/assets/help-lSGot43l.gif",import.meta.url).href,H=()=>{setTimeout(()=>{c.meta.isKeepAlive&&C.removeKeepAliveName(c.name),_(!1),A(()=>{c.meta.isKeepAlive&&C.addKeepAliveName(c.name),_(!0)})},0)};return re(()=>r.selectedDstCluster,u=>{u&&A(()=>{H()})},{immediate:!1}),(u,e)=>{const x=d("el-button"),k=d("el-alert"),S=d("el-col"),V=d("el-image"),B=d("el-row"),Z=d("el-card"),J=d("el-icon"),W=d("el-upload"),N=d("el-dialog"),O=de("loading");return y(),q("div",_e,[o(B,{gutter:10},{default:a(()=>[o(S,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:a(()=>[o(Z,{shadow:"never"},{header:a(()=>[t("div",be,[l(n(s(i)("setting.import.title"))+" ",1),o(x,{type:"success",onClick:e[0]||(e[0]=w=>D.value=!0)},{default:a(()=>[l(n(s(i)("setting.import.buttonHelp")),1)]),_:1})])]),footer:a(()=>[t("div",ye,[o(x,{type:"primary",onClick:P},{default:a(()=>[l(n(s(i)("setting.import.button")),1)]),_:1})])]),default:a(()=>[s(p)?ue("",!0):(y(),K(ge,{key:0,title:s(i)("setting.import.tipTitle"),"dark-mode":v.value},{default:a(()=>[o(k,{closable:!1,type:"warning",effect:v.value?"light":"dark","show-icon":"",style:{"margin-bottom":"10px"}},{default:a(()=>[l(n(s(i)("setting.import.text1")),1)]),_:1},8,["effect"]),o(k,{closable:!1,type:"success",effect:v.value?"light":"dark","show-icon":"",style:{"margin-bottom":"10px"}},{default:a(()=>[l(n(s(i)("setting.import.text1_1")),1)]),_:1},8,["effect"]),o(k,{closable:!1,type:"error",effect:v.value?"light":"dark","show-icon":"",style:{"margin-bottom":"10px"}},{default:a(()=>[l(n(s(i)("setting.import.text1_2")),1)]),_:1},8,["effect"])]),_:1},8,["title","dark-mode"])),t("div",xe,[t("div",null,[o(B,{gutter:20},{default:a(()=>[o(S,{lg:12,md:12,sm:24,span:12,xs:24},{default:a(()=>[t("div",ke,[t("div",null,[t("span",we,n(s(i)("setting.import.text2")),1)]),e[3]||(e[3]=t("div",null,".",-1)),e[4]||(e[4]=t("div",null,"├── adminlist.txt",-1)),e[5]||(e[5]=t("div",null,"├── blocklist.txt",-1)),e[6]||(e[6]=t("div",null,"├── Caves",-1)),e[7]||(e[7]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── backup")],-1)),e[8]||(e[8]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── leveldataoverride.lua")],-1)),e[9]||(e[9]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── modoverrides.lua")],-1)),e[10]||(e[10]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── save")],-1)),e[11]||(e[11]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── server_chat_log.txt")],-1)),e[12]||(e[12]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── server.ini")],-1)),e[13]||(e[13]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   └── server_log.txt")],-1)),e[14]||(e[14]=t("div",null,[t("span",{class:"bolder"},"├── cluster.ini")],-1)),e[15]||(e[15]=t("div",null,[t("span",{class:"bolder"},"├── cluster_token.txt")],-1)),e[16]||(e[16]=t("div",{class:"bolder"},"├── Master",-1)),e[17]||(e[17]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── backup")],-1)),e[18]||(e[18]=t("div",{class:"bolder"},[t("span",{class:"tree-tab"},"│"),l("   ├── leveldataoverride.lua")],-1)),e[19]||(e[19]=t("div",{class:"bolder"},[t("span",{class:"tree-tab"},"│"),l("   ├── modoverrides.lua")],-1)),e[20]||(e[20]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── save")],-1)),e[21]||(e[21]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── server_chat_log.txt")],-1)),e[22]||(e[22]=t("div",{class:"bolder"},[t("span",{class:"tree-tab"},"│"),l("   ├── server.ini")],-1)),e[23]||(e[23]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   └── server_log.txt")],-1)),e[24]||(e[24]=t("div",null,"└── whitelist.txt",-1))])]),_:1}),o(S,{lg:12,md:12,sm:24,span:12,xs:24},{default:a(()=>[t("div",null,[o(V,{"hide-on-click-modal":!0,"initial-index":4,"max-scale":7,"min-scale":.2,"preview-src-list":[s(R)],src:s(R),"zoom-rate":1.2,fit:"cover",style:{"margin-top":"10px","margin-bottom":"10px"}},null,8,["preview-src-list","src"])]),t("div",null,[o(V,{"hide-on-click-modal":!0,"initial-index":4,"max-scale":7,"min-scale":.2,"preview-src-list":[s(U)],src:s(U),"zoom-rate":1.2,fit:"cover",style:{"margin-top":"10px","margin-bottom":"10px"}},null,8,["preview-src-list","src"])])]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1}),o(N,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=w=>b.value=w),"close-on-click-modal":!m.value,"close-on-press-escape":!m.value,"show-close":!m.value,title:s(i)("setting.import.dialog.title"),width:"45%"},{default:a(()=>[I((y(),K(W,{ref_key:"uploadRef",ref:z,"before-upload":T,"http-request":F,limit:1,drag:""},{tip:a(()=>[t("div",De,n(s(i)("setting.import.dialog.tip")),1)]),default:a(()=>[o(J,{class:"el-icon--upload"},{default:a(()=>[o(s(pe))]),_:1}),t("div",Ce,[l(n(s(i)("setting.import.dialog.text1"))+" ",1),t("em",null,n(s(i)("setting.import.dialog.text2")),1)])]),_:1})),[[O,m.value]])]),_:1},8,["modelValue","close-on-click-modal","close-on-press-escape","show-close","title"]),o(N,{modelValue:D.value,"onUpdate:modelValue":e[2]||(e[2]=w=>D.value=w),title:s(i)("setting.import.dialog2.title"),width:"70%"},{default:a(()=>[o(k,{closable:!1,effect:v.value?"light":"dark",type:"error"},{default:a(()=>[l(n(s(i)("setting.import.dialog2.text1")),1)]),_:1},8,["effect"]),o(V,{src:s(j),class:"fcc",fit:"fill",loading:"lazy",style:{"margin-top":"10px"}},null,8,["src"])]),_:1},8,["modelValue","title"])])}}},Ve=h(ze,[["__scopeId","data-v-243a7b60"]]);export{Ve as default};
