import f from"./log-CujGpxwf.js";import{u as x,g as y,G as A,H as K,d as T,I as N,r as n,w as S,J as p,K as r,f as V,i as H,k as e,l,j as d}from"./index-DubB-sHn.js";import"./index-B2KC571q.js";import"./index-DCWWSzzU.js";const j={class:"page-div"},z={__name:"chat",setup(q){const{t:c}=x(),v=y(),s=A();K();const u=T(),i=N("refresh"),t=n("current"),h=o=>{t.value==="current"&&a.value&&a.value.startRequests(),t.value==="historical"&&a.value&&a.value.cancelRequests(),t.value=o},a=n(),g=n(),b=()=>{setTimeout(()=>{s.meta.isKeepAlive&&u.removeKeepAliveName(s.name),i(!1),p(()=>{s.meta.isKeepAlive&&u.addKeepAliveName(s.name),i(!0)})},0)};return S(()=>v.selectedDstCluster,o=>{o&&p(()=>{b()})},{immediate:!1}),(o,m)=>{const _=r("el-tab-pane"),R=r("el-tabs"),k=r("el-col"),C=r("el-row");return V(),H("div",j,[e(C,{gutter:10},{default:l(()=>[e(k,{lg:24,md:24,sm:24,span:24,xs:24},{default:l(()=>[e(R,{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=w=>t.value=w),onTabChange:h},{default:l(()=>[e(_,{label:d(c)("logs.current"),name:"current"},{default:l(()=>[e(f,{ref_key:"logRef",ref:a,type:"chat"},null,512)]),_:1},8,["label"]),e(_,{label:d(c)("logs.historical"),lazy:!0,name:"historical"},{default:l(()=>[e(f,{ref_key:"HistoricalLogRef",ref:g,historical:!0,type:"chat"},null,512)]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1})]),_:1})])}}};export{z as default};
