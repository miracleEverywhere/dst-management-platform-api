import{h as N,_ as Ct,o as bt,u as wt,a as kt,g as xt,b as Dt,c as qe,s as O,r as _,d as zt,e as It,w as St,f as i,i as z,F as j,j as l,k as t,l as e,m as c,t as n,n as f,p as H,q as u,v as g,x as Ke,y as we,z as Vt,A as Pe,B as E,E as Ge,C as We,D as ke,G as Tt,H as Nt,I as Ut,J as Oe,K as m,L as je}from"./index-D7FNhEHA.js";import{e as Z}from"./index-B-OOxWwT.js";const S={roomInfo:{url:"/home/room_info",get:async function(C){return await N.get(this.url,C)}},sysInfo:{url:"/home/sys_info",get:async function(C){return await N.get(this.url,C)}},worldInfo:{url:"/home/world_info",get:async function(C){return await N.get(this.url,C)}},exec:{url:"/home/exec",post:async function(C){return await N.post(this.url,C)}},allScreens:{url:"/home/cluster/all_screens",get:async function(C){return await N.get(this.url,C)}},screenKill:{url:"/home/cluster/screen_kill",post:async function(C){return await N.post(this.url,C)}},interface:{announce:{url:"/home/announce",post:async function(C){return await N.post(this.url,C)}},console:{url:"/home/console",post:async function(C){return await N.post(this.url,C)}}},isUpdating:{url:"/home/update/is_updating",get:async function(C){return await N.get(this.url,C)}}},$t={class:"page-div"},Lt={class:"card-header"},Ft={key:1,class:"fcc",style:{height:"150px"}},Bt={class:"card-header"},Mt={class:"fcc"},At={class:"fcc"},Et={class:"percentage-value"},Rt={class:"percentage-value"},qt={class:"percentage-label"},Kt={class:"card-header"},Pt={key:0},Gt={key:1,class:"fcc",style:{height:"150px"}},Wt={class:"card-header"},Ot={key:0},jt={class:"fcc"},Ht={style:{"margin-right":"10px"}},Qt={key:1,class:"fcc",style:{height:"150px"}},Jt={class:"card-header"},Yt={style:{display:"flex","align-items":"center"}},Xt={key:1,class:"fcc",style:{height:"300px"}},Zt={class:"fcc",style:{height:"67vh"}},el={class:"fcc",style:{height:"67vh"}},tl={class:"tip_warning"},ll={class:"tip"},ol={style:{margin:"20px"}},al={class:"tip"},sl={class:"tip_success"},nl={key:0,class:"tip"},ul={style:{display:"flex","justify-content":"flex-end","padding-top":"30px"}},rl={style:{display:"flex","align-items":"center"}},il={style:{display:"flex","align-items":"center"}},dl={style:{display:"flex","align-items":"center"}},cl={style:{display:"flex","align-items":"center"}},ml={style:{display:"flex","align-items":"center"}},pl={style:{display:"flex","align-items":"center"}},fl={__name:"index",setup(C){bt(()=>{lt(),et(),tt(),ae(!1),se(),at(),Je()});const{t:o}=wt(),{isMobile:R}=kt(),r=xt(),He=Dt(),ee=qe(()=>r.isDark),y=qe(()=>r.language),Qe=He.userInfo,Je=async()=>{var d;await O(2e3),r.needTour=(((d=r.dstClusters)==null?void 0:d.length)||0)===0};_(!1);const te=_(!1),le=_(!1),U=_({server:0,local:0}),F=_(""),w=_({ip:"",port:"",password:""}),q=_(!1),Ye=()=>{r.customConnectionCode[r.selectedDstCluster]?w.value=r.customConnectionCode[r.selectedDstCluster]:w.value={ip:"",port:"",password:""},q.value=!0},Xe=()=>{r.customConnectionCode[r.selectedDstCluster]=w.value,q.value=!1,E(y.value==="zh"?"更新成功":"Update Success"),ve()},Ze=()=>{delete r.customConnectionCode[r.selectedDstCluster],q.value=!1,E(y.value==="zh"?"清除成功":"Clear Success"),ve()},et=()=>{te.value=!0,Z.dstVersion.get().then(d=>{U.value=d.data}).finally(()=>{te.value=!1})},tt=async()=>{r.customConnectionCode[r.selectedDstCluster]?r.customConnectionCode[r.selectedDstCluster].password?F.value=`c_connect('${r.customConnectionCode[r.selectedDstCluster].ip}', ${r.customConnectionCode[r.selectedDstCluster].port}, '${r.customConnectionCode[r.selectedDstCluster].password}')`:F.value=`c_connect('${r.customConnectionCode[r.selectedDstCluster].ip}', ${r.customConnectionCode[r.selectedDstCluster].port})`:(le.value=!0,r.selectedDstCluster||await O(1e3),Z.connectionCode.get({clusterName:r.selectedDstCluster}).then(d=>{F.value=d.data}).finally(()=>{le.value=!1}))},h=_({clusterSetting:{},seasonInfo:{season:{},cycles:0,elapsedDays:0,seasonLength:{summer:15,autumn:20,spring:20,winter:15},phase:{}},modsCount:0,players:[]}),lt=async()=>{r.selectedDstCluster||await O(1e3),S.roomInfo.get({clusterName:r.selectedDstCluster}).then(d=>{h.value=d.data})},xe=d=>h.value.seasonInfo.cycles>-1?`(${h.value.seasonInfo.elapsedDays}/${h.value.seasonInfo.seasonLength[d]})`:"",oe=_({cpu:0,memory:0}),Q=_([{id:"",stat:!1,world:"",type:"",cpu:0,mem:0,memSize:0,diskUsed:0}]),ot=()=>{S.sysInfo.get().then(d=>{oe.value=d.data})},ae=async(d=!0)=>{if(h.value.clusterSetting.name==="")return;d||r.selectedDstCluster||await O(1e3);const a={clusterName:r.selectedDstCluster};S.worldInfo.get(a).then(T=>{Q.value=T.data})},De=[{color:"#5cb87a",percentage:20},{color:"#1989fa",percentage:40},{color:"#e6a23c",percentage:60},{color:"#f56c6c",percentage:80},{color:"#6f7ad3",percentage:100}],ze=_(!1),se=()=>{S.isUpdating.get().then(d=>{ze.value=d.data})};let J=null,ne=null;const at=()=>{J=setInterval(()=>{ot()},2e3),ne=setInterval(()=>{r.selectedDstCluster&&(ae(),se())},1e4)},Ie=()=>{J&&(clearInterval(J),clearInterval(ne),J=null,ne=null)},ue=_(!1),st=d=>{const a={clusterName:r.selectedDstCluster,worldName:d,type:"switch",extraData:""};ue.value=!0,S.exec.post(a).finally(async()=>{await ae(),await O(1500),ue.value=!1})},b=(d,a)=>{const T={startup:{en:"STARTUP",zh:"启动"},rollback:{en:"ROLLBACK",zh:"回档"},shutdown:{en:"SHUTDOWN",zh:"关闭"},restart:{en:"RESTART",zh:"重启"},update:{en:"UPDATE GAME",zh:"更新游戏"},reset:{en:"RESET GAME",zh:"重置游戏"},delete:{en:"DELETE GAME",zh:"删除世界"}};Ge.confirm(y.value==="zh"?`将执行 ${T[d].zh} 操作，是否继续？`:`The ${T[d].en} operation will be performed. Do you want to continue?`,y.value==="zh"?"请确认您的操作":"Please confirm your operation",{confirmButtonText:y.value==="zh"?"确定":"confirm",cancelButtonText:y.value==="zh"?"取消":"cancel",type:"warning",beforeClose:(k,p,D)=>{if(k==="confirm"){p.confirmButtonLoading=!0;const $={type:d,extraData:a,clusterName:r.selectedDstCluster,worldName:""};S.exec.post($).then(v=>{E(v.message),se(),D()}).catch(()=>{}).finally(()=>{p.confirmButtonLoading=!1})}else D()}}).then(()=>{}).catch(()=>{We(o("home.canceled"))})},re=_(!1),K=_({message:""}),Se=()=>{if(K.value.message===""){ke(y.value==="zh"?"请输入要宣告的内容":"Please enter the content to be announced");return}re.value=!0;const d={type:"announce",extraData:K.value.message,clusterName:r.selectedDstCluster,worldName:""};S.exec.post(d).then(a=>{E(a.message),K.value.message=""}).finally(()=>{re.value=!1})},ie=_(!1),V=_({cmd:"",world:""}),Ve=()=>{if(V.value.world===""){ke(y.value==="zh"?"请选择地面或洞穴":"Please select a world from ground and cave");return}if(V.value.cmd===""){ke(y.value==="zh"?"请输入要执行的命令":"Please enter the command to execute");return}ie.value=!0;const d={type:"console",extraData:V.value.cmd,clusterName:r.selectedDstCluster,worldName:V.value.world};S.exec.post(d).then(a=>{E(a.message),V.value.cmd=""}).finally(()=>{ie.value=!1})},de=_(!1),ce=_(!1),Te=_([]),nt=()=>{de.value=!0,ce.value=!0;const d={clusterName:r.selectedDstCluster};Z.modInfo.get(d).then(a=>{Te.value=a.data}).finally(()=>{ce.value=!1})},me=_(!1),Ne=_([]),pe=_(!1),Ue=()=>{pe.value=!0,me.value=!0;const d={clusterName:r.selectedDstCluster};S.allScreens.get(d).then(a=>{Ne.value=a.data}).finally(()=>{me.value=!1}),$e()},ut=d=>{Ge.confirm(y.value==="zh"?"将执行 关闭进程 操作，是否继续？":"The shutdown operation will be performed. Do you want to continue?",y.value==="zh"?"请确认您的操作":"Please confirm your operation",{confirmButtonText:y.value==="zh"?"确定":"confirm",cancelButtonText:y.value==="zh"?"取消":"cancel",type:"warning",beforeClose:(a,T,k)=>{if(a==="confirm"){T.confirmButtonLoading=!0;const p={screenName:d};S.screenKill.post(p).then(D=>{E(D.message),Ue(),k()}).catch(()=>{}).finally(()=>{T.confirmButtonLoading=!1})}else k()}}).then(()=>{}).catch(()=>{We(o("home.canceled"))})},rt=[{label:"ap-southeast-1",value:"ap-southeast-1"},{label:"ap-east-1",value:"ap-east-1"},{label:"us-east-1",value:"us-east-1"},{label:"eu-central-1",value:"eu-central-1"}],fe=_(["ap-southeast-1","ap-east-1"]),he=_(!1),B=_(!1),$e=()=>{B.value=!0;const d={clusterName:r.selectedDstCluster,regions:fe.value};Z.checkLobby.post(d).then(a=>{he.value=a.data}).finally(()=>{B.value=!1})},Y=Tt();Nt();const Le=zt(),Fe=Ut("refresh"),ve=()=>{setTimeout(()=>{Y.meta.isKeepAlive&&Le.removeKeepAliveName(Y.name),Fe(!1),Oe(()=>{Y.meta.isKeepAlive&&Le.addKeepAliveName(Y.name),Fe(!0)})},0)};return It(()=>{Ie(),window.removeEventListener("beforeunload",Ie)}),St(()=>r.selectedDstCluster,d=>{d&&Oe(()=>{ve()})},{immediate:!1}),(d,a)=>{const T=m("DocumentCopy"),k=m("el-icon"),p=m("el-button"),D=m("el-descriptions-item"),$=m("el-tooltip"),v=m("el-tag"),it=m("el-descriptions"),M=m("el-result"),L=m("el-card"),I=m("el-col"),Be=m("QuestionFilled"),Me=m("el-progress"),X=m("el-row"),P=m("el-form-item"),_e=m("el-form"),G=m("el-input"),Ae=m("el-option"),Ee=m("el-select"),x=m("el-table-column"),dt=m("el-switch"),ge=m("el-table"),ct=m("el-image"),ye=m("el-dialog"),mt=m("Loading"),Ce=m("el-alert"),pt=m("MilkTea"),A=m("el-tour-step"),ft=m("Sugar"),ht=m("ColdDrink"),vt=m("Dessert"),_t=m("Fries"),gt=m("IceDrink"),yt=m("el-tour"),Re=je("copy"),be=je("loading");return i(),z("div",$t,[U.value.local!==-1?(i(),z(j,{key:0},[l(r).dstClusters?(i(),z(j,{key:0},[t(X,{gutter:10},{default:e(()=>[t(I,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{shadow:"never",style:{"min-height":"250px"}},{header:e(()=>[c("div",Lt,n(l(o)("home.roomInfo")),1)]),default:e(()=>[h.value.clusterSetting.name!==""?(i(),f(it,{key:0,column:l(R)?1:2},{default:e(()=>[t(D,{label:l(o)("home.roomName")},{default:e(()=>[H((i(),f(p,{link:"",type:"primary"},{default:e(()=>[u(n(h.value.clusterSetting.name)+" ",1),t(k,{style:{"margin-left":"3px"}},{default:e(()=>[t(T)]),_:1})]),_:1})),[[Re,h.value.clusterSetting.name]])]),_:1},8,["label"]),t(D,{label:l(o)("home.connectionCode")},{default:e(()=>[t($,{content:F.value,effect:"light",placement:"top"},{default:e(()=>[H((i(),f(p,{disabled:F.value==="",loading:le.value,link:"",type:"primary"},{default:e(()=>[u(n(l(o)("home.copy")),1)]),_:1},8,["disabled","loading"])),[[Re,F.value]])]),_:1},8,["content"]),t(p,{link:"",type:"info",onClick:Ye},{default:e(()=>[u(n(l(o)("home.customConnectionCode")),1)]),_:1})]),_:1},8,["label"]),t(D,{label:l(o)("home.cycles")},{default:e(()=>[t(v,{type:h.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(n(h.value.seasonInfo.cycles),1)]),_:1},8,["type"])]),_:1},8,["label"]),t(D,{label:l(o)("home.phase")},{default:e(()=>[y.value==="en"?(i(),f(v,{key:0,type:h.value.seasonInfo.phase.en==="Failed to retrieve"?"danger":"success"},{default:e(()=>[u(n(h.value.seasonInfo.phase.en),1)]),_:1},8,["type"])):g("",!0),y.value==="zh"?(i(),f(v,{key:1,type:h.value.seasonInfo.phase.zh==="获取失败"?"danger":"success"},{default:e(()=>[u(n(h.value.seasonInfo.phase.zh),1)]),_:1},8,["type"])):g("",!0)]),_:1},8,["label"]),t(D,{label:l(o)("home.season")},{default:e(()=>[y.value==="en"?(i(),f(v,{key:0,type:h.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(n(h.value.seasonInfo.season.en)+" "+n(xe(h.value.seasonInfo.season.en)),1)]),_:1},8,["type"])):g("",!0),y.value==="zh"?(i(),f(v,{key:1,type:h.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(n(h.value.seasonInfo.season.zh)+" "+n(xe(h.value.seasonInfo.season.en)),1)]),_:1},8,["type"])):g("",!0)]),_:1},8,["label"]),t(D,{label:l(o)("home.mods")},{default:e(()=>[t(v,null,{default:e(()=>[u(n(h.value.modsCount),1)]),_:1}),t(p,{link:"",style:{"margin-left":"10px"},type:"primary",onClick:nt},{default:e(()=>[u(n(l(o)("home.modsButton")),1)]),_:1})]),_:1},8,["label"]),t(D,{label:l(o)("home.version")},{default:e(()=>[H((i(),f(v,{type:U.value.local===U.value.server?"success":"danger"},{default:e(()=>[u(" ("+n(U.value.local)+"/"+n(U.value.server)+") ",1)]),_:1},8,["type"])),[[be,te.value]])]),_:1},8,["label"]),t(D,{label:l(o)("home.playerNum")},{default:e(()=>[h.value.players!==null?(i(),f($,{key:0,content:h.value.players.join(", "),effect:"light",placement:"top"},{default:e(()=>[t(v,{type:"primary"},{default:e(()=>[u(n(h.value.players.length),1)]),_:1})]),_:1},8,["content"])):(i(),f(v,{key:1,type:"primary"},{default:e(()=>a[27]||(a[27]=[u("0")])),_:1}))]),_:1},8,["label"])]),_:1},8,["column"])):g("",!0),h.value.clusterSetting.name===""?(i(),z("div",Ft,[t(M,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])])):g("",!0)]),_:1})]),_:1}),t(I,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{shadow:"never",style:{"min-height":"250px"}},{header:e(()=>[c("div",Bt,[c("div",Mt,[u(n(l(o)("home.sysInfo"))+" ",1),t($,{content:l(o)("home.sysInfoTip"),effect:"light",placement:"top"},{default:e(()=>[t(k,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[t(Be)]),_:1})]),_:1},8,["content"])])])]),default:e(()=>[c("div",At,[t(Me,{color:De,percentage:oe.value.cpu,type:"dashboard"},{default:e(({percentage:s})=>[c("span",Et,n(s.toFixed(1)),1),a[28]||(a[28]=c("span",{class:"percentage-label"},"CPU",-1))]),_:1},8,["percentage"]),t(Me,{color:De,percentage:oe.value.memory,style:{"margin-left":"10%"},type:"dashboard"},{default:e(({percentage:s})=>[c("span",Rt,n(s.toFixed(1)),1),c("span",qt,n(l(o)("home.mem")),1)]),_:1},8,["percentage"])])]),_:1})]),_:1})]),_:1}),t(X,{gutter:10},{default:e(()=>[t(I,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{style:{"min-height":"300px"},shadow:"never"},{header:e(()=>[c("div",Kt,n(l(o)("home.control")),1)]),default:e(()=>[h.value.clusterSetting.name!==""?(i(),z("div",Pt,[t(_e,{size:"large"},{default:e(()=>[t(P,{label:l(o)("home.rollback")},{default:e(()=>[l(R)?(i(),f(I,{key:0},{default:e(()=>[t(p,{size:"small",onClick:a[0]||(a[0]=s=>b("rollback",1))},{default:e(()=>[u("1"+n(l(o)("home.day")),1)]),_:1}),t(p,{size:"small",onClick:a[1]||(a[1]=s=>b("rollback",2))},{default:e(()=>[u(" 2"+n(l(o)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:a[2]||(a[2]=s=>b("rollback",3))},{default:e(()=>[u(" 3"+n(l(o)("home.days")),1)]),_:1})]),_:1})):g("",!0),l(R)?(i(),f(I,{key:1},{default:e(()=>[t(p,{size:"small",onClick:a[3]||(a[3]=s=>b("rollback",4))},{default:e(()=>[u(" 4"+n(l(o)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:a[4]||(a[4]=s=>b("rollback",5))},{default:e(()=>[u(" 5"+n(l(o)("home.days")),1)]),_:1})]),_:1})):g("",!0),l(R)?g("",!0):(i(),f(I,{key:2},{default:e(()=>[t(p,{size:"small",onClick:a[5]||(a[5]=s=>b("rollback",1))},{default:e(()=>[u("1"+n(l(o)("home.day")),1)]),_:1}),t(p,{size:"small",onClick:a[6]||(a[6]=s=>b("rollback",2))},{default:e(()=>[u(" 2"+n(l(o)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:a[7]||(a[7]=s=>b("rollback",3))},{default:e(()=>[u(" 3"+n(l(o)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:a[8]||(a[8]=s=>b("rollback",4))},{default:e(()=>[u(" 4"+n(l(o)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:a[9]||(a[9]=s=>b("rollback",5))},{default:e(()=>[u(" 5"+n(l(o)("home.days")),1)]),_:1})]),_:1}))]),_:1},8,["label"])]),_:1}),t(_e,{size:"large"},{default:e(()=>[t(P,null,{default:e(()=>[t(p,{size:"default",type:"success",onClick:a[10]||(a[10]=s=>b("startup",0))},{default:e(()=>[u(n(l(o)("home.startup")),1)]),_:1}),t(p,{size:"default",type:"primary",onClick:a[11]||(a[11]=s=>b("restart",0))},{default:e(()=>[u(n(l(o)("home.restart")),1)]),_:1}),t(p,{disabled:l(Qe).role!=="admin",loading:ze.value,size:"default",type:"warning",onClick:a[12]||(a[12]=s=>b("update",0))},{default:e(()=>[u(n(l(o)("home.update")),1)]),_:1},8,["disabled","loading"])]),_:1}),t(P,null,{default:e(()=>[t(p,{size:"default",type:"warning",onClick:a[13]||(a[13]=s=>b("shutdown",0))},{default:e(()=>[u(n(l(o)("home.shutdown")),1)]),_:1}),t(p,{size:"default",type:"danger",onClick:a[14]||(a[14]=s=>b("reset",0))},{default:e(()=>[u(n(l(o)("home.reset")),1)]),_:1}),t($,{content:l(o)("home.deleteTips"),effect:"light",placement:"top"},{default:e(()=>[t(p,{color:"#626aef",size:"default",onClick:a[15]||(a[15]=s=>b("delete",0))},{default:e(()=>[u(n(l(o)("home.delete")),1)]),_:1})]),_:1},8,["content"])]),_:1})]),_:1})])):g("",!0),h.value.clusterSetting.name===""?(i(),z("div",Gt,[t(M,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])])):g("",!0)]),_:1})]),_:1}),t(I,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{style:{"min-height":"300px"},shadow:"never"},{header:e(()=>[c("div",Wt,n(l(o)("home.interface")),1)]),default:e(()=>[h.value.clusterSetting.name!==""?(i(),z("div",Ot,[t(_e,{"label-position":"top"},{default:e(()=>[t(P,{label:l(o)("home.announcement")},{default:e(()=>[t(G,{modelValue:K.value.message,"onUpdate:modelValue":a[16]||(a[16]=s=>K.value.message=s),onKeyup:Ke(Se,["enter"])},{append:e(()=>[t(p,{loading:re.value,onClick:Se},{default:e(()=>[u(n(l(o)("home.send")),1)]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(P,{label:"Console"},{default:e(()=>[t(G,{modelValue:V.value.cmd,"onUpdate:modelValue":a[18]||(a[18]=s=>V.value.cmd=s),onKeyup:Ke(Ve,["enter"])},{prepend:e(()=>[t(Ee,{modelValue:V.value.world,"onUpdate:modelValue":a[17]||(a[17]=s=>V.value.world=s),style:{width:"115px"}},{default:e(()=>[(i(!0),z(j,null,we(Q.value,s=>(i(),f(Ae,{disabled:!s.stat,label:s.world,value:s.world},{default:e(()=>[c("div",jt,[c("span",Ht,n(s.world),1),s.type==="forest"?(i(),f(v,{key:0,type:"success"},{default:e(()=>a[29]||(a[29]=[u("地面")])),_:1})):g("",!0),s.type==="cave"?(i(),f(v,{key:1,type:"warning"},{default:e(()=>a[30]||(a[30]=[u("洞穴")])),_:1})):g("",!0),s.type==="None"?(i(),f(v,{key:2,type:"danger"},{default:e(()=>a[31]||(a[31]=[u("未识别")])),_:1})):g("",!0)])]),_:2},1032,["disabled","label","value"]))),256))]),_:1},8,["modelValue"])]),append:e(()=>[t(p,{loading:ie.value,onClick:Ve},{default:e(()=>[u(n(l(o)("home.execute")),1)]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1})]),_:1})])):g("",!0),h.value.clusterSetting.name===""?(i(),z("div",Qt,[t(M,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])])):g("",!0)]),_:1})]),_:1})]),_:1}),t(X,{gutter:10},{default:e(()=>[t(I,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{style:Vt(l(R)?"min-height: 300px":"height: 400px"),shadow:"never"},{header:e(()=>[c("div",Jt,[c("span",null,n(y.value==="zh"?"世界信息":"World Info"),1),t(p,{link:"",type:"primary",onClick:Ue},{default:e(()=>[u(n(y.value==="zh"?"检查世界":"Check World"),1)]),_:1})])]),default:e(()=>[Q.value?(i(),f(ge,{key:0,data:Q.value,border:""},{default:e(()=>[t(x,{label:"ID",prop:"id"},{default:e(s=>[t(v,{type:"info"},{default:e(()=>[u(n(s.row.id),1)]),_:2},1024)]),_:1}),t(x,{label:l(o)("home.worldName"),prop:"world"},{default:e(s=>[t(v,{type:"primary"},{default:e(()=>[u(n(s.row.world),1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(o)("home.type"),prop:"type"},{default:e(s=>[s.row.type==="forest"?(i(),f(v,{key:0,type:"success"},{default:e(()=>[u(n(y.value==="zh"?"地面":"Ground"),1)]),_:1})):g("",!0),s.row.type==="cave"?(i(),f(v,{key:1,type:"warning"},{default:e(()=>[u(n(y.value==="zh"?"洞穴":"Cave"),1)]),_:1})):g("",!0),s.row.type==="None"?(i(),f(v,{key:2,type:"danger"},{default:e(()=>[u(n(y.value==="zh"?"未识别":"Undefined"),1)]),_:1})):g("",!0)]),_:1},8,["label"]),t(x,{label:l(o)("home.isMaster"),prop:"isMaster"},{default:e(s=>[s.row.isMaster?(i(),f(v,{key:0,type:"primary"},{default:e(()=>[u(n(y.value==="zh"?"是":"Yes"),1)]),_:1})):(i(),f(v,{key:1,type:"info"},{default:e(()=>[u(n(y.value==="zh"?"否":"No"),1)]),_:1}))]),_:1},8,["label"]),t(x,{prop:"cpu"},{header:e(()=>[c("div",Yt,[a[32]||(a[32]=c("span",null,"CPU",-1)),t($,{content:l(o)("home.cpuTip"),effect:"light",placement:"top"},{default:e(()=>[t(k,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[t(Be)]),_:1})]),_:1},8,["content"])])]),default:e(s=>[t(v,{type:"info"},{default:e(()=>[u(n(s.row.cpu.toFixed(2))+"%",1)]),_:2},1024)]),_:1}),t(x,{label:l(o)("home.memory")+"(MiB)",prop:"mem"},{default:e(s=>[t(v,{type:"info"},{default:e(()=>[u(n(s.row.memSize.toFixed(0))+" ["+n(s.row.mem.toFixed(0))+"%]",1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(o)("home.disk"),prop:"diskUsed"},{default:e(s=>[t(v,{type:"info"},{default:e(()=>[u(n(l(Pe)(s.row.diskUsed,0)),1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(o)("home.status"),prop:"stat"},{default:e(s=>[t(dt,{modelValue:s.row.stat,"onUpdate:modelValue":W=>s.row.stat=W,"inline-prompt":"","active-text":l(o)("home.running"),"inactive-text":l(o)("home.terminated"),loading:ue.value,onChange:W=>st(s.row.world)},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text","loading","onChange"])]),_:1},8,["label"])]),_:1},8,["data"])):(i(),z("div",Xt,[t(M,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])]))]),_:1},8,["style"])]),_:1})]),_:1})],64)):(i(),f(L,{key:1,shadow:"never"},{default:e(()=>[c("div",Zt,[t(M,{title:"请创建集群后再使用本平台功能",icon:"warning"})])]),_:1}))],64)):g("",!0),U.value.local===-1?(i(),f(L,{key:1,shadow:"never"},{default:e(()=>[c("div",el,[t(M,{title:"请先安装游戏后再使用本平台功能","sub-title":"请前往 工具-安装游戏 页面，或使用脚本进行手动安装",icon:"warning"})])]),_:1})):g("",!0),t(ye,{modelValue:de.value,"onUpdate:modelValue":a[19]||(a[19]=s=>de.value=s),"close-on-click-modal":!1,title:l(o)("home.modsTable.title"),width:"80%"},{default:e(()=>[H((i(),f(ge,{data:Te.value,border:"",height:"70vh",size:"small",style:{width:"100%"},"tooltip-effect":"light"},{default:e(()=>[t(x,{label:l(o)("home.modsTable.name"),prop:"name"},null,8,["label"]),t(x,{label:l(o)("home.modsTable.pics"),prop:"preview_url",width:"120px"},{default:e(s=>[t(ct,{src:s.row.preview_url,fit:"fill",style:{width:"100px",height:"100px"}},null,8,["src"])]),_:1},8,["label"]),t(x,{label:l(o)("home.modsTable.size"),prop:"size"},{default:e(s=>[u(n(l(Pe)(s.row.size)),1)]),_:1},8,["label"]),t(x,{label:l(o)("home.modsTable.id"),prop:"id"},null,8,["label"]),t(x,{label:l(o)("home.modsTable.tags"),prop:"tags"},{default:e(s=>[(i(!0),z(j,null,we(s.row.tags,W=>(i(),f(v,{style:{margin:"0 5px 5px 0"}},{default:e(()=>[u(n(W.display_name),1)]),_:2},1024))),256))]),_:1},8,["label"])]),_:1},8,["data"])),[[be,ce.value]])]),_:1},8,["modelValue","title"]),t(ye,{modelValue:pe.value,"onUpdate:modelValue":a[21]||(a[21]=s=>pe.value=s),width:"60%"},{header:e(()=>[u(n(l(o)("home.screenDialog.title")),1)]),default:e(()=>[t(Ee,{modelValue:fe.value,"onUpdate:modelValue":a[20]||(a[20]=s=>fe.value=s),multiple:"",disabled:B.value,onChange:$e,style:{margin:"20px 0"}},{default:e(()=>[(i(),z(j,null,we(rt,s=>t(Ae,{label:s.label,value:s.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"]),B.value?(i(),f(Ce,{key:0,closable:!1,type:"info","show-icon":"",effect:ee.value?"light":"dark"},{icon:e(()=>[t(k,{class:"is-loading"},{default:e(()=>[t(mt)]),_:1})]),default:e(()=>[u(" "+n(l(o)("home.screenDialog.tip3")),1)]),_:1},8,["effect"])):g("",!0),he.value&&!B.value?(i(),f(Ce,{key:1,closable:!1,type:"success","show-icon":"",effect:ee.value?"light":"dark"},{default:e(()=>[u(n(l(o)("home.screenDialog.tip4")),1)]),_:1},8,["effect"])):g("",!0),!he.value&&!B.value?(i(),f(Ce,{key:2,closable:!1,type:"error","show-icon":"",effect:ee.value?"light":"dark"},{default:e(()=>[u(n(l(o)("home.screenDialog.tip5")),1)]),_:1},8,["effect"])):g("",!0),c("div",tl,n(l(o)("home.screenDialog.tip1")),1),c("div",ll,n(l(o)("home.screenDialog.tip2")),1),H((i(),f(ge,{data:Ne.value,border:""},{default:e(()=>[t(x,{label:l(o)("home.screenDialog.column1"),prop:"screenName"},{default:e(s=>[t(v,{type:"primary"},{default:e(()=>[u(n(s.row.screenName),1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(o)("home.screenDialog.column2")},{default:e(s=>[t(p,{type:"danger",size:"small",onClick:W=>ut(s.row.screenName)},{default:e(()=>[u(n(l(o)("home.screenDialog.stop")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[be,me.value]])]),_:1},8,["modelValue"]),t(ye,{modelValue:q.value,"onUpdate:modelValue":a[25]||(a[25]=s=>q.value=s),width:"60%"},{default:e(()=>[c("div",ol,[c("div",al,n(l(o)("home.customConnectionCodeTip")),1),c("div",sl,n(l(o)("home.customConnectionCodeTip2")),1),t(X,{gutter:20},{default:e(()=>[t(I,{span:8},{default:e(()=>[t(G,{modelValue:w.value.ip,"onUpdate:modelValue":a[22]||(a[22]=s=>w.value.ip=s),placeholder:l(o)("home.ip")},null,8,["modelValue","placeholder"])]),_:1}),t(I,{span:8},{default:e(()=>[t(G,{modelValue:w.value.port,"onUpdate:modelValue":a[23]||(a[23]=s=>w.value.port=s),placeholder:l(o)("home.port")},null,8,["modelValue","placeholder"])]),_:1}),t(I,{span:8},{default:e(()=>[t(G,{modelValue:w.value.password,"onUpdate:modelValue":a[24]||(a[24]=s=>w.value.password=s),placeholder:l(o)("home.password")},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),w.value.ip&&w.value.port?(i(),z("div",nl,[c("strong",null,n(l(o)("home.preview"))+": ",1),u(" c_connect('"+n(w.value.ip)+"', "+n(w.value.port)+n(w.value.password?`, '${w.value.password}'`:"")+") ",1)])):g("",!0),c("div",ul,[t(p,{type:"danger",onClick:Ze},{default:e(()=>[u(n(l(o)("home.clear")),1)]),_:1}),t(p,{type:"primary",onClick:Xe},{default:e(()=>[u(n(l(o)("home.submit")),1)]),_:1})])])]),_:1},8,["modelValue"]),t(yt,{modelValue:l(r).needTour,"onUpdate:modelValue":a[26]||(a[26]=s=>l(r).needTour=s)},{default:e(()=>[t(A,{title:l(o)("home.tour.one.title")},{default:e(()=>[c("div",rl,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(pt)]),_:1}),c("span",null,n(l(o)("home.tour.one.desc")),1)])]),_:1},8,["title"]),t(A,{target:"#tourUser",title:l(o)("home.tour.two.title")},{default:e(()=>[c("div",il,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(ft)]),_:1}),c("span",null,n(l(o)("home.tour.two.desc")),1)])]),_:1},8,["title"]),t(A,{target:"#tourClusterSelect",title:l(o)("home.tour.three.title")},{default:e(()=>[c("div",dl,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(ht)]),_:1}),c("span",null,n(l(o)("home.tour.three.desc")),1)])]),_:1},8,["title"]),t(A,{target:"#tourMessage",title:l(o)("home.tour.four.title")},{default:e(()=>[c("div",cl,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(vt)]),_:1}),c("span",null,n(l(o)("home.tour.four.desc")),1)])]),_:1},8,["title"]),t(A,{target:"#tourGithub",title:l(o)("home.tour.five.title")},{default:e(()=>[c("div",ml,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(_t)]),_:1}),c("span",null,n(l(o)("home.tour.five.desc")),1)])]),_:1},8,["title"]),t(A,{title:l(o)("home.tour.six.title")},{default:e(()=>[c("div",pl,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(gt)]),_:1}),c("span",null,n(l(o)("home.tour.six.desc")),1)])]),_:1},8,["title"])]),_:1},8,["modelValue"])])}}},_l=Ct(fl,[["__scopeId","data-v-e5f1703b"]]);export{_l as default};
