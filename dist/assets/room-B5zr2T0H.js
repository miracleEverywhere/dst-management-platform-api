import{a9 as Ot,aa as ua,_ as ia,u as sa,o as da,r as Le,a as fa,g as ca,b as ma,c as Wt,D as pa,G as ga,d as _a,H as ha,a0 as yt,Q as ya,w as Ta,I as wt,J as Ae,f as R,i as le,l as T,m as v,j as n,q as ue,n as D,t as P,z as lt,v as Ve,p as fe,ab as Xt,F as we,x as xe,A as tt,B as Bt}from"./index-DGZMk4yx.js";import{s as Yt}from"./index-tic22u0c.js";import{g as dt,_ as Re,o as A,a as Et,c as St,b as Gt,d as Ft}from"./levelDataSetting-D5SI1Z1j.js";import{M as ba}from"./preview-CpIxC5M1.js";import{c as ka}from"./tools-BoCRhmiE.js";var Pt={exports:{}};Pt.exports;(function(ft,y){(function(Ce,M,N){var he=y&&!y.nodeType&&y,ce=ft&&!ft.nodeType&&ft,Ee=he&&ce&&typeof Ot=="object"&&Ot,ct=ce&&ce.exports===he&&he;Ee&&(Ee.global===Ee||Ee.window===Ee||Ee.self===Ee)&&(Ce=Ee),N(he&&ce?ct?ce.exports:he:Ce[M]={})})(Ot,"luaparse",function(Ce){Ce.version="0.3.1";var M,N,he,ce,Ee,ct=Ce.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:"5.1",encodingMode:"none"};function ke(a,o){return o=o||0,a<128?String.fromCharCode(a):a<2048?String.fromCharCode(o|192|a>>6,o|128|a&63):a<65536?String.fromCharCode(o|224|a>>12,o|128|a>>6&63,o|128|a&63):a<1114112?String.fromCharCode(o|240|a>>18,o|128|a>>12&63,o|128|a>>6&63,o|128|a&63):null}function mt(a,o){for(var k=a.toString(16);k.length<o;)k="0"+k;return k}function Ne(a){return function(o){var k=a.exec(o);if(!k)return o;me(null,re.invalidCodeUnit,mt(k[0].charCodeAt(0),4).toUpperCase())}}var pt={"pseudo-latin1":{fixup:Ne(/[^\x00-\xff]/),encodeByte:function(a){return a===null?"":String.fromCharCode(a)},encodeUTF8:function(a){return ke(a)}},"x-user-defined":{fixup:Ne(/[^\x00-\x7f\uf780-\uf7ff]/),encodeByte:function(a){return a===null?"":a>=128?String.fromCharCode(a|63232):String.fromCharCode(a)},encodeUTF8:function(a){return ke(a,63232)}},none:{discardStrings:!0,fixup:function(a){return a},encodeByte:function(a){return""},encodeUTF8:function(a){return""}}},ot=1,He=2,Xe=4,Oe=8,rt=16,We=32,Ye=64,ut=128,Ze=256;Ce.tokenTypes={EOF:ot,StringLiteral:He,Keyword:Xe,Identifier:Oe,NumericLiteral:rt,Punctuator:We,BooleanLiteral:Ye,NilLiteral:ut,VarargLiteral:Ze};var re=Ce.errors={unexpected:"unexpected %1 '%2' near '%3'",unexpectedEOF:"unexpected symbol near '<eof>'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",decimalEscapeTooLarge:"decimal escape too large near '%1'",invalidEscape:"invalid escape sequence near '%1'",hexadecimalDigitExpected:"hexadecimal digit expected near '%1'",braceExpected:"missing '%1' near '%2'",tooLargeCodepoint:"UTF-8 value too large near '%1'",unfinishedLongString:"unfinished long string (starting at line %1) near '%2'",unfinishedLongComment:"unfinished long comment (starting at line %1) near '%2'",ambiguousSyntax:"ambiguous syntax (function call x new statement) near '%1'",noLoopToBreak:"no loop to break near '%1'",labelAlreadyDefined:"label '%1' already defined on line %2",labelNotVisible:"no visible label '%1' for <goto>",gotoJumpInLocalScope:"<goto %1> jumps into the scope of local '%2'",cannotUseVararg:"cannot use '...' outside a vararg function near '%1'",invalidCodeUnit:"code unit U+%1 is not allowed in the current encoding mode"},_e=Ce.ast={labelStatement:function(a){return{type:"LabelStatement",label:a}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(a){return{type:"GotoStatement",label:a}},returnStatement:function(a){return{type:"ReturnStatement",arguments:a}},ifStatement:function(a){return{type:"IfStatement",clauses:a}},ifClause:function(a,o){return{type:"IfClause",condition:a,body:o}},elseifClause:function(a,o){return{type:"ElseifClause",condition:a,body:o}},elseClause:function(a){return{type:"ElseClause",body:a}},whileStatement:function(a,o){return{type:"WhileStatement",condition:a,body:o}},doStatement:function(a){return{type:"DoStatement",body:a}},repeatStatement:function(a,o){return{type:"RepeatStatement",condition:a,body:o}},localStatement:function(a,o){return{type:"LocalStatement",variables:a,init:o}},assignmentStatement:function(a,o){return{type:"AssignmentStatement",variables:a,init:o}},callStatement:function(a){return{type:"CallStatement",expression:a}},functionStatement:function(a,o,k,x){return{type:"FunctionDeclaration",identifier:a,isLocal:k,parameters:o,body:x}},forNumericStatement:function(a,o,k,x,j){return{type:"ForNumericStatement",variable:a,start:o,end:k,step:x,body:j}},forGenericStatement:function(a,o,k){return{type:"ForGenericStatement",variables:a,iterators:o,body:k}},chunk:function(a){return{type:"Chunk",body:a}},identifier:function(a){return{type:"Identifier",name:a}},literal:function(a,o,k){return a=a===He?"StringLiteral":a===rt?"NumericLiteral":a===Ye?"BooleanLiteral":a===ut?"NilLiteral":"VarargLiteral",{type:a,value:o,raw:k}},tableKey:function(a,o){return{type:"TableKey",key:a,value:o}},tableKeyString:function(a,o){return{type:"TableKeyString",key:a,value:o}},tableValue:function(a){return{type:"TableValue",value:a}},tableConstructorExpression:function(a){return{type:"TableConstructorExpression",fields:a}},binaryExpression:function(a,o,k){var x=a==="and"||a==="or"?"LogicalExpression":"BinaryExpression";return{type:x,operator:a,left:o,right:k}},unaryExpression:function(a,o){return{type:"UnaryExpression",operator:a,argument:o}},memberExpression:function(a,o,k){return{type:"MemberExpression",indexer:o,identifier:k,base:a}},indexExpression:function(a,o){return{type:"IndexExpression",base:a,index:o}},callExpression:function(a,o){return{type:"CallExpression",base:a,arguments:o}},tableCallExpression:function(a,o){return{type:"TableCallExpression",base:a,arguments:o}},stringCallExpression:function(a,o){return{type:"StringCallExpression",base:a,argument:o}},comment:function(a,o){return{type:"Comment",value:a,raw:o}}};function pe(a){if(B){var o=U.pop();o.complete(),o.bless(a)}return N.onCreateNode&&N.onCreateNode(a),a}var at=Array.prototype.slice,_t=function(a,o){for(var k=0,x=a.length;k<x;++k)if(a[k]===o)return k;return-1};Array.prototype.indexOf&&(_t=function(a,o){return a.indexOf(o)});function ht(a,o,k){for(var x=0,j=a.length;x<j;++x)if(a[x][o]===k)return x;return-1}function H(a){var o=at.call(arguments,1);return a=a.replace(/%(\d)/g,function(k,x){return""+o[x-1]||""}),a}var gt=function(a){for(var o=at.call(arguments,1),k,x,j=0,be=o.length;j<be;++j){k=o[j];for(x in k)Object.prototype.hasOwnProperty.call(k,x)&&(a[x]=k[x])}return a};Object.assign&&(gt=Object.assign),Ce.SyntaxError=SyntaxError;function $e(a){return Object.create?Object.create(a,{line:{writable:!0,value:a.line},index:{writable:!0,value:a.index},column:{writable:!0,value:a.column}}):a}function me(a){var o=H.apply(null,at.call(arguments,1)),k,x;throw a===null||typeof a.line>"u"?(x=b-s+1,k=$e(new SyntaxError(H("[%1:%2] %3",c,x,o))),k.index=b,k.line=c,k.column=x):(x=a.range[0]-a.lineStart,k=$e(new SyntaxError(H("[%1:%2] %3",a.line,x,o))),k.line=a.line,k.index=a.range[0],k.column=x),k}function Fe(a){var o=M.slice(a.range[0],a.range[1]);return o||a.value}function Ke(a,o){me(o,re.expectedToken,a,Fe(o))}function it(a){var o=Fe(Qe);if(typeof a.type<"u"){var k;switch(a.type){case He:k="string";break;case Xe:k="keyword";break;case Oe:k="identifier";break;case rt:k="number";break;case We:k="symbol";break;case Ye:k="boolean";break;case ut:return me(a,re.unexpected,"symbol","nil",o);case ot:return me(a,re.unexpectedEOF)}return me(a,re.unexpected,k,Fe(a),o)}return me(a,re.unexpected,"symbol",a,o)}var b,X,Y,Qe,oe,L,c,s;Ce.lex=m;function m(){for(e();M.charCodeAt(b)===45&&M.charCodeAt(b+1)===45;)Be(),e();if(b>=he)return{type:ot,value:"<eof>",line:c,lineStart:s,range:[b,b]};var a=M.charCodeAt(b),o=M.charCodeAt(b+1);if(L=b,bt(a))return p();switch(a){case 39:case 34:return g();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return t();case 46:return je(o)?t():o===46?M.charCodeAt(b+2)===46?d():f(".."):f(".");case 61:return f(o===61?"==":"=");case 62:return ce.bitwiseOperators&&o===62?f(">>"):f(o===61?">=":">");case 60:return ce.bitwiseOperators&&o===60?f("<<"):f(o===61?"<=":"<");case 126:if(o===61)return f("~=");if(!ce.bitwiseOperators)break;return f("~");case 58:return ce.labels&&o===58?f("::"):f(":");case 91:return o===91||o===61?C():f("[");case 47:return ce.integerDivision&&o===47?f("//"):f("/");case 38:case 124:if(!ce.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return f(M.charAt(b))}return it(M.charAt(b))}function _(){var a=M.charCodeAt(b),o=M.charCodeAt(b+1);return et(a)?(a===10&&o===13&&++b,a===13&&o===10&&++b,++c,s=++b,!0):!1}function e(){for(;b<he;){var a=M.charCodeAt(b);if(Tt(a))++b;else if(!_())break}}function p(){for(var a,o;kt(M.charCodeAt(++b)););return a=Ee.fixup(M.slice(L,b)),vt(a)?o=Xe:a==="true"||a==="false"?(o=Ye,a=a==="true"):a==="nil"?(o=ut,a=null):o=Oe,{type:o,value:a,line:c,lineStart:s,range:[L,b]}}function f(a){return b+=a.length,{type:We,value:a,line:c,lineStart:s,range:[L,b]}}function d(){return b+=3,{type:Ze,value:"...",line:c,lineStart:s,range:[L,b]}}function g(){for(var a=M.charCodeAt(b++),o=c,k=s,x=b,j=Ee.discardStrings?null:"",be;be=M.charCodeAt(b++),a!==be;)if((b>he||et(be))&&(j+=M.slice(x,b-1),me(null,re.unfinishedString,M.slice(L,b-1))),be===92){if(!Ee.discardStrings){var Se=M.slice(x,b-1);j+=Ee.fixup(Se)}var Ue=ye();Ee.discardStrings||(j+=Ue),x=b}return Ee.discardStrings||(j+=Ee.encodeByte(null),j+=Ee.fixup(M.slice(x,b-1))),{type:He,value:j,line:o,lineStart:k,lastLine:c,lastLineStart:s,range:[L,b]}}function C(){var a=c,o=s,k=Ie(!1);return k===!1&&me(X,re.expected,"[",Fe(X)),{type:He,value:Ee.discardStrings?null:Ee.fixup(k),line:a,lineStart:o,lastLine:c,lastLineStart:s,range:[L,b]}}function t(){var a=M.charAt(b),o=M.charAt(b+1),k=a==="0"&&"xX".indexOf(o||null)>=0?i():G(),x=l(),j=u();return j&&(x||k.hasFractionPart)&&me(null,re.malformedNumber,M.slice(L,b)),{type:rt,value:k.value,line:c,lineStart:s,range:[L,b]}}function l(){if(ce.imaginaryNumbers)return"iI".indexOf(M.charAt(b)||null)>=0?(++b,!0):!1}function u(){if(ce.integerSuffixes){if("uU".indexOf(M.charAt(b)||null)>=0)if(++b,"lL".indexOf(M.charAt(b)||null)>=0){if(++b,"lL".indexOf(M.charAt(b)||null)>=0)return++b,"ULL";me(null,re.malformedNumber,M.slice(L,b))}else me(null,re.malformedNumber,M.slice(L,b));else if("lL".indexOf(M.charAt(b)||null)>=0){if(++b,"lL".indexOf(M.charAt(b)||null)>=0)return++b,"LL";me(null,re.malformedNumber,M.slice(L,b))}}}function i(){var a=0,o=1,k=1,x,j,be,Se;for(Se=b+=2,Je(M.charCodeAt(b))||me(null,re.malformedNumber,M.slice(L,b));Je(M.charCodeAt(b));)++b;x=parseInt(M.slice(Se,b),16);var Ue=!1;if(M.charAt(b)==="."){for(Ue=!0,j=++b;Je(M.charCodeAt(b));)++b;a=M.slice(j,b),a=j===b?0:parseInt(a,16)/Math.pow(16,b-j)}var Rt=!1;if("pP".indexOf(M.charAt(b)||null)>=0){for(Rt=!0,++b,"+-".indexOf(M.charAt(b)||null)>=0&&(k=M.charAt(b++)==="+"?1:-1),be=b,je(M.charCodeAt(b))||me(null,re.malformedNumber,M.slice(L,b));je(M.charCodeAt(b));)++b;o=M.slice(be,b),o=Math.pow(2,o*k)}return{value:(x+a)*o,hasFractionPart:Ue||Rt}}function G(){for(;je(M.charCodeAt(b));)++b;var a=!1;if(M.charAt(b)===".")for(a=!0,++b;je(M.charCodeAt(b));)++b;var o=!1;if("eE".indexOf(M.charAt(b)||null)>=0)for(o=!0,++b,"+-".indexOf(M.charAt(b)||null)>=0&&++b,je(M.charCodeAt(b))||me(null,re.malformedNumber,M.slice(L,b));je(M.charCodeAt(b));)++b;return{value:parseFloat(M.slice(L,b)),hasFractionPart:a||o}}function ge(){var a=b++;for(M.charAt(b++)!=="{"&&me(null,re.braceExpected,"{","\\"+M.slice(a,b)),Je(M.charCodeAt(b))||me(null,re.hexadecimalDigitExpected,"\\"+M.slice(a,b));M.charCodeAt(b)===48;)++b;for(var o=b;Je(M.charCodeAt(b));)++b,b-o>6&&me(null,re.tooLargeCodepoint,"\\"+M.slice(a,b));var k=M.charAt(b++);k!=="}"&&(k==='"'||k==="'"?me(null,re.braceExpected,"}","\\"+M.slice(a,b--)):me(null,re.hexadecimalDigitExpected,"\\"+M.slice(a,b)));var x=parseInt(M.slice(o,b-1)||"0",16),j="\\"+M.slice(a,b);return x>1114111&&me(null,re.tooLargeCodepoint,j),Ee.encodeUTF8(x,j)}function ye(){var a=b;switch(M.charAt(b)){case"a":return++b,"\x07";case"n":return++b,`
`;case"r":return++b,"\r";case"t":return++b,"	";case"v":return++b,"\v";case"b":return++b,"\b";case"f":return++b,"\f";case"\r":case`
`:return _(),`
`;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;je(M.charCodeAt(b))&&b-a<3;)++b;var o=M.slice(a,b),k=parseInt(o,10);return k>255&&me(null,re.decimalEscapeTooLarge,"\\"+k),Ee.encodeByte(k,"\\"+o);case"z":if(ce.skipWhitespaceEscape)return++b,e(),"";break;case"x":if(ce.hexEscapes){if(Je(M.charCodeAt(b+1))&&Je(M.charCodeAt(b+2)))return b+=3,Ee.encodeByte(parseInt(M.slice(a+1,b),16),"\\"+M.slice(a,b));me(null,re.hexadecimalDigitExpected,"\\"+M.slice(a,b+2))}break;case"u":if(ce.unicodeEscapes)return ge();break;case"\\":case'"':case"'":return M.charAt(b++)}return ce.strictEscapes&&me(null,re.invalidEscape,"\\"+M.slice(a,b+1)),M.charAt(b++)}function Be(){L=b,b+=2;var a=M.charAt(b),o="",k=!1,x=b,j=s,be=c;if(a==="["&&(o=Ie(!0),o===!1?o=a:k=!0),!k){for(;b<he&&!et(M.charCodeAt(b));)++b;N.comments&&(o=M.slice(x,b))}if(N.comments){var Se=_e.comment(o,M.slice(L,b));N.locations&&(Se.loc={start:{line:be,column:L-j},end:{line:c,column:b-s}}),N.ranges&&(Se.range=[L,b]),N.onCreateNode&&N.onCreateNode(Se),oe.push(Se)}}function Ie(a){var o=0,k="",x=!1,j,be,Se=c;for(++b;M.charAt(b+o)==="=";)++o;if(M.charAt(b+o)!=="[")return!1;for(b+=o+1,et(M.charCodeAt(b))&&_(),be=b;b<he;){for(;et(M.charCodeAt(b));)_();if(j=M.charAt(b++),j==="]"){x=!0;for(var Ue=0;Ue<o;++Ue)M.charAt(b+Ue)!=="="&&(x=!1);M.charAt(b+o)!=="]"&&(x=!1)}if(x)return k+=M.slice(be,b-1),b+=o+1,k}me(null,a?re.unfinishedLongComment:re.unfinishedLongString,Se,"<eof>")}function ae(){Y=X,X=Qe,Qe=m()}function Z(a){return a===X.value?(ae(),!0):!1}function ie(a){a===X.value?ae():me(X,re.expected,a,Fe(X))}function Tt(a){return a===9||a===32||a===11||a===12}function et(a){return a===10||a===13}function je(a){return a>=48&&a<=57}function Je(a){return a>=48&&a<=57||a>=97&&a<=102||a>=65&&a<=70}function bt(a){return!!(a>=65&&a<=90||a>=97&&a<=122||a===95||ce.extendedIdentifiers&&a>=128)}function kt(a){return!!(a>=65&&a<=90||a>=97&&a<=122||a===95||a>=48&&a<=57||ce.extendedIdentifiers&&a>=128)}function vt(a){switch(a.length){case 2:return a==="do"||a==="if"||a==="in"||a==="or";case 3:return a==="and"||a==="end"||a==="for"||a==="not";case 4:return a==="else"||a==="then"?!0:ce.labels&&!ce.contextualGoto?a==="goto":!1;case 5:return a==="break"||a==="local"||a==="until"||a==="while";case 6:return a==="elseif"||a==="repeat"||a==="return";case 8:return a==="function"}return!1}function st(a){return We===a.type?"#-~".indexOf(a.value)>=0:Xe===a.type?a.value==="not":!1}function Lt(a){if(ot===a.type)return!0;if(Xe!==a.type)return!1;switch(a.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}var nt,E,w;function J(){var a=nt[E++].slice();nt.push(a),N.onCreateScope&&N.onCreateScope()}function h(){nt.pop(),--E,N.onDestroyScope&&N.onDestroyScope()}function F(a){N.onLocalDeclaration&&N.onLocalDeclaration(a),_t(nt[E],a)===-1&&nt[E].push(a)}function V(a){F(a.name),S(a,!0)}function S(a,o){!o&&ht(w,"name",a.name)===-1&&w.push(a),a.isLocal=o}function I(a){return _t(nt[E],a)!==-1}var U=[],B;function O(){return new te(X)}function te(a){N.locations&&(this.loc={start:{line:a.line,column:a.range[0]-a.lineStart},end:{line:0,column:0}}),N.ranges&&(this.range=[a.range[0],0])}te.prototype.complete=function(){N.locations&&(this.loc.end.line=Y.lastLine||Y.line,this.loc.end.column=Y.range[1]-(Y.lastLineStart||Y.lineStart)),N.ranges&&(this.range[1]=Y.range[1])},te.prototype.bless=function(a){if(this.loc){var o=this.loc;a.loc={start:{line:o.start.line,column:o.start.column},end:{line:o.end.line,column:o.end.column}}}this.range&&(a.range=[this.range[0],this.range[1]])};function ne(){B&&U.push(O())}function se(a){B&&U.push(a)}function ve(){this.scopes=[],this.pendingGotos=[]}ve.prototype.isInLoop=function(){for(var a=this.scopes.length;a-- >0;)if(this.scopes[a].isLoop)return!0;return!1},ve.prototype.pushScope=function(a){var o={labels:{},locals:[],deferredGotos:[],isLoop:!!a};this.scopes.push(o)},ve.prototype.popScope=function(){for(var a=0;a<this.pendingGotos.length;++a){var o=this.pendingGotos[a];o.maxDepth>=this.scopes.length&&--o.maxDepth<=0&&me(o.token,re.labelNotVisible,o.target)}this.scopes.pop()},ve.prototype.addGoto=function(a,o){for(var k=[],x=0;x<this.scopes.length;++x){var j=this.scopes[x];if(k.push(j.locals.length),Object.prototype.hasOwnProperty.call(j.labels,a))return}this.pendingGotos.push({maxDepth:this.scopes.length,target:a,token:o,localCounts:k})},ve.prototype.addLabel=function(a,o){var k=this.currentScope();if(Object.prototype.hasOwnProperty.call(k.labels,a))me(o,re.labelAlreadyDefined,a,k.labels[a].line);else{for(var x=[],j=0;j<this.pendingGotos.length;++j){var be=this.pendingGotos[j];if(be.maxDepth>=this.scopes.length&&be.target===a){be.localCounts[this.scopes.length-1]<k.locals.length&&k.deferredGotos.push(be);continue}x.push(be)}this.pendingGotos=x}k.labels[a]={localCount:k.locals.length,line:o.line}},ve.prototype.addLocal=function(a,o){this.currentScope().locals.push({name:a,token:o})},ve.prototype.currentScope=function(){return this.scopes[this.scopes.length-1]},ve.prototype.raiseDeferredErrors=function(){for(var a=this.currentScope(),o=a.deferredGotos,k=0;k<o.length;++k){var x=o[k];me(x.token,re.gotoJumpInLocalScope,x.target,a.locals[x.localCounts[this.scopes.length-1]].name)}};function ze(){this.level=0,this.loopLevels=[]}ze.prototype.isInLoop=function(){return!!this.loopLevels.length},ze.prototype.pushScope=function(a){++this.level,a&&this.loopLevels.push(this.level)},ze.prototype.popScope=function(){var a=this.loopLevels,o=a.length;o&&a[o-1]===this.level&&a.pop(),--this.level},ze.prototype.addGoto=ze.prototype.addLabel=function(){throw new Error("This should never happen")},ze.prototype.addLocal=ze.prototype.raiseDeferredErrors=function(){};function Te(){return ce.labels?new ve:new ze}function De(){ae(),ne(),N.scope&&J();var a=Te();a.allowVararg=!0,a.pushScope();var o=Ge(a);return a.popScope(),N.scope&&h(),ot!==X.type&&it(X),B&&!o.length&&(Y=X),pe(_e.chunk(o))}function Ge(a){for(var o=[],k;!Lt(X);){if(X.value==="return"||!ce.relaxedBreak&&X.value==="break"){o.push(Pe(a));break}k=Pe(a),Z(";"),k&&o.push(k)}return o}function Pe(a){if(ne(),We===X.type&&Z("::"))return qe(a);if(ce.emptyStatement&&Z(";")){B&&U.pop();return}if(a.raiseDeferredErrors(),Xe===X.type)switch(X.value){case"local":return ae(),r(a);case"if":return ae(),At(a);case"return":return ae(),zt(a);case"function":ae();var o=Q();return $(o);case"while":return ae(),Me(a);case"for":return ae(),q(a);case"repeat":return ae(),xt(a);case"break":return ae(),a.isInLoop()||me(X,re.noLoopToBreak,X.value),Mt();case"do":return ae(),Ct(a);case"goto":return ae(),Vt(a)}return ce.contextualGoto&&X.type===Oe&&X.value==="goto"&&Qe.type===Oe&&Qe.value!=="goto"?(ae(),Vt(a)):(B&&U.pop(),de(a))}function qe(a){var o=X,k=z();return N.scope&&(F("::"+o.value+"::"),S(k,!0)),ie("::"),a.addLabel(o.value,o),pe(_e.labelStatement(k))}function Mt(){return pe(_e.breakStatement())}function Vt(a){var o=X.value,k=Y,x=z();return a.addGoto(o,k),pe(_e.gotoStatement(x))}function Ct(a){N.scope&&J(),a.pushScope();var o=Ge(a);return a.popScope(),N.scope&&h(),ie("end"),pe(_e.doStatement(o))}function Me(a){var o=ee(a);ie("do"),N.scope&&J(),a.pushScope(!0);var k=Ge(a);return a.popScope(),N.scope&&h(),ie("end"),pe(_e.whileStatement(o,k))}function xt(a){N.scope&&J(),a.pushScope(!0);var o=Ge(a);ie("until"),a.raiseDeferredErrors();var k=ee(a);return a.popScope(),N.scope&&h(),pe(_e.repeatStatement(k,o))}function zt(a){var o=[];if(X.value!=="end"){var k=W(a);for(k!=null&&o.push(k);Z(",");)k=ee(a),o.push(k);Z(";")}return pe(_e.returnStatement(o))}function At(a){var o=[],k,x,j;for(B&&(j=U[U.length-1],U.push(j)),k=ee(a),ie("then"),N.scope&&J(),a.pushScope(),x=Ge(a),a.popScope(),N.scope&&h(),o.push(pe(_e.ifClause(k,x))),B&&(j=O());Z("elseif");)se(j),k=ee(a),ie("then"),N.scope&&J(),a.pushScope(),x=Ge(a),a.popScope(),N.scope&&h(),o.push(pe(_e.elseifClause(k,x))),B&&(j=O());return Z("else")&&(B&&(j=new te(Y),U.push(j)),N.scope&&J(),a.pushScope(),x=Ge(a),a.popScope(),N.scope&&h(),o.push(pe(_e.elseClause(x)))),ie("end"),pe(_e.ifStatement(o))}function q(a){var o=z(),k;if(N.scope&&(J(),V(o)),Z("=")){var x=ee(a);ie(",");var j=ee(a),be=Z(",")?ee(a):null;return ie("do"),a.pushScope(!0),k=Ge(a),a.popScope(),ie("end"),N.scope&&h(),pe(_e.forNumericStatement(o,x,j,be,k))}else{for(var Se=[o];Z(",");)o=z(),N.scope&&V(o),Se.push(o);ie("in");var Ue=[];do{var Rt=ee(a);Ue.push(Rt)}while(Z(","));return ie("do"),a.pushScope(!0),k=Ge(a),a.popScope(),ie("end"),N.scope&&h(),pe(_e.forGenericStatement(Se,Ue,k))}}function r(a){var o,k=Y;if(Oe===X.type){var x=[],j=[];do o=z(),x.push(o),a.addLocal(o.name,k);while(Z(","));if(Z("="))do{var be=ee(a);j.push(be)}while(Z(","));if(N.scope)for(var Se=0,Ue=x.length;Se<Ue;++Se)V(x[Se]);return pe(_e.localStatement(x,j))}if(Z("function"))return o=z(),a.addLocal(o.name,k),N.scope&&(V(o),J()),$(o,!0);Ke("<name>",X)}function de(a){var o,k,x,j,be,Se=[];B&&(k=O());do{if(B&&(o=O()),Oe===X.type)be=X.value,j=z(),N.scope&&S(j,I(be)),x=!0;else if(X.value==="(")ae(),j=ee(a),ie(")"),x=!1;else return it(X);e:for(;;){switch(He===X.type?'"':X.value){case".":case"[":x=!0;break;case":":case"(":case"{":case'"':x=null;break;default:break e}j=jt(j,o,a)}if(Se.push(j),X.value!==",")break;if(!x)return it(X);ae()}while(!0);if(Se.length===1&&x===null)return se(o),pe(_e.callStatement(Se[0]));if(!x)return it(X);ie("=");var Ue=[];do Ue.push(ee(a));while(Z(","));return se(k),pe(_e.assignmentStatement(Se,Ue))}function z(){ne();var a=X.value;return Oe!==X.type&&Ke("<name>",X),ae(),pe(_e.identifier(a))}function $(a,o){var k=Te();k.pushScope();var x=[];if(ie("("),!Z(")"))for(;;){if(Oe===X.type){var j=z();if(N.scope&&V(j),x.push(j),Z(","))continue}else Ze===X.type?(k.allowVararg=!0,x.push(qt(k))):Ke("<name> or '...'",X);ie(")");break}var be=Ge(k);return k.popScope(),ie("end"),N.scope&&h(),o=o||!1,pe(_e.functionStatement(a,x,o,be))}function Q(){var a,o,k;for(B&&(k=O()),a=z(),N.scope&&(S(a,I(a.name)),J());Z(".");)se(k),o=z(),a=pe(_e.memberExpression(a,".",o));return Z(":")&&(se(k),o=z(),a=pe(_e.memberExpression(a,":",o)),N.scope&&F("self")),a}function K(a){for(var o=[],k,x;;){if(ne(),We===X.type&&Z("["))k=ee(a),ie("]"),ie("="),x=ee(a),o.push(pe(_e.tableKey(k,x)));else if(Oe===X.type)Qe.value==="="?(k=z(),ae(),x=ee(a),o.push(pe(_e.tableKeyString(k,x)))):(x=ee(a),o.push(pe(_e.tableValue(x))));else{if((x=W(a))==null){U.pop();break}o.push(pe(_e.tableValue(x)))}if(",;".indexOf(X.value)>=0){ae();continue}break}return ie("}"),pe(_e.tableConstructorExpression(o))}function W(a){var o=Dt(0,a);return o}function ee(a){var o=W(a);if(o==null)Ke("<expression>",X);else return o}function la(a){var o=a.charCodeAt(0),k=a.length;if(k===1)switch(o){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(k===2)switch(o){case 47:return 10;case 46:return 8;case 60:case 62:return a==="<<"||a===">>"?7:3;case 61:case 126:return 3;case 111:return 1}else if(o===97&&a==="and")return 2;return 0}function Dt(a,o){var k=X.value,x,j;if(B&&(j=O()),st(X)){ne(),ae();var be=Dt(10,o);be==null&&Ke("<expression>",X),x=pe(_e.unaryExpression(k,be))}if(x==null&&(x=qt(o),x==null&&(x=oa(o))),x==null)return null;for(var Se;k=X.value,Se=We===X.type||Xe===X.type?la(k):0,!(Se===0||Se<=a);){(k==="^"||k==="..")&&--Se,ae();var Ue=Dt(Se,o);Ue==null&&Ke("<expression>",X),B&&U.push(j),x=pe(_e.binaryExpression(k,x,Ue))}return x}function jt(a,o,k){var x,j;if(We===X.type)switch(X.value){case"[":return se(o),ae(),x=ee(k),ie("]"),pe(_e.indexExpression(a,x));case".":return se(o),ae(),j=z(),pe(_e.memberExpression(a,".",j));case":":return se(o),ae(),j=z(),a=pe(_e.memberExpression(a,":",j)),se(o),Nt(a,k);case"(":case"{":return se(o),Nt(a,k)}else if(He===X.type)return se(o),Nt(a,k);return null}function oa(a){var o,k,x;if(B&&(x=O()),Oe===X.type)k=X.value,o=z(),N.scope&&S(o,I(k));else if(Z("("))o=ee(a),ie(")");else return null;for(;;){var j=jt(o,x,a);if(j===null)break;o=j}return o}function Nt(a,o){if(We===X.type)switch(X.value){case"(":ce.emptyStatement||X.line!==Y.line&&me(null,re.ambiguousSyntax,X.value),ae();var k=[],x=W(o);for(x!=null&&k.push(x);Z(",");)x=ee(o),k.push(x);return ie(")"),pe(_e.callExpression(a,k));case"{":ne(),ae();var j=K(o);return pe(_e.tableCallExpression(a,j))}else if(He===X.type)return pe(_e.stringCallExpression(a,qt(o)));Ke("function arguments",X)}function qt(a){var o=He|rt|Ye|ut|Ze,k=X.value,x=X.type,j;if(B&&(j=O()),x===Ze&&!a.allowVararg&&me(X,re.cannotUseVararg,X.value),x&o){se(j);var be=M.slice(X.range[0],X.range[1]);return ae(),pe(_e.literal(x,k,be))}else{if(Xe===x&&k==="function")return se(j),ae(),N.scope&&J(),$(null);if(Z("{"))return se(j),K(a)}}Ce.parse=ra;var Ht={"5.1":{},"5.2":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,relaxedBreak:!0},"5.3":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,bitwiseOperators:!0,integerDivision:!0,relaxedBreak:!0},LuaJIT:{labels:!0,contextualGoto:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,imaginaryNumbers:!0,integerSuffixes:!0}};function ra(a,o){if(typeof o>"u"&&typeof a=="object"&&(o=a,a=void 0),o||(o={}),M=a||"",N=gt({},ct,o),b=0,c=1,s=0,he=M.length,nt=[[]],E=0,w=[],U=[],!Object.prototype.hasOwnProperty.call(Ht,N.luaVersion))throw new Error(H("Lua version '%1' not supported",N.luaVersion));if(ce=gt({},Ht[N.luaVersion]),N.extendedIdentifiers!==void 0&&(ce.extendedIdentifiers=!!N.extendedIdentifiers),!Object.prototype.hasOwnProperty.call(pt,N.encodingMode))throw new Error(H("Encoding mode '%1' not supported",N.encodingMode));return Ee=pt[N.encodingMode],N.comments&&(oe=[]),N.wait?Ce:Jt()}Ce.write=Qt;function Qt(a){return M+=String(a),he=M.length,Ce}Ce.end=Jt;function Jt(a){typeof a<"u"&&Qt(a),M&&M.substr(0,2)==="#!"&&(M=M.replace(/^.*/,function(k){return k.replace(/./g," ")})),he=M.length,B=N.locations||N.ranges,Qe=m();var o=De();if(N.comments&&(o.comments=oe),N.scope&&(o.globals=w),U.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return o}})})(Pt,Pt.exports);var va=Pt.exports;const It=ua(va);var Ut={},$t={exports:{}};$t.exports;(function(ft){function y(oe){for(var L=0,c=oe.length;c--;)L+=oe.charCodeAt(c),L+=L<<10,L^=L>>6;return L+=L<<3,L^=L>>11,L+=L<<15,L}const Ce=console.log,M=function(oe,L){if(!oe)throw L};function N(oe,L){if(!oe)return 0;var c=oe.toString().split(".");return c.length>1?parseInt(c[0],L)+parseInt(c[1],L)/Math.pow(L,c[1].length):parseInt(c[0],L)}let he=[" ",`
`,"	","\r"],ce={r:"\r",n:`
`,t:"	",'"':'"',"'":"'","\\":"\\"};const Ee=new Proxy(ce,{get(oe,L){return N(L)}});let ct=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ke=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","t","u","v","w","h","i","j","k","l","m","n","o","p","q","r","s","x","y","z"],mt=["0","1","2","3","4","5","6","7","8","9"],Ne=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"],pt=["0","1"],ot=["+","-","*",")",";","/","^","%","#",",","{","}",":","[","]","(",".","`"],He=["~","=",">","<"],Xe=["+","-","*","/","^","..","%","//"],Oe=["+=","-=","*=","/=","^=","..=","%=","//="],rt=["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while","continue"],We=["else","elseif","until","end"],Ye=["-","not","#","~"],ut=["+","-","*","/","%","^","#","//","&","|","~","<<",">>","..",".",":",">","<","<=",">=","~=","==","+=","-=","*=","/=","%=","^=","..=","//=","and","or"],Ze=11,re={"^":[13,12],"%":[10,10],"//":[10,10],"/":[10,10],"*":[10,10],"+":[9,9],"-":[9,9],"..":[8,7],">>":[7,7],"<<":[7,7],"&":[6,6],"~":[5,5],"|":[4,4],"==":[3,3],"~=":[3,3],">=":[3,3],"<=":[3,3],">":[3,3],"<":[3,3],"+=":[3,3],"-=":[3,3],"*=":[3,3],"/=":[3,3],"^=":[3,3],"%=":[3,3],"..=":[3,3],"//=":[3,3],and:[2,2],or:[1,1]};function _e(oe){let L=0,c=oe.length,s=[];function m(t){return t=t||0,L<=c?oe.substr(L+t,1):""}function _(){if(L<=c){let t=oe.substr(L,1);return L++,t}else return""}function e(t){let l=0,u=1,i=1;for(;l<=L;)oe.substr(l,1)==`
`?(u++,i=1):i++;let G;for(G=0;G<s.length;G++){let ge=s[G];Ce(`${ge.Type}<${ge.Source}>`)}throw`file<${u}:${i}>: ${t}`}function p(t){for(;;){let l=_();if(l=="")e("Unfinished long string.");else if(l=="]"){let u=!0,i;for(i=1;i<=t;i++)if(m()=="=")L++;else{u=!1;break}if(u&&_()=="]")return}}}function f(){let t=L;for(;m()=="=";)L++;if(m()=="[")return L++,L-t-1;L=t}let d=0,g=0;function C(t){let l=oe.substr(g,L-g),u=null;t=="Number"&&(l.substr(0,2).toLowerCase()=="0x"?(u="hex",parseInt(l,16)<999999999999&&(l=parseInt(l,16))):l.substr(0,2).toLowerCase()=="0b"&&(u="bin",parseInt(l.substr(2),2)<999999999999&&(l=parseInt(l.substr(2),2))));let i={Type:t,LeadingWhite:oe.substr(d,g-d),Source:l};return u!==null&&(i.NType=u),s.push(i),d=L,g=L,i}for(;;){for(d=L;;){let l=m();if(l=="")break;if(l=="-")if(m(1)=="-")if(L+=2,m()=="["){L++;let u=f();if(u!=null)p(u),d=L;else for(;;){let i=_();if(i==""||i==`
`)break}}else for(;;){let u=_();if(u==""||u==`
`)break}else break;else if(he.includes(l))L++;else break}oe.substr(d,L-d),g=L;let t=_();if(t==""){C("Eof");break}else if(t=="'"||t=='"'){for(;;){let l=_();if(l=="\\"){let u=_();if(Ee[u]==null)throw`Invalid Escape Sequence \`${u}\`.`}else{if(l==t)break;if(l=="")throw"Unfinished string!"}}C("String")}else if(t=="`"){for(;;){let l=_();if(l=="\\"){let u=_();if(Ee[u]==null)throw`Invalid Escape Sequence \`${u}\`.`}else{if(l==t)break;if(l=="")throw"Unfinished string!"}}C("Hash")}else if(ct.includes(t)){for(;ke.includes(m());)L++;rt.includes(oe.substr(g,L-g))?C("Keyword"):C("Ident")}else if(mt.includes(t)||t=="."&&mt.includes(m())){if(t=="0"&&m().toLowerCase()=="x")for(L++;Ne.includes(m())||m()==="_";)L++;else if(t=="0"&&m().toLowerCase()=="b")for(L++;pt.includes(m())||m()==="_";)L++;else{for(;mt.includes(m())||m()==="_";)L++;if(m()==".")for(L++;mt.includes(m());)L++;if(m()=="e"||m()=="E")for(L++,(m()=="-"||m()=="+")&&L++;mt.includes(m());)L++}C("Number")}else if(t=="["){let l=f();l!=null?(p(l),C("String")):C("Symbol")}else if(t==".")m()=="."&&(_(),(m()=="."||m()=="=")&&_()),C("Symbol");else if(t+m()=="//")_(),m()=="="&&_(),C("Symbol");else if(t+m()=="::")_(),C("Symbol");else if(ut.includes(t+m()))_(),C("Symbol");else if(He.includes(t))m()=="="&&L++,C("Symbol");else if(Xe.includes(t)&&m()=="=")_(),C("Symbol");else if(ot.includes(t))C("Symbol");else throw`Bad symbol \`${t}\` in source. ${L}`}return s}function pe(oe){let L=_e(oe),c=0;function s(){let h=L[c];return c<L.length&&c++,h}function m(h){return h=c+(h||0),L[h]||L[L.length-1]}function _(h){let F=1,V=0,S=0;for(;;){let I=L[S],U;I==h?U=I.LeadingWhite:U=I.LeadingWhite+I.Source;let B;for(B=0;B<=U.length;B++)U.substr(B,1)==`
`?(F++,V=0):V++;if(I==h)break;S++}return`${F}:${V+1}`}function e(){let h=m();return`<${h.Type} \`${h.Source}\`> at: ${_(h)}`}function p(){let h=m();return h.Type=="Eof"||h.Type=="Keyword"&&We.includes(h.Source)}function f(){return Ye.includes(m().Source)||!1}function d(){return ut.includes(m().Source)||!1}function g(h,F){let V=m();if(V.Type==h&&(F==null||V.Source==F))return s();{let S;for(S=-3;S<=3;S++)Ce(`Tokens[${S}] = \`${m(S).Source}\``);throw F?`${_(V)}: \`${F}\` expected.`:`${_(V)}: ${h} expected.`}}function C(h){let F=h.GetFirstToken,V=h.GetLastToken,S=h;return h.GetFirstToken=function(){let I=F(S);return M(I),I},h.GetLastToken=function(){let I=V(S);return M(I),I},h}let t,l;function u(h,F){let V=[l(h,F)],S=[];for(;m().Source==",";)S.push(s()),V.push(l(h,F));return[V,S]}function i(h,F){var S,I,U,B;let V=m();if(V.Source=="("){let O=s(),te=l(h,F),ne=g("Symbol",")"),se;return se=C({Type:"ParenExpr",Expression:te,Token_OpenParen:O,Token_CloseParen:ne,GetFirstToken:()=>se.Token_OpenParen,GetLastToken:()=>se.Token_CloseParen}),se}else if(V.Type=="Ident"){let O;return O=C({Type:"VariableExpr",Token:s(),GetFirstToken:()=>O.Token,GetLastToken:()=>O.Token}),h[O.Token.Source]!=null&&((I=(S=h[O.Token.Source])==null?void 0:S.Tokens)==null?void 0:I.push)!=null?(h[O.Token.Source].Tokens.push(O.Token),h[O.Token.Source].UseCountIncrease()):F[O.Token.Source]!=null&&((B=(U=F[O.Token.Source])==null?void 0:U.Tokens)==null?void 0:B.push)!=null&&(F[O.Token.Source].Tokens.push(O.Token),F[O.Token.Source].UseCountIncrease()),O}else throw Ce(e()),`${_(V)}: Unexpected symbol. ${V.Type} ${V.Source}`}function G(h,F){let V=g("Symbol","{"),S=[],I=[];for(;m().Source!="}";){if(m().Source=="["){let O=s(),te=l(h,F),ne=g("Symbol","]"),se=g("Symbol","="),ve=l(h,F);te.Token&&te.Token.Source,S.push({EntryType:"Index",Index:te,Value:ve,Token_OpenBracket:O,Token_CloseBracket:ne,Token_Equals:se})}else if(m().Type=="Ident"&&m(1).Source=="="){let O=s(),te=s(),ne=l(h,F);S.push({EntryType:"Field",Field:O,Value:ne,Token_Equals:te})}else{let O=l(h,F);S.push({EntryType:"Value",Value:O})}if(m().Source==","||m().Source==";")I.push(s());else break}let U=g("Symbol","}"),B;return B=C({Type:"TableLiteral",EntryList:S,Token_SeperatorList:I,Token_OpenBrace:V,Token_CloseBrace:U,GetFirstToken:()=>B.Token_OpenBrace,GetLastToken:()=>B.Token_CloseBrace}),B}function ge(h,F){let V=[],S=[];if(m().Type=="Ident"){let I=s();if(F&&m().Source=="<"&&m(2).Source==">"){let U=m(1).Source;I.Attribute={LeadingWhite:m().LeadingWhite,Source:`<${U}>`},s(),s(),s()}V.push(I)}else if(m().Source=="..."&&h)return[V,S,s()];for(;m().Source==",";){if(S.push(s()),m().Source=="..."&&h)return[V,S,s()];{let I=g("Ident");if(F&&m().Source=="<"&&m(2).Source==">"){let U=m(1).Source;I.Attribute={LeadingWhite:m().LeadingWhite,Source:`<${U}>`},s(),s(),s()}V.push(I)}}return[V,S]}function ye(h,F,V){let S=t(F,V),I=m();if(I.Type=="Keyword"&&I.Source==h)return s(),[S,I];throw Ce(I.Type,I.Source),`${_(I)}: ${h} expected.`}function Be(h,F,V,S){let I=s(),U,B;if(!h){U=[],B=[];let Ge=g("Ident");for(U.push(Ge);m().Source==".";)B.push(s()),U.push(g("Ident"));m().Source==":"&&(B.push(s()),U.push(g("Ident")))}let O=g("Symbol","("),[te,ne,se]=ge(!0),ve=g("Symbol",")"),[ze,Te]=ye("end",F,V),De;return De=C({Type:h==!0?"FunctionLiteral":"FunctionStat",NameChain:U,ArgList:te,Body:ze,Token_Function:I,Token_NameChainSeperator:B,Token_OpenParen:O,Token_Varg:se,Token_ArgCommaList:ne,Token_CloseParen:ve,Token_End:Te,GetFirstToken:()=>De.Token_Function,GetLastToken:()=>De.Token_End}),De}function Ie(h,F){let V=m();if(V.Source=="("){let S=s(),I=[],U=[];for(;m().Source!=")"&&(I.push(l(h,F)),m().Source==",");)U.push(s());let B=g("Symbol",")"),O;return O=C({CallType:"ArgCall",ArgList:I,Token_CommaList:U,Token_OpenParen:S,Token_CloseParen:B,GetFirstToken:()=>O.Token_OpenParen,GetLastToken:()=>O.Token_CloseParen}),O}else if(V.Source=="{"){let S;return S=C({CallType:"TableCall",TableExpr:l(h,F),GetFirstToken:()=>S.TableExpr.GetFirstToken(),GetLastToken:()=>S.TableExpr.GetLastToken()}),S}else if(V.Type=="String"){let S;return S=C({CallType:"StringCall",Token:s(),GetFirstToken:()=>S.Token,GetLastToken:()=>S.Token}),S}else throw"Function arguments expected."}function ae(h,F){let V=i(h,F);for(M(V,"nil prefixexpr");;){let S=m();if(S.Source=="."){let I=s(),U=g("Ident"),B;B=C({Type:"FieldExpr",Base:V,Field:U,Token_Dot:I,GetFirstToken:()=>B.Base.GetFirstToken(),GetLastToken:()=>B.Field}),V=B}else if(S.Source==":"){let I=s(),U=g("Ident"),B=Ie(h,F),O;O=C({Type:"MethodExpr",Base:V,Method:U,FunctionArguments:B,Token_Colon:I,GetFirstToken:()=>O.Base.GetFirstToken(),GetLastToken:()=>O.FunctionArguments.GetLastToken()}),V=O}else if(S.Source=="["){let I=s(),U=l(h,F),B=g("Symbol","]"),O;O=C({Type:"IndexExpr",Base:V,Index:U,Token_OpenBracket:I,Token_CloseBracket:B,GetFirstToken:()=>O.Base.GetFirstToken(),GetLastToken:()=>O.Token_CloseBracket}),V=O}else if(S.Source=="{"||S.Source=="("||S.Type=="String"){let I;I=C({Type:"CallExpr",Base:V,FunctionArguments:Ie(h,F),GetFirstToken:()=>I.Base.GetFirstToken(),GetLastToken:()=>I.FunctionArguments.GetLastToken()}),V=I}else if(Oe.includes(S.Source)){let I=s(),U=l(h,F),B;B=C({Type:"CompoundStat",Base:V,Token_Compound:I,Rhs:U,Lhs:V,GetFirstToken:()=>B.Base.GetFirstToken(),GetLastToken:()=>B.Rhs.GetLastToken()}),V=B}else return V}}function Z(h,F){let V=m();if(V.Type=="Number"){let S;return S=C({Type:"NumberLiteral",Token:s(),GetFirstToken:()=>S.Token,GetLastToken:()=>S.Token}),S}else if(V.Type=="String"){let S;return S=C({Type:"StringLiteral",Token:s(),GetFirstToken:()=>S.Token,GetLastToken:()=>S.Token}),S}else if(V.Type=="Hash"){let S;return S=C({Type:"HashLiteral",Token:s(),GetFirstToken:()=>S.Token,GetLastToken:()=>S.Token}),S}else if(V.Source=="nil"){let S;return S=C({Type:"NilLiteral",Token:s(),GetFirstToken:()=>S.Token,GetLastToken:()=>S.Token}),S}else if(V.Source=="true"||V.Source=="false"){let S;return S=C({Type:"BooleanLiteral",Token:s(),GetFirstToken:()=>S.Token,GetLastToken:()=>S.Token}),S}else if(V.Source=="..."){let S;return S=C({Type:"VargLiteral",Token:s(),GetFirstToken:()=>S.Token,GetLastToken:()=>S.Token}),S}else return V.Source=="{"?G(h,F):V.Source=="function"?Be(!0,h,F):ae(h,F)}function ie(h,F,V){let S;if(f()){let I=s(),U=ie(Ze,F,V),B;B=C({Type:"UnopExpr",Token_Op:I,Rhs:U,GetFirstToken:()=>B.Token_Op,GetLastToken:()=>B.Rhs.GetLastToken()}),S=B}else S=Z(F,V),M(S,"nil sipleexpr");for(;d()&&re[m().Source]!=null&&re[m().Source][0]>h;){let I=s(),U=ie(re[I.Source][1],F,V);M(U,"RhsNeeded");let B;B=C({Type:"BinopExpr",Lhs:S,Rhs:U,Token_Op:I,GetFirstToken:()=>B.Lhs.GetFirstToken(),GetLastToken:()=>B.Rhs.GetLastToken()}),S=B}return S}l=(h,F)=>ie(0,h,F);function Tt(h,F){let V=ae(h,F);if(V.Type=="MethodExpr"||V.Type=="CallExpr"){let S;return S=C({Type:"CallExprStat",Expression:V,GetFirstToken:()=>S.Expression.GetFirstToken(),GetLastToken:()=>S.Expression.GetLastToken()}),S}else{if(V.Type=="CompoundStat")return V;{let S=[V],I=[];for(;m().Source==",";){I.push(s());let ne=ae(h,F);if(ne.Type=="MethodExpr"||ne.Type=="CallExpr")throw"Bad left hand side of asignment";S.push(ne)}let U=g("Symbol","="),B=[l(h,F)],O=[];for(;m().Source==",";)O.push(s()),B.push(l(h,F));let te;return te=C({Type:"AssignmentStat",Rhs:B,Lhs:S,Token_Equals:U,Token_LhsSeperatorList:I,Token_RhsSeperatorList:O,GetFirstToken:()=>te.Lhs[0].GetFirstToken(),GetLastToken:()=>te.Rhs[te.Rhs.length-1].GetLastToken()}),te}}}function et(h,F){let V=s(),S=l(h,F),I=g("Keyword","then"),U=t(h,F),B=[];for(;m().Source=="elseif"||m().Source=="else";){let ne=s(),se,ve;ne.Source=="elseif"&&(se=l(h,F),ve=g("Keyword","then"));let ze=t(h,F);if(B.push({Condition:se,Body:ze,ClauseType:ne.Source,Token:ne,Token_Then:ve}),ne.Source=="else")break}let O=g("Keyword","end"),te;return te=C({Type:"IfStat",Condition:S,Body:U,ElseClauseList:B,Token_If:V,Token_Then:I,Token_End:O,GetFirstToken:()=>te.Token_If,GetLastToken:()=>te.Token_End}),te}function je(h,F){let V=s(),[S,I]=ye("end",h,F),U;return U=C({Type:"DoStat",Body:S,Token_Do:V,Token_End:I,GetFirstToken:()=>U.Token_Do,GetLastToken:()=>U.Token_End}),U}function Je(h,F){let V=s(),S=l(h,F),I=g("Keyword","do"),[U,B]=ye("end",h,F),O;return O=C({Type:"WhileStat",Condition:S,Body:U,Token_While:V,Token_Do:I,Token_End:B,GetFirstToken:()=>O.Token_While,GetLastToken:()=>O.Token_End}),O}function bt(h,F){let V=s(),[S,I]=ge();if(m().Source=="="){let U=s(),[B,O]=u(h,F);if(B.length<2||B.length>3)throw"Expected 2 or 3 values for range bounds";let te=g("Keyword","do"),[ne,se]=ye("end",h,F),ve;return ve=C({Type:"NumericForStat",VarList:S,RangeList:B,Body:ne,Token_For:V,Token_VarCommaList:I,Token_Equals:U,Token_RangeCommaList:O,Token_Do:te,Token_End:se,GetFirstToken:()=>ve.Token_For,GetLastToken:()=>ve.Token_End}),ve}else if(m().Source=="in"){let U=s(),[B,O]=u(h,F),te=g("Keyword","do"),[ne,se]=ye("end",h,F),ve;return ve=C({Type:"GenericForStat",VarList:S,GeneratorList:B,Body:ne,Token_For:V,Token_VarCommaList:I,Token_In:U,Token_GeneratorCommaList:O,Token_Do:te,Token_End:se,GetFirstToken:()=>ve.Token_For,GetLastToken:()=>ve.Token_End}),ve}}function kt(h,F){let V=s(),[S,I]=ye("until",h),U=l(h,F),B;return B=C({Type:"RepeatStat",Body:S,Condition:U,Token_Repeat:V,Token_Until:I,GetFirstToken:()=>B.Token_Repeat,GetLastToken:()=>B.Condition.GetLastToken()}),B}function vt(h,F){let V=s();if(m().Source=="function"){let S=Be(!1,h,F);if(S.NameChain.length>1)throw _(S.Token_NameChainSeperator[0])+": `(` expected.";let I;return I=C({Type:"LocalFunctionStat",FunctionStat:S,Token_Local:V,GetFirstToken:()=>I.Token_Local,GetLastToken:()=>I.FunctionStat.GetLastToken()}),I}else if(m().Type=="Ident"){let[S,I]=ge(!1,!0),U=[],B=[],O;if(m().Source=="="){O=s();let[ne,se]=u(h,F);U=ne,B=se}let te;return te=C({Type:"LocalVarStat",VarList:S,ExprList:U,Token_Local:V,Token_Equals:O,Token_VarCommaList:I,Token_ExprCommaList:B,GetFirstToken:()=>te.Token_Local,GetLastToken:function(){return te.ExprList.length>0?te.ExprList[te.ExprList.length-1].GetLastToken():te.VarList[te.VarList.length-1]}}),te}else throw"`function` or ident expected"}function st(h,F){let V=s(),S,I;p()||m().Source==";"?(S=[],I=[]):[S,I]=u(h,F);let U;return U={Type:"ReturnStat",ExprList:S,Token_Return:V,Token_CommaList:I,GetFirstToken:()=>U.Token_Return,GetLastToken:function(){return U.ExprList.length>0?U.ExprList[U.ExprList.length-1].GetLastToken():U.Token_Return}},U}function Lt(h,F){let V=s(),S;return S={Type:"BreakStat",Token_Break:V,GetFirstToken:()=>S.Token_Break,GetLastToken:()=>S.Token_Break},S}function nt(h,F){let V=s(),S;return S={Type:"ContinueStat",Token_Continue:V,GetFirstToken:()=>S.Token_Continue,GetLastToken:()=>S.Token_Continue},S}function E(){let h=s(),F;m().Type=="Keyword"?F=g("Keyword"):F=g("Ident");let V;return V={Type:"GotoStat",Token_Goto:h,Token_Label:F,GetFirstToken:()=>V.Token_Goto,GetLastToken:()=>V.Token_Label},V}function w(){let h=s(),F;m().Type=="Keyword"?F=g("Keyword"):F=g("Ident");let V=g("Symbol","::"),S;return S={Type:"LabelStat",Token_ColonsLeft:h,Token_Label:F,Token_ColonsRight:V,GetFirstToken:()=>S.Token_ColonsLeft,GetLastToken:()=>S.Token_ColonsRight},S}function J(h,F){let V=m();return V.Source=="if"?[!1,et(h,F)]:V.Source=="while"?[!1,Je(h,F)]:V.Source=="do"?[!1,je(h,F)]:V.Source=="for"?[!1,bt(h,F)]:V.Source=="repeat"?[!1,kt(h,F)]:V.Source=="function"?[!1,Be(!1,h,F)]:V.Source=="local"?[!1,vt(h,F)]:V.Source=="return"?[!0,st(h,F)]:V.Source=="break"?[!0,Lt()]:V.Source=="continue"?[!0,nt()]:V.Source=="goto"?[!1,E()]:V.Source=="::"?[!1,w()]:[!1,Tt(h,F)]}return t=function(h,F){let V=[],S=[],I={},U={};if(F!=null)for(let[ne,se]of Object.entries(F))U[ne]=se;if(h!=null)for(let[ne,se]of Object.entries(h))U[ne]=se;let B,O=0;for(;!p();){B&&B==m()&&Ce(`INFINITE LOOP POSSIBLE ON STATEMENT ${B.Source} :`,B),B=m();let[ne,se]=J(I,U);if(se)switch(V.push(se),se.Type){case"LocalVarStat":se.VarList.forEach(Te=>{Te.UseCount=0,Te.Number=O++,I[Te.Source]=Te;let De=[];function Ge(){Te.UseCount++,De.forEach(Pe=>{Pe.UseCount=Te.UseCount})}Te.Tokens={},Te.Tokens.push=Pe=>{Pe.UseCountIncrease=Ge,Pe.UseCount=Te.UseCount,Pe.Tokens=Te.Tokens,De.push(Pe)},Te.Tokens.get=()=>De,Te.UseCountIncrease=Ge});break;case"LocalFunctionStat":let ze=se.FunctionStat.NameChain;if(ze.length===1){let Ge=function(){Te.UseCount++,De.forEach(Pe=>{Pe.UseCount=Te.UseCount})},Te=ze[0];Te.UseCount=0,Te.Number=O++,I[Te.Source]=Te;let De=[];Te.Tokens={},Te.Tokens.push=Pe=>{Pe.UseCountIncrease=Ge,Pe.UseCount=Te.UseCount,Pe.Tokens=Te.Tokens,De.push(Pe)},Te.Tokens.get=()=>De,Te.UseCountIncrease=Ge}break}let ve=m();ve.Type=="Symbol"&&ve.Source==";"&&(S[V.length-1]=s())}let te;return te={Type:"StatList",StatementList:V,SemicolonList:S,GetFirstToken:function(){var ne;if(te.StatementList.length!=0)return(ne=te.StatementList[0])==null?void 0:ne.GetFirstToken()},GetLastToken:function(){if(te.StatementList.length!=0)return te.SemicolonList[te.StatementList.length-1]?te.SemicolonList[te.StatementList.length-1]:te.StatementList[te.StatementList.length-1].GetLastToken()}},te},t([],[])}function at(oe,L){let c={BinopExpr:!0,UnopExpr:!0,NumberLiteral:!0,StringLiteral:!0,NilLiteral:!0,BooleanLiteral:!0,VargLiteral:!0,HashLiteral:!0,FieldExpr:!0,IndexExpr:!0,MethodExpr:!0,CallExpr:!0,FunctionLiteral:!0,VariableExpr:!0,ParenExpr:!0,TableLiteral:!0},s={StatList:!0,BreakStat:!0,ContinueStat:!0,LabelStat:!0,GotoStat:!0,ReturnStat:!0,LocalVarStat:!0,LocalFunctionStat:!0,FunctionStat:!0,RepeatStat:!0,GenericForStat:!0,NumericForStat:!0,WhileStat:!0,DoStat:!0,IfStat:!0,CallExprStat:!0,AssignmentStat:!0,CompoundStat:!0};for(var[m,_]of Object.entries(L))if(!s[m]&&!c[m])throw`Invalid visitor target: \`${m}\``;function e(g){if(g!=null){let C=L[g.Type];if(typeof C=="function")return C(g);if(C&&C.Pre)return C.Pre(g)}}function p(g){let C=L[g.Type];if(C&&typeof C=="object"&&C.Post)return C.Post(g)}let f,d;f=function(g){if(!e(g)){if(g.Type=="BinopExpr")f(g.Lhs),f(g.Rhs);else if(g.Type=="UnopExpr")f(g.Rhs);else if(!(g.Type=="NumberLiteral"||g.Type=="StringLiteral"||g.Type=="NilLiteral"||g.Type=="BooleanLiteral"||g.Type=="VargLiteral"||g.Type=="HashLiteral")){if(g.Type=="FieldExpr")f(g.Base);else if(g.Type=="IndexExpr")f(g.Base),f(g.Index);else if(g.Type=="MethodExpr"||g.Type=="CallExpr")f(g.Base),g.FunctionArguments.CallType=="ArgCall"?g.FunctionArguments.ArgList.forEach((C,t)=>{f(C)}):g.FunctionArguments.CallType=="TableCall"&&f(g.FunctionArguments.TableExpr);else if(g.Type=="FunctionLiteral")d(g.Body);else if(g.Type!="VariableExpr")if(g.Type=="ParenExpr")f(g.Expression);else if(g.Type=="TableLiteral")g.EntryList.forEach((C,t)=>{if(C.EntryType=="Field")f(C.Value);else if(C.EntryType=="Index")f(C.Index),f(C.Value);else if(C.EntryType=="Value")f(C.Value);else throw"unreachable"});else if(g.Type=="CompoundStat")f(g.Lhs),f(g.Rhs);else throw`unreachable, type: ${g.Type}: ${g}`}p(g)}},d=function(g){if(!e(g)){if(g.Type=="StatList")g.StatementList.forEach((C,t)=>{if(C!=null){if(C===null||C.Type===null)return;C.Remove=()=>{g.StatementList[t]=null},d(C)}});else if(g.Type!="BreakStat"){if(g.Type!="ContinueStat"){if(g.Type!="GotoStat"){if(g.Type!="LabelStat")if(g.Type=="ReturnStat")g.ExprList.forEach((C,t)=>{f(C)});else if(g.Type=="LocalVarStat")g.Token_Equals&&g.ExprList.forEach((C,t)=>{f(C)});else if(g.Type=="LocalFunctionStat")d(g.FunctionStat.Body);else if(g.Type=="FunctionStat")d(g.Body);else if(g.Type=="RepeatStat")d(g.Body),f(g.Condition);else if(g.Type=="GenericForStat")g.GeneratorList.forEach((C,t)=>{f(C)}),d(g.Body);else if(g.Type=="NumericForStat")g.RangeList.forEach((C,t)=>{f(C)}),d(g.Body);else if(g.Type=="WhileStat")f(g.Condition),d(g.Body);else if(g.Type=="DoStat")d(g.Body);else if(g.Type=="IfStat")f(g.Condition),d(g.Body),g.ElseClauseList.forEach(C=>{C.Condition!=null&&f(C.Condition),d(C.Body)});else if(g.Type=="CallExprStat")f(g.Expression);else if(g.Type=="CompoundStat")f(g.Lhs),f(g.Rhs);else if(g.Type=="AssignmentStat")g.Lhs.forEach(C=>{f(C)}),g.Rhs.forEach(C=>{f(C)});else throw"unreachable"}}}p(g)}},s[oe.Type]?d(oe):f(oe)}function _t(oe){let L=[],c,s=0;function m(){return s++,s}function _(){c={ParentScope:c,ChildScopeList:[],VariableList:[],BeginLocation:m(),Depth:null,GetVar:null},c.ParentScope?(c.Depth=c.ParentScope.Depth+1,c.ParentScope.ChildScopeList.push(c)):c.Depth=1;let l=c;c.GetVar=function(u){for(const i of l.VariableList)if(i.Name==u)return i;if(l.ParentScope)return l.ParentScope.GetVar(u);for(const i of L)if(i.Name==u)return i}}function e(){let l=c;return l.EndLocation=m(),l.VariableList.forEach(u=>{u.ScopeEndLocation=l.EndLocation}),c=l.ParentScope,l}_();function p(l,u,i){M(i,"MIssing localInfo"),M(l,"Missing local var name");let G={Type:"Local",Name:l,RenameList:[u],AssignedTo:!1,Info:i,Scope:c,BeginLocation:m(),EndLocation:m(),ReferenceLocationList:[m()]};return G.Rename=function(ge){G.Name=ge,G.RenameList.forEach(ye=>{ye(ge)})},c.VariableList.push(G),G}function f(l){for(const i of L)if(i.Name==l)return i;let u={Type:"Global",Name:l,RenameList:[],AssignedTo:!1,Scope:null,BeginLocation:m(),EndLocation:m(),ReferenceLocationList:[]};return u.Rename=function(i){u.Name=i,u.RenameList.forEach(G=>{G(i)})},L.push(u),u}function d(l,u){M(l,"Missing var name");let i=f(l);return i.RenameList.push(u),i}function g(l,u){let i;for(i=l.VariableList.length-1;i>=0;i--)if(l.VariableList[i].Name==u)return l.VariableList[i];if(l.ParentScope){let G=g(l.ParentScope,u);if(G)return G}}function C(l,u){M(l,"Missing var name");let i=g(c,l);i?i.RenameList.push(u):i=d(l,u);let G=m();return i.EndLocation=G,i.ReferenceLocationList.push(i.EndLocation),i}let t={};return t.FunctionLiteral={Pre:function(l){_(),l.ArgList.forEach((u,i)=>{let G=p(u.Source,function(ge,ye){ye||(u.Source=ge)},{Type:"Argument",Index:i});u.var=G})},Post:function(l){e()}},t.VariableExpr=function(l){l.Variable=C(l.Token.Source,function(u){l.Token.Source=u})},t.StatList={Pre:function(l){_()},Post:function(l){l.SkipPop||e()}},t.LocalVarStat={Post:function(l){l.VarList.forEach((u,i)=>{p(u.Source,function(G){l.VarList[i].Source=G},{Type:"Local"})})}},t.LocalFunctionStat={Pre:function(l){p(l.FunctionStat.NameChain[0].Source,function(u){l.FunctionStat.NameChain[0].Source=u},{Type:"LocalFunction"}),_(),l.FunctionStat.ArgList.forEach((u,i)=>{p(u.Source,function(G){u.Source=G},{Type:"Argument",Index:i})})},Post:function(){e()}},t.FunctionStat={Pre:function(l){let u=l.NameChain,i;u.length==1?g(c,u[0].Source)?i=C(u[0].Source,function(G){u[0].Source=G}):i=d(u[0].Source,function(G){u[0].Source=G}):i=C(u[0].Source,function(G){u[0].Source=G}),i.AssignedTo=!0,_(),l.ArgList.forEach((G,ge)=>{p(G.Source,function(ye){G.Source=ye},{Type:"Argument",Index:ge})})},Post:function(){e()}},t.GenericForStat={Pre:function(l){return l.GeneratorList.forEach(u=>{at(u,t)}),_(),l.VarList.forEach((u,i)=>{p(u.Source,function(G){u.Source=G},{Type:"ForRange",Index:i})}),at(l.Body,t),e(),!0}},t.NumericForStat={Pre:function(l){return l.RangeList.forEach(u=>{at(u,t)}),_(),l.VarList.forEach((u,i)=>{p(u.Source,function(G){u.Source=G},{Type:"ForRange",Index:i})}),at(l.Body,t),e(),!0}},t.RepeatStat={Pre:function(l){l.Body.SkipPop=!0},Post:function(l){e()}},t.AssignmentStat={Post:function(l){l.Lhs.forEach(u=>{u.Variable!=null&&(u.Variable.AssignedTo=!0)})}},at(oe,t),[L,e()]}function ht(oe){let L,c,s="",m=e=>typeof(e==null?void 0:e.LeadingWhite)!="string"?" ":e.LeadingWhite;function _(e){if(e.LeadingWhite==null||e.Source==null)throw`Bad token: tk=${e} | lwhite=${e.LeadingWhite} | source=${e.Source}`;s=`${s}${e.LeadingWhite}${e.Source}`}return c=function(e){if(e.Type=="BinopExpr")c(e.Lhs),_(e.Token_Op),c(e.Rhs);else if(e.Type=="UnopExpr")_(e.Token_Op),c(e.Rhs);else if(e.Type=="NumberLiteral"||e.Type=="StringLiteral"||e.Type=="NilLiteral"||e.Type=="BooleanLiteral"||e.Type=="VargLiteral"||e.Type=="HashLiteral")_(e.Token);else if(e.Type=="FieldExpr")c(e.Base),_(e.Token_Dot),_(e.Field);else if(e.Type=="IndexExpr")c(e.Base),_(e.Token_OpenBracket),c(e.Index),_(e.Token_CloseBracket);else if(e.Type=="MethodExpr"||e.Type=="CallExpr")c(e.Base),e.Type=="MethodExpr"&&(_(e.Token_Colon),_(e.Method)),e.FunctionArguments.CallType=="StringCall"?_(e.FunctionArguments.Token):e.FunctionArguments.CallType=="ArgCall"?(_(e.FunctionArguments.Token_OpenParen),e.FunctionArguments.ArgList.forEach((p,f)=>{c(p);let d=e.FunctionArguments.Token_CommaList[f];d!=null&&_(d)}),_(e.FunctionArguments.Token_CloseParen)):e.FunctionArguments.CallType=="TableCall"&&c(e.FunctionArguments.TableExpr);else if(e.Type=="FunctionLiteral")_(e.Token_Function),_(e.Token_OpenParen),e.ArgList.forEach((p,f)=>{_(p);let d=e.Token_ArgCommaList[f];d!=null&&_(d)}),e.Token_Varg!=null&&_(e.Token_Varg),_(e.Token_CloseParen),L(e.Body),_(e.Token_End);else if(e.Type=="VariableExpr")_(e.Token);else if(e.Type=="ParenExpr")_(e.Token_OpenParen),c(e.Expression),_(e.Token_CloseParen);else if(e.Type=="TableLiteral")_(e.Token_OpenBrace),e.EntryList.forEach((p,f)=>{if(p.EntryType=="Field")_(p.Field),_(p.Token_Equals),c(p.Value);else if(p.EntryType=="Index")_(p.Token_OpenBracket),c(p.Index),_(p.Token_CloseBracket),_(p.Token_Equals),c(p.Value);else if(p.EntryType=="Value")c(p.Value);else throw"unreachable";let d=e.Token_SeperatorList[f];d!=null&&_(d)}),_(e.Token_CloseBrace);else if(e.Type=="CompoundStat")L(e);else throw`unreachable, type: ${e.Type}: ${e}`},L=function(e){if(e==null)throw`STAT IS NIL! ${e}`;if(!(e.Type==="StatList"&&e.StatementList.length===0)){if(e.WrapInDo){let p=m(e.GetFirstToken());e.GetFirstToken().LeadingWhite="",s+=`${p}do `}e.Type=="StatList"?e.StatementList.forEach((p,f)=>{p===null||p.Type===null||(p.Remove=()=>{e.StatementList[f]=null},L(p),e.SemicolonList[f]&&_(e.SemicolonList[f]))}):e.Type=="BreakStat"?_(e.Token_Break):e.Type=="ContinueStat"?_(e.Token_Continue):e.Type=="GotoStat"?(_(e.Token_Goto),_(e.Token_Label)):e.Type=="LabelStat"?(_(e.Token_ColonsLeft),_(e.Token_Label),_(e.Token_ColonsRight)):e.Type=="ReturnStat"?(_(e.Token_Return),e.ExprList.forEach((p,f)=>{c(p),e.Token_CommaList[f]&&_(e.Token_CommaList[f])})):e.Type=="LocalVarStat"?(_(e.Token_Local),e.VarList.forEach((p,f)=>{_(p),p.Attribute!=null&&_(p.Attribute);let d=e.Token_VarCommaList[f];d!=null&&_(d)}),e.Token_Equals!=null&&(_(e.Token_Equals),e.ExprList.forEach((p,f)=>{c(p);let d=e.Token_ExprCommaList[f];d!=null&&_(d)}))):e.Type=="LocalFunctionStat"?(_(e.Token_Local),_(e.FunctionStat.Token_Function),_(e.FunctionStat.NameChain[0]),_(e.FunctionStat.Token_OpenParen),e.FunctionStat.ArgList.forEach((p,f)=>{_(p);let d=e.FunctionStat.Token_ArgCommaList[f];d!=null&&_(d)}),e.FunctionStat.Token_Varg&&_(e.FunctionStat.Token_Varg),_(e.FunctionStat.Token_CloseParen),L(e.FunctionStat.Body),_(e.FunctionStat.Token_End)):e.Type=="FunctionStat"?(_(e.Token_Function),e.NameChain.forEach((p,f)=>{_(p);let d=e.Token_NameChainSeperator[f];d!=null&&_(d)}),_(e.Token_OpenParen),e.ArgList.forEach((p,f)=>{_(p);let d=e.Token_ArgCommaList[f];d!=null&&_(d)}),e.Token_Varg&&_(e.Token_Varg),_(e.Token_CloseParen),L(e.Body),_(e.Token_End)):e.Type=="RepeatStat"?(_(e.Token_Repeat),L(e.Body),_(e.Token_Until),c(e.Condition)):e.Type=="GenericForStat"?(_(e.Token_For),e.VarList.forEach((p,f)=>{_(p);let d=e.Token_VarCommaList[f];d!=null&&_(d)}),_(e.Token_In),e.GeneratorList.forEach((p,f)=>{c(p);let d=e.Token_GeneratorCommaList[f];d!=null&&_(d)}),_(e.Token_Do),L(e.Body),_(e.Token_End)):e.Type=="NumericForStat"?(_(e.Token_For),e.VarList.forEach((p,f)=>{_(p);let d=e.Token_VarCommaList[f];d!=null&&_(d)}),_(e.Token_Equals),e.RangeList.forEach((p,f)=>{c(p);let d=e.Token_RangeCommaList[f];d!=null&&_(d)}),_(e.Token_Do),L(e.Body),_(e.Token_End)):e.Type=="WhileStat"?(_(e.Token_While),c(e.Condition),_(e.Token_Do),L(e.Body),_(e.Token_End)):e.Type=="DoStat"?(_(e.Token_Do),L(e.Body),_(e.Token_End)):e.Type=="IfStat"?(_(e.Token_If),c(e.Condition),_(e.Token_Then),L(e.Body),e.ElseClauseList.forEach(p=>{_(p.Token),p.Condition!=null&&(c(p.Condition),_(p.Token_Then)),L(p.Body)}),_(e.Token_End)):e.Type=="CallExprStat"?c(e.Expression):e.Type=="CompoundStat"?(c(e.Lhs),_(e.Token_Compound),c(e.Rhs),e.Type="CompoundStat"):e.Type=="AssignmentStat"?(e.Lhs.forEach((p,f)=>{c(p);let d=e.Token_LhsSeperatorList[f];d!=null&&_(d)}),_(e.Token_Equals),e.Rhs.forEach((p,f)=>{c(p);let d=e.Token_RhsSeperatorList[f];d!=null&&_(d)})):M(!1,"unreachable"),e.WrapInDo&&(s+=" end ")}},L(oe),s}function H(oe){let L,c,s=0;function m(t){if(t===void 0)return;let l=`
${"	".repeat(s)}`;if(t.LeadingWhite==""||t.LeadingWhite.substr(-l.length,l.length)!=l){let u="",i;for(i=t.LeadingWhite.length;i>=0;i--){let G=t.LeadingWhite.substr(i,1);if(!(G==""||G.match(/\s/g))){u=t.LeadingWhite.substr(0,i+1);break}}t.LeadingWhite=`${u}${l}`}}function _(){s++}function e(){s--,M(s>=0,"Undented too far")}function p(t){return t.LeadingWhite.length>0?t.LeadingWhite.substr(0,1):t.Source.toString().substr(0,1)}function f(t){t.LeadingWhite=t.LeadingWhite.trim()}function d(t){f(t),he.includes(p(t))||(t.LeadingWhite=" "+t.LeadingWhite)}function g(t){d(t.GetFirstToken())}function C(t,l,u){_(),L(l),e(),m(u)}c=function(t){if(t.Type=="BinopExpr")c(t.Lhs),c(t.Rhs),g(t.Rhs),d(t.Token_Op);else if(t.Type=="UnopExpr")f(t.Token_Op),c(t.Rhs),t.Token_Op.Source[0]&&d(t.Rhs.GetFirstToken());else if(t.Type=="NumberLiteral"||t.Type=="StringLiteral"||t.Type=="NilLiteral"||t.Type=="BooleanLiteral"||t.Type=="VargLiteral"||t.Type=="HashLiteral")f(t.Token),t.Type=="HashLiteral"&&(t.Token.Source='"'+y(`${t.Token.Source.substring(1,t.Token.Source.length-1)}`)+'"',t.Type="StringLiteral",t.Token.Type="String");else if(t.Type=="FieldExpr")c(t.Base);else if(t.Type=="IndexExpr")c(t.Base),c(t.Index);else if(t.Type=="MethodExpr"||t.Type=="CallExpr")c(t.Base),f(t.FunctionArguments.GetFirstToken()),f(t.FunctionArguments.GetLastToken()),t.Type=="MethodExpr",t.FunctionArguments.CallType=="StringCall"||(t.FunctionArguments.CallType=="ArgCall"?t.FunctionArguments.ArgList.forEach((l,u)=>{c(l),u>0&&g(l);let i=t.FunctionArguments.Token_CommaList[u];i!=null&&f(i)}):t.FunctionArguments.CallType=="TableCall"&&c(t.FunctionArguments.TableExpr));else if(t.Type=="FunctionLiteral")t.ArgList.forEach((l,u)=>{u>0&&d(l),t.Token_ArgCommaList[u]}),t.ArgList.length>0&&t.Token_Varg!=null&&d(t.Token_Varg),C(t.Token_CloseParen,t.Body,t.Token_End);else if(t.Type!="VariableExpr")if(t.Type=="ParenExpr")f(t.Token_OpenParen),f(t.Token_CloseParen),c(t.Expression);else if(t.Type=="TableLiteral"){if(t.EntryList.length!=0){_();let l=100;t.EntryList.forEach((u,i)=>{u.EntryType=="Field"?(t.EntryList.length>l?gt(u.Value):m(u.Field),d(u.Token_Equals),c(u.Value),g(u.Value)):u.EntryType=="Index"?(t.EntryList.length>l?f(u.Token_OpenBracket):m(u.Token_OpenBracket),c(u.Index),d(u.Token_Equals),c(u.Value),g(u.Value)):u.EntryType=="Value"?(c(u.Value),t.EntryList.length>l?gt(u.Value):m(u.Value.GetFirstToken())):M(!1,"unreachable");let G=t.Token_SeperatorList[i];G!=null&&(t.EntryList.length>l?G.LeadingWhite="":f(G))}),e(),t.EntryList.length>l?t.Token_CloseBrace.LeadingWhite="":m(t.Token_CloseBrace)}}else if(t.Type=="CompoundStat")L(t);else throw Ce(t),`unreachable, type: ${t.Type}:`+t},L=function(t){if(t.Type=="StatList")t.StatementList.forEach((l,u)=>{l===null||l.Type===null||l.Type==="StatList"&&l.StatementList.length===0||(l.Remove=()=>{l.StatementList[u]=null},L(l),m(l.GetFirstToken()))});else if(t.Type!="BreakStat"){if(t.Type!="ContinueStat"){if(t.Type!="GotoStat"){if(t.Type!="LabelStat")if(t.Type=="ReturnStat")t.ExprList.forEach((l,u)=>{c(l),g(l),t.Token_CommaList[u]});else if(t.Type=="LocalVarStat"){if(t.VarList.forEach((l,u)=>{d(l),l.Attribute&&(l.Attribute.LeadingWhite=" "),t.Token_VarCommaList[u]}),t.Token_Equals){f(t.Token_Equals),d(t.Token_Equals);let l=[],u=[];t.ExprList.forEach((i,G)=>{i!=null&&(G<t.VarList.length||i.Type=="CallExpr"||i.Type=="ParenExpr"||i.Type=="VargLiteral"||i.Type=="BinopExpr"||i.Type=="UnopExpr")&&(l.push(i),u.push(t.Token_ExprCommaList[G]))}),t.ExprList=l,t.CommaList=u,t.ExprList.forEach((i,G)=>{i!=null&&(c(i),g(i),t.Token_ExprCommaList[G]!=null&&t.ExprList.length-1==G&&(t.Token_ExprCommaList[G]=null))})}}else if(t.Type=="LocalFunctionStat")d(t.FunctionStat.Token_Function),d(t.FunctionStat.NameChain[0]),t.FunctionStat.ArgList.forEach((l,u)=>{u>0?d(l):f(l);let i=t.FunctionStat.Token_ArgCommaList[u];i&&f(i)}),t.FunctionStat.ArgList.length>0&&t.FunctionStat.Token_Varg?(f(t.FunctionStat.Token_Varg),d(t.FunctionStat.Token_Varg)):t.FunctionStat.Token_Varg&&f(t.FunctionStat.Token_Varg),f(t.FunctionStat.Token_OpenParen),f(t.FunctionStat.Token_CloseParen),C(t.FunctionStat.Token_CloseParen,t.FunctionStat.Body,t.FunctionStat.Token_End);else if(t.Type=="FunctionStat")t.NameChain.forEach((l,u)=>{u==0&&d(l),t.Token_NameChainSeperator[u]}),t.ArgList.forEach((l,u)=>{u>0&&d(l),t.Token_ArgCommaList[u]}),t.ArgList.length>0&&t.Token_Varg&&d(t.Token_Varg),C(t.Token_CloseParen,t.Body,t.Token_End);else if(t.Type=="RepeatStat")C(t.Token_Repeat,t.Body,t.Token_Until),c(t.Condition),g(t.Condition);else if(t.Type=="GenericForStat")t.VarList.forEach((l,u)=>{d(l),t.Token_VarCommaList[u]}),d(t.Token_In),t.GeneratorList.forEach((l,u)=>{c(l),g(l),t.Token_GeneratorCommaList[u]}),d(t.Token_Do),C(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="NumericForStat")t.VarList.forEach((l,u)=>{d(l),t.Token_VarCommaList[u]}),d(t.Token_Equals),t.RangeList.forEach((l,u)=>{c(l),g(l),t.Token_RangeCommaList[u]}),d(t.Token_Do),C(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="WhileStat")c(t.Condition),g(t.Condition),d(t.Token_Do),C(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="DoStat")C(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="IfStat"){c(t.Condition),g(t.Condition),d(t.Token_Then);let l=t.Token_Then,u=t.Body;t.ElseClauseList.forEach(i=>{C(l,u,i.Token),l=i.Token,i.Condition!=null&&(c(i.Condition),g(i.Condition),d(i.Token_Then),l=i.Token_Then),u=i.Body}),C(l,u,t.Token_End)}else t.Type=="CallExprStat"?c(t.Expression):t.Type=="CompoundStat"?(c(t.Lhs),c(t.Rhs),g(t.Lhs),g(t.Rhs),d(t.Token_Compound)):t.Type=="AssignmentStat"?(t.Lhs.forEach((l,u)=>{c(l),u>0&&g(l),t.Token_LhsSeperatorList[u]}),d(t.Token_Equals),t.Rhs.forEach((l,u)=>{c(l),g(l),t.Token_RhsSeperatorList[u]})):M(!1,"Unreachable")}}}},L(oe)}function gt(oe){let L,c;function s(e){e&&(e.LeadingWhite="")}function m(e,p,f=!1){s(p);let d=(typeof e.Source=="string"?e.Source:e.Source.toString()).substr(e.Source.length-1,1),g=(typeof p.Source=="string"?p.Source:p.Source.toString()).substr(0,1);d=="-"&&g=="-"||ke.includes(d)&&ke.includes(g)||f&&d==")"&&g=="("?p.LeadingWhite=f?";":" ":p.LeadingWhite=""}function _(e,p,f){L(p),s(f);let d=p.GetFirstToken(),g=p.GetLastToken();d!=null?(m(e,d),m(g,f)):m(e,f)}c=function(e){if(e.Type==="BinopExpr")c(e.Lhs),c(e.Rhs),e.Lhs.Type=="NumberLiteral"&&e.Token_Op.Source==".."?e.Token_Op.LeadingWhite=" ":(s(e.Token_Op),m(e.Lhs.GetLastToken(),e.Token_Op)),m(e.Token_Op,e.Rhs.GetFirstToken());else if(e.Type==="UnopExpr")s(e.Token_Op),c(e.Rhs),m(e.Token_Op,e.Rhs.GetFirstToken());else if(e.Type==="NumberLiteral"||e.Type==="StringLiteral"||e.Type==="NilLiteral"||e.Type==="BooleanLiteral"||e.Type==="VargLiteral"||e.Type==="HashLiteral")s(e.Token);else if(e.Type=="FieldExpr")c(e.Base),s(e.Token_Dot),s(e.Field);else if(e.Type=="IndexExpr")c(e.Base),s(e.Token_OpenBracket),c(e.Index),s(e.Token_CloseBracket);else if(e.Type=="MethodExpr"||e.Type=="CallExpr")c(e.Base),e.Type=="MethodExpr"&&(s(e.Token_Colon),s(e.Method)),e.FunctionArguments.CallType=="StringCall"?s(e.FunctionArguments.Token):e.FunctionArguments.CallType=="ArgCall"?(s(e.FunctionArguments.Token_OpenParen),e.FunctionArguments.ArgList.forEach((p,f)=>{c(p);let d=e.FunctionArguments.Token_CommaList[f];d!=null&&s(d)}),s(e.FunctionArguments.Token_CloseParen)):e.FunctionArguments.CallType=="TableCall"&&c(e.FunctionArguments.TableExpr);else if(e.Type=="FunctionLiteral")s(e.Token_Function),s(e.Token_OpenParen),e.ArgList.forEach((p,f)=>{s(p);let d=e.Token_ArgCommaList[f];d!=null&&s(d)}),e.Token_Varg!=null&&s(e.Token_Varg),s(e.Token_CloseParen),_(e.Token_CloseParen,e.Body,e.Token_End);else if(e.Type=="VariableExpr")s(e.Token);else if(e.Type=="ParenExpr")s(e.Token_OpenParen),c(e.Expression),s(e.Token_CloseParen);else if(e.Type=="TableLiteral")s(e.Token_OpenBrace),e.EntryList.forEach((p,f)=>{p.EntryType=="Field"?(s(p.Field),s(p.Token_Equals),c(p.Value)):p.EntryType=="Index"?(s(p.Token_OpenBracket),c(p.Index),s(p.Token_CloseBracket),s(p.Token_Equals),c(p.Value)):p.EntryType=="Value"?c(p.Value):M(!1,"unreachable");let d=e.Token_SeperatorList[f];d!=null&&s(d)}),e.Token_SeperatorList[e.EntryList.length-1]=null,s(e.Token_CloseBrace);else throw`unreachable, type: ${e.Type}:${e}  undefined`},L=function(e){if(e.Type=="StatList"){let p;for(p=0;p<=e.StatementList.length;p++){let f=e.StatementList[p];if(f==null)continue;L(f),s(f.GetFirstToken());let d=e.StatementList[p-1];if(d!=null){let g={")":["(","["],"]":["(","["]};if(e.SemicolonList[p-1]){let C=d.GetLastToken().Source,t=f.GetFirstToken().Source;(g[C]===null||g[C]===void 0||!g[C].includes(t))&&(e.SemicolonList[p-1]=null)}e.SemicolonList[p-1]||m(d.GetLastToken(),f.GetFirstToken(),!0)}}e.SemicolonList[e.StatementList.length-1]=null,e.StatementList.length>0&&s(e.StatementList[0].GetFirstToken())}else if(e.Type=="BreakStat")s(e.Token_Break);else if(e.Type=="ContinueStat")s(e.Token_Continue);else if(e.Type=="GotoStat")s(e.Token_Goto),m(e.Token_Goto,e.Token_Label);else if(e.Type=="LabelStat")s(e.Token_ColonsLeft),s(e.Token_Label),s(e.Token_ColonsRight);else if(e.Type=="ReturnStat")s(e.Token_Return),e.ExprList.forEach((p,f)=>{c(p),e.Token_CommaList[f]!=null&&s(e.Token_CommaList[f])}),e.ExprList.length>0&&m(e.Token_Return,e.ExprList[0].GetFirstToken());else if(e.Type=="LocalVarStat"){s(e.Token_Local);let p=!1;e.VarList.forEach((f,d)=>{d==0?m(e.Token_Local,f):s(f),f.Attribute&&(s(f.Attribute),d+1==e.VarList.length&&(p=!0));let g=e.Token_VarCommaList[d];g!=null&&s(g)}),e.Token_Equals!=null&&(p||s(e.Token_Equals),e.ExprList.forEach((f,d)=>{c(f);let g=e.Token_ExprCommaList[d];g!=null&&s(g)}))}else if(e.Type=="LocalFunctionStat")s(e.Token_Local),m(e.Token_Local,e.FunctionStat.Token_Function),m(e.FunctionStat.Token_Function,e.FunctionStat.NameChain[0]),m(e.FunctionStat.NameChain[0],e.FunctionStat.Token_OpenParen),e.FunctionStat.ArgList.forEach((p,f)=>{s(p);let d=e.FunctionStat.Token_ArgCommaList[f];d!=null&&s(d)}),e.FunctionStat.Token_Varg&&s(e.FunctionStat.Token_Varg),s(e.FunctionStat.Token_CloseParen),_(e.FunctionStat.Token_CloseParen,e.FunctionStat.Body,e.FunctionStat.Token_End);else if(e.Type=="FunctionStat")s(e.Token_Function),e.NameChain.forEach((p,f)=>{f==0?m(e.Token_Function,p):s(p);let d=e.Token_NameChainSeperator[f];d!=null&&s(d)}),s(e.Token_OpenParen),e.ArgList.forEach((p,f)=>{s(p);let d=e.Token_ArgCommaList[f];d!=null&&s(d)}),e.Token_Varg&&s(e.Token_Varg),s(e.Token_CloseParen),_(e.Token_CloseParen,e.Body,e.Token_End);else if(e.Type=="RepeatStat")s(e.Token_Repeat),_(e.Token_Repeat,e.Body,e.Token_Until),c(e.Condition),m(e.Token_Until,e.Condition.GetFirstToken());else if(e.Type=="GenericForStat")s(e.Token_For),e.VarList.forEach((p,f)=>{f==0?m(e.Token_For,p):s(p);let d=e.Token_VarCommaList[f];d!=null&&s(d)}),m(e.VarList[e.VarList.length-1],e.Token_In),e.GeneratorList.forEach((p,f)=>{c(p),f==0&&m(e.Token_In,p.GetFirstToken());let d=e.Token_GeneratorCommaList[f];d!=null&&s(d)}),m(e.GeneratorList[e.GeneratorList.length-1].GetLastToken(),e.Token_Do),_(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="NumericForStat")s(e.Token_For),e.VarList.forEach((p,f)=>{f==0?m(e.Token_For,p):s(p);let d=e.Token_VarCommaList[f];d!=null&&s(d)}),m(e.VarList[e.VarList.length-1],e.Token_Equals),e.RangeList.forEach((p,f)=>{c(p),f==0&&m(e.Token_Equals,p.GetFirstToken());let d=e.Token_RangeCommaList[f];d!=null&&s(d)}),m(e.RangeList[e.RangeList.length-1].GetLastToken(),e.Token_Do),_(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="WhileStat")s(e.Token_While),c(e.Condition),s(e.Token_Do),m(e.Token_While,e.Condition.GetFirstToken()),m(e.Condition.GetLastToken(),e.Token_Do),_(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="DoStat")s(e.Token_Do),s(e.Token_End),_(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="IfStat"){s(e.Token_If),c(e.Condition),m(e.Token_If,e.Condition.GetFirstToken()),m(e.Condition.GetLastToken(),e.Token_Then);let p=e.Token_Then,f=e.Body;e.ElseClauseList.forEach((d,g)=>{_(p,f,d.Token),p=d.Token,d.Condition!=null&&(c(d.Condition),m(d.Token,d.Condition.GetFirstToken()),m(d.Condition.GetLastToken(),d.Token_Then),p=d.Token_Then),L(d.Body),f=d.Body}),_(p,f,e.Token_End)}else if(e.Type=="CallExprStat")c(e.Expression);else if(e.Type=="CompoundStat")c(e.Lhs),s(e.Token_Compound),c(e.Rhs),m(e.Lhs.GetLastToken(),e.Token_Compound),m(e.Token_Compound,e.Rhs.GetFirstToken());else if(e.Type=="AssignmentStat")e.Lhs.forEach((p,f)=>{c(p);let d=e.Token_LhsSeperatorList[f];d!=null&&s(d)}),s(e.Token_Equals),e.Rhs.forEach((p,f)=>{c(p);let d=e.Token_RhsSeperatorList[f];d!=null&&s(d)});else return c(e)},L(oe)}function $e(oe){let L,c,s={NumberLiteral:!0,BooleanLiteral:!0,StringLiteral:!0,HashLiteral:!0,NilLiteral:!0,TableLiteral:!0,ParenExpr:!0,BinopExpr:!0};function m(t,l,u=null){let i;return i={Type:t,Token:{Type:u??"Number",LeadingWhite:"",Source:l},GetFirstToken:()=>i.Token,GetLastToken:()=>i.Token},i}function _(t,l,u){let i;return i={Type:"BinopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:t},Lhs:l,Rhs:u,GetFirstToken:()=>i.Lhs.GetFirstToken(),GetLastToken:()=>i.Rhs.GetLastToken()},i}function e(t,l){let u;return u={Type:"UnopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:t},Rhs:l,GetFirstToken:()=>u.Token_Op,GetLastToken:()=>u.Rhs.GetLastToken()},u}function p(t,l){if(l!=null)for(var[u,i]of Object.entries(l))t[u]=i}function f(t){if(t==null||t.substr==null)return;let l=t.substr(0,1),u;if((l=='"'||l=="'")&&(u=t.substr(1,t.length-2)),l=="["){let ge=0,ye=1;for(;t.substr(ye,1)=="=";)ge++,ye++;u=t.substr(2+ge,t.length-4-ge-2)}if(u==null)return"";let i="",G;for(G=0;G<=u.length;G++){let ge=u.substr(G,1);ge=="'"||ge=='"'?i+=`\\${ge}`:i+=ge}return i}function d(t){if(typeof t=="object"&&t.Type=="ParenExpr")return p(t,t.Expression)}function g(t,l,u){let i=l,G=u;if(l&&l.Type=="ParenExpr"&&(i=l.Expression),u&&u.Type=="ParenExpr"&&(G=u.Expression),i==null||G==null||i.Type==null||G.Type==null||i.Type=="VariableExpr"||i.Type=="CallExpr"||i.Type=="BinopExpr"||G.Type=="CallExpr"||G.Type=="BinopExpr"||G.Type=="VariableExpr")return;let ge=i.Token||i.Expression!=null&&i.Expression.Token||null,ye=G.Token||G.Expression!=null&&G.Expression.Token||null,Be=ge!=null?ge.Source:null,Ie=ye!=null?ye.Source:null,ae,Z;if(i.Type=="BooleanLiteral"&&(ae=Be=="true"),G.Type=="BooleanLiteral"&&(Z=Ie=="true"),!(i.Type=="NumberLiteral"&&(ae=N(Be),ae==null))&&!(G.Type=="NumberLiteral"&&(Z=N(Ie),Z==null))&&((i.Type=="StringLiteral"||i.Type=="HashLiteral")&&(ae=Be.toString()),(G.Type=="StringLiteral"||G.Type=="HashLiteral")&&(Z=Ie.toString()),ae!=null&&Z!=null)){if(t=="==")return ae==Z;if(t=="~=")return ae!=Z;if(t=="and")return ae&&Z;if(t=="or")return ae||Z;if(t==".."&&i.Type=="StringLiteral"&&G.Type=="StringLiteral")return`"${f(Be)+f(Ie)}"`;if(i.Type=="StringLiteral"&&(ae=N(f(ae))),G.Type=="StringLiteral"&&(Z=N(f(Z))),ae==null||Z==null)return;let ie;if(t=="+"&&(ie=ae+Z),t=="-"&&(ie=ae-Z),t=="*"&&(ie=ae*Z),t=="/"&&(ie=ae/Z),t=="^"&&(ie=ae**Z),t=="%"&&(ie=ae%Z),t==">"&&(ie=ae>Z),t=="<"&&(ie=ae<Z),t==">="&&(ie=ae>=Z),t=="<="&&(ie=ae<=Z),ie==!1||ie==!0||isFinite(ie)&&ie>-(10**6)&&ie<10**6)return ie}}function C(t,l){let u=l.Token||l.Expression||l.EntryList||l;if(u==null||u.Source==null&&l.Type!="TableLiteral"||l.Type=="VariableExpr"||l.Type=="CallExpr"||l.Type=="BinopExpr")return;let i=u.Source,G;if(l.Type=="TableLiteral"&&u!=null){let ge=[],ye=0,Be=!1,Ie=!1,ae=0;if(u.forEach((Z,ie)=>{if(Be)ge.push(Z);else if(Z.EntryType=="Value"||Z.EntryType=="Index")if((Z.Index==null||Z.Index.Type=="NumberLiteral")&&Z.Value){if((Z.Index!=null&&Z.Index.Token!=null&&Z.Index.Token.Source!==null?Z.Index.Token.Source:ae+1).toString()!==(++ae).toString())return Be=!0,Ie=!0,ge.push(Z);Z.Value.Type!="CallExpr"?ye++:(Be=!0,ge.push(Z))}else ge.push(Z)}),Ie)return;if(t=="#")return l.EntryList=ge,l.EntryList.length<=0?m("NumberLiteral",ye!==null?ye:l.EntryList.length):ye<=0?e("#",l):_("+",m("NumberLiteral",ye),e("#",l))}if(l.Type=="BooleanLiteral"&&(G=i=="true"),!(l.Type=="NumberLiteral"&&(G=N(i),G===null))){if(l.Type=="StringLiteral"&&(G=i.substr(1,i.length-2)),t=="not"&&l.Type!==null)return l.Type=="NilLiteral"||l.Type=="BooleanLiteral"&&G===!1;if(G!=null){if(t=="#")return G.length;if(t=="-")return-G}}}c=function(t){if(t.Type=="BinopExpr"){if(c(t.Lhs),c(t.Rhs),t.Lhs!=null&&t.Rhs!=null){let l=t.Token_Op;if(l!=null&&l.Source!=null){let u=g(l.Source,t.Lhs,t.Rhs);if(u!=null){if(typeof u=="boolean"){let i=m("BooleanLiteral",u.toString(),"Keyword");p(t,i);return}else if(typeof u=="number"){if(isFinite(u)==!0){let i=m("NumberLiteral",u.toString(),"Number");p(t,i);return}}else if(typeof u=="string"){let i=m("StringLiteral",u,"String");p(t,i);return}else if(typeof u=="object"){p(t,u);return}return}}if(t.Lhs.Type=="ParenExpr"){let i=t.Lhs.Expression;i.Type=="NumberLiteral"||i.Type=="StringLiteral"||i.Type=="NilLiteral"||i.Type=="BooleanLiteral"||i.Type=="HashLiteral"}if(t.Rhs.Type=="ParenExpr"){let i=t.Rhs.Expression;i.Type=="NumberLiteral"||i.Type=="StringLiteral"||i.Type=="NilLiteral"||i.Type=="BooleanLiteral"||i.Type=="HashLiteral"}}}else if(t.Type=="UnopExpr"){if(c(t.Rhs),t.Rhs!=null&&s[t.Rhs.Type]==!0){let l=t.Token_Op;if(l!=null&&l.Source!=null){let u=t.Rhs.Expression!=null?t.Rhs.Expression:t.Rhs,i=C(l.Source,u);if(i!=null){if(typeof i=="boolean"){let G=m("BooleanLiteral",i.toString(),"Keyword");p(t,G);return}else if(typeof i=="number"){if(isFinite(i)==!0){let G=m("NumberLiteral",i,"Number");p(t,G);return}}else if(typeof i=="string"){let G=m("StringLiteral",i,"String");p(t,G);return}else if(typeof i=="object"){p(t,i);return}return}}}}else if(t.Type=="NumberLiteral"||t.Type=="StringLiteral"||t.Type=="NilLiteral"||t.Type=="BooleanLiteral"||t.Type=="VargLiteral"||t.Type=="HashLiteral"){let l=t.Token;if(l!=null){if(l.Type=="Number"){let u=l.Source.toString().split("e");if(u.length===2){let i=N(u[0]),G=N(u[1]);isFinite(i)&&isFinite(G)&&i**G<999999999&&!l.Source.includes("+")&&l.Source.includes(".")&&!l.Source.includes("-")&&(l.Source=(i**G).toString())}}l.Type=="String"&&(l.Source=l.Source.replace(/\\\d+/gi,u=>{let i=N(u.substr(1,u.length-1));return i&&isFinite(i)&&(i>=97&&i<=122||i>=65&&i<=90||i>=33&&i<=47||i>=58&&i<=64||i>=91&&i<=96||i>=123&&i<=126)&&i!==34&&i!==39&&i!==92?String.fromCharCode(i):u}))}}else if(t.Type=="FieldExpr")c(t.Base);else if(t.Type=="IndexExpr")c(t.Base),c(t.Index);else if(t.Type=="MethodExpr"||t.Type=="CallExpr"){if(c(t.Base),t.FunctionArguments.CallType=="ArgCall"?t.FunctionArguments.ArgList.forEach((l,u)=>{c(l)}):t.FunctionArguments.CallType=="TableCall"&&c(t.FunctionArguments.TableExpr),t.Base.Type==="ParenExpr"&&t.Base.Expression.Type==="FunctionLiteral"&&t.FunctionArguments.CallType==="ArgCall"){let l=t.Base.Expression;t.FunctionArguments.ArgList.forEach((u,i)=>{let G=t.FunctionArguments.ArgList[i];if(G!==void 0&&(G.Type=="NumberLiteral"||G.Type=="StringLiteral"||G.Type=="NilLiteral"||G.Type=="BooleanLiteral"||G.Type=="HashLiteral")){let ge=l.ArgList[i];ge&&ge.var.RenameList.forEach(ye=>{ye(G.Token.Source,!0)})}})}}else if(t.Type=="FunctionLiteral")L(t.Body);else if(t.Type!="VariableExpr")if(t.Type=="ParenExpr"){let l=t.Expression;l!=null&&l.Type=="ParenExpr"&&(t.Expression=l.Expression),c(t.Expression),(t.Type=="NumberLiteral"||t.Type=="StringLiteral"||t.Type=="NilLiteral"||t.Type=="BooleanLiteral"||t.Type=="VargLiteral"||t.Type=="HashLiteral")&&d(t)}else t.Type=="TableLiteral"&&t.EntryList.forEach((l,u)=>{l.EntryType=="Field"?c(l.Value):l.EntryType=="Index"?(c(l.Index),c(l.Value)):l.EntryType=="Value"?c(l.Value):M(!1,"unreachable")})},L=function(t){if(t.Type=="StatList")t.StatementList.forEach((l,u)=>{l===null||l.Type===null||(l.Remove=()=>{t.StatementList[u]=null},L(l))});else if(t.Type!="BreakStat"){if(t.Type!="ContinueStat")if(t.Type=="ReturnStat")t.ExprList.forEach((l,u)=>{c(l)});else if(t.Type=="LocalVarStat")t.Token_Equals!=null&&t.ExprList.forEach((l,u)=>{c(l)});else if(t.Type=="LocalFunctionStat")L(t.FunctionStat.Body),t.FunctionStat.NameChain.length===1&&t.FunctionStat.NameChain[0].UseCount;else if(t.Type=="FunctionStat")L(t.Body);else if(t.Type=="RepeatStat")L(t.Body),c(t.Condition),t.Body.Type=="StatList"&&t.Body.StatementList.length;else if(t.Type=="GenericForStat")t.GeneratorList.forEach((l,u)=>{c(l)}),L(t.Body);else if(t.Type=="NumericForStat"){t.RangeList.forEach((Z,ie)=>{c(Z)}),L(t.Body);let l=t.RangeList[0],u=t.RangeList[1],i=t.RangeList[2];if(l==null||u==null)return t.Remove();if(d(l),d(u),d(i),l.Type!="NumberLiteral"||u.Type!="NumberLiteral"||i!=null&&i.Type!="NumberLiteral"||i==null)return;let G=N(l.Token.Source),ge=N(u.Token.Source),ye=i!=null&&N(i.Token.Source)||1,Be=ye>0&&G<=ge||ye<0&&G>=ge,Ie=(ge-G+ye)/ye;if(!(Be&&Ie>=0)||t.Body.Type=="StatList"&&t.Body.StatementList.length===0)return t.Remove()}else if(t.Type=="WhileStat"){c(t.Condition),L(t.Body);let l=t.Condition;switch(l.Type){case"ParenExpr":l=l.Expression;case"BooleanLiteral":if(l==null||l.Token==null||l.Token.Source!=="false")break;case"NilLiteral":t.Remove();break}}else if(t.Type=="DoStat"){if(L(t.Body),t.Body===null||t.Body.Type=="StatList"&&t.Body.StatementList.length===0)return t.Remove();if(t.Body.StatementList.length===1){let l=t.Body.StatementList[0];l.Type!=="ContinueStat"&&l.Type!=="BreakStat"&&l.Type!=="ReturnStat"&&p(t,l)}}else if(t.Type=="IfStat"){c(t.Condition),L(t.Body),t.ElseClauseList.forEach((u,i)=>{u.Condition!=null&&c(u.Condition),L(u.Body)});let l=t.Condition;switch(l.Type){case"ParenExpr":l=l.Expression;case"BooleanLiteral":if(t.ElseClauseList.length>=1||l==null||l.Token==null||l.Token.Source!=="false")break;case"NilLiteral":t.Remove();break}}else t.Type=="CallExprStat"?c(t.Expression):t.Type=="CompoundStat"?(c(t.Lhs),c(t.Rhs)):t.Type=="AssignmentStat"&&(t.Lhs.forEach((l,u)=>{c(l)}),t.Rhs.forEach((l,u)=>{c(l)}))}},L(oe)}let me=[],Fe;for(Fe=97;Fe<=122;Fe++)me.push(String.fromCharCode(Fe));for(Fe=65;Fe<=90;Fe++)me.push(String.fromCharCode(Fe));for(Fe=48;Fe<=57;Fe++)me.push(String.fromCharCode(Fe));me.push("_");let Ke=[];for(Fe=97;Fe<=122;Fe++)Ke.push(String.fromCharCode(Fe));for(Fe=65;Fe<=90;Fe++)Ke.push(String.fromCharCode(Fe));function it(oe){let L="",c=oe%Ke.length;for(oe=(oe-c)/Ke.length,L=`${L}${Ke[c]}`;oe>0;){let s=oe%me.length;oe=(oe-s)/me.length,L=`${L}${me[s]}`}return L}function b(oe,L,c){let s=[];for(var[m,_]of Object.entries(rt))s[m]=!0;let e=[];oe.forEach(C=>{C.AssignedTo&&c?e.push(C):s[C.Name]=!0});function p(C){C.VariableList.forEach(t=>{e.push(t)}),C.ChildScopeList.forEach(t=>{p(t)})}p(L),e.forEach(C=>{C.UsedNameArray=[]}),e.sort((C,t)=>C-t);let f=0,d=[];function g(C){let t=d[C];if(t==null){for(t=it(f),f++;s[t];)t=it(f),f++;d[C]=t}return t}e.forEach((C,t)=>{C.Renamed=!0;let l=0;for(;C.UsedNameArray[l];)l++;C.Rename(g(l)),C.Scope?e.forEach(u=>{u.Renamed||(!u.Scope||u.Scope.Depth<C.Scope.Depth?u.ReferenceLocationList.some(i=>i>=C.BeginLocation&&i<=C.ScopeEndLocation?(u.UsedNameArray[l]=!0,!0):!1):u.Scope.Depth>C.Scope.Depth?C.ReferenceLocationList.some(i=>i>=u.BeginLocation&&i<=u.ScopeEndLocation?(u.UsedNameArray[l]=!0,!0):!1):C.BeginLocation<u.EndLocation&&C.EndLocation>u.BeginLocation&&(u.UsedNameArray[l]=!0))}):e.forEach(u=>{if(!u.Renamed)if(u.Type=="Global")u.UsedNameArray[l]=!0;else if(u.Type=="Local")C.ReferenceLocationList.some(i=>i>=u.BeginLocation&&i<=u.ScopeEndLocation?(u.UsedNameArray[l]=!0,!0):!1);else throw"Unreachable"})})}function X(oe,L,c){let s=[];oe.forEach(f=>{(!f.AssignedTo||!c)&&(s[f.Name]=!0)});let m=1,_=1;function e(f,d){f.Name=d,f.RenameList.forEach(g=>{g(d)})}if(c){let f={};oe.forEach(d=>{d.AssignedTo&&!d.ChangedName&&(f[d.Name]=f[d.Name]||`G_${_}_`,d.ChangedName=!0,e(d,f[d.Name]),_++)})}function p(f){f.VariableList.forEach(d=>{let g=`L_${m}_`;d.Info.Type=="Argument"?g=`${g}arg${d.Info.Index}`:d.Info.Type=="LocalFunction"?g=`${g}func`:d.Info.Type=="ForRange"&&(g=`${g}forvar${d.Info.Index}`),e(d,g),m++}),f.ChildScopeList.forEach(d=>{p(d)})}p(L)}let Y=`--[[
	Code generated using github.com/Herrtt/luamin.js
	An open source Lua beautifier and minifier.
--]]

`,Qe={};Qe.Minify=function(oe,L){let c=pe(oe),[s,m]=_t(c);L.RenameVariables==!0&&b(s,m,L.RenameGlobals),L.SolveMath==!0&&$e(c),gt(c);let _=ht(c);return _=`${Y}

${_}`,_},Qe.Beautify=function(oe,L){let c=pe(oe),[s,m]=_t(c);L.RenameVariables&&X(s,m,L.RenameGlobals),L.SolveMath==!0&&$e(c),H(c);let _=ht(c);return _=`${Y}

${_}`,_};try{ft!=null&&ft.exports!=null&&(ft.exports.Beautify=Qe.Beautify,ft.exports.Minify=Qe.Minify)}catch{}})($t);var wa=$t.exports;const Kt=wa;Ut.Beautify=Kt.Beautify;Ut.Minify=Kt.Minify;Ut.Uglify=Kt.Uglify;const Zt={master:`return {
  desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  hideminimap=false,
  id="ENDLESS",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="无尽",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    balatro="default",
    bananabush_portalrate="default",
    basicresource_regrowth="always",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_bearger="default",
    mutated_bird_gestalt="default",
    mutated_birds="default",
    mutated_buzzard_gestalt="default",
    mutated_deerclops="default",
    mutated_hounds="default",
    mutated_merm="default",
    mutated_spiderqueen="default",
    mutated_warg="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="always",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="none",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wanderingtrader_enabled="always",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="endless",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  settings_id="ENDLESS",
  settings_name="无尽",
  substitutes={  },
  version=4,
  worldgen_desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  worldgen_id="ENDLESS",
  worldgen_name="无尽" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="always",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    moon_spider="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    mutated_birds="default",
    mutated_merm="default",
    mutated_spiderqueen="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="always",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="none",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},ea={master:`return {
  desc="标准《饥荒》体验。",
  hideminimap=false,
  id="SURVIVAL_TOGETHER",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="生存",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    balatro="default",
    bananabush_portalrate="default",
    basicresource_regrowth="none",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_bearger="default",
    mutated_bird_gestalt="default",
    mutated_birds="default",
    mutated_buzzard_gestalt="default",
    mutated_deerclops="default",
    mutated_hounds="default",
    mutated_merm="default",
    mutated_spiderqueen="default",
    mutated_warg="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="none",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="default",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wanderingtrader_enabled="always",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="survival",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="标准《饥荒》体验。",
  settings_id="SURVIVAL_TOGETHER",
  settings_name="生存",
  substitutes={  },
  version=4,
  worldgen_desc="标准《饥荒》体验。",
  worldgen_id="SURVIVAL_TOGETHER",
  worldgen_name="生存" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="none",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    moon_spider="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    mutated_birds="default",
    mutated_merm="default",
    mutated_spiderqueen="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="none",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="default",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},ta={master:`return {
  desc="更轻松的游戏方式，更少受到来自世界的威胁。\\
饥饿、寒冷、过热和黑暗将不会杀死冒险家。\\
降低冒险家受到的伤害。永远可以在绚丽之门复活。",
  hideminimap=false,
  id="RELAXED",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="轻松",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    balatro="default",
    bananabush_portalrate="default",
    basicresource_regrowth="none",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="rare",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="nonlethal",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="none",
    hound_mounds="default",
    houndmound="default",
    hounds="rare",
    hunger="nonlethal",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="always",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_bearger="default",
    mutated_bird_gestalt="default",
    mutated_birds="default",
    mutated_buzzard_gestalt="default",
    mutated_deerclops="default",
    mutated_hounds="default",
    mutated_merm="default",
    mutated_spiderqueen="default",
    mutated_warg="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="always",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="none",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="rare",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="nonlethal",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wanderingtrader_enabled="always",
    wasps="default",
    weather="default",
    wildfires="never",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="relaxed",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="更轻松的游戏方式，更少受到来自世界的威胁。\\
饥饿、寒冷、过热和黑暗将不会杀死冒险家。\\
降低冒险家受到的伤害。永远可以在绚丽之门复活。",
  settings_id="RELAXED",
  settings_name="轻松",
  substitutes={  },
  version=4,
  worldgen_desc="更轻松的游戏方式，更少受到来自世界的威胁。\\
饥饿、寒冷、过热和黑暗将不会杀死冒险家。\\
降低冒险家受到的伤害。永远可以在绚丽之门复活。",
  worldgen_id="RELAXED",
  worldgen_name="轻松" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="none",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="rare",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="nonlethal",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="none",
    hunger="nonlethal",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="always",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    moon_spider="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    mutated_birds="default",
    mutated_merm="default",
    mutated_spiderqueen="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="always",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="none",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="rare",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="nonlethal",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},aa={master:`return {
  desc="外面就是荒野，充满了危险！\\
随机进入世界的一个地方。\\
死亡之后：选一名新冒险家试一下、再试一下。",
  hideminimap=false,
  id="WILDERNESS",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="荒野",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    balatro="default",
    bananabush_portalrate="default",
    basicresource_regrowth="always",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="none",
    ghostsanitydrain="none",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_bearger="default",
    mutated_bird_gestalt="default",
    mutated_birds="default",
    mutated_buzzard_gestalt="default",
    mutated_deerclops="default",
    mutated_hounds="default",
    mutated_merm="default",
    mutated_spiderqueen="default",
    mutated_warg="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="none",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="none",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="scatter",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wanderingtrader_enabled="always",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="wilderness",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="外面就是荒野，充满了危险！\\
随机进入世界的一个地方。\\
死亡之后：选一名新冒险家试一下、再试一下。",
  settings_id="WILDERNESS",
  settings_name="荒野",
  substitutes={  },
  version=4,
  worldgen_desc="外面就是荒野，充满了危险！\\
随机进入世界的一个地方。\\
死亡之后：选一名新冒险家试一下、再试一下。",
  worldgen_id="WILDERNESS",
  worldgen_name="荒野" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="always",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="none",
    ghostsanitydrain="none",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    moon_spider="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    mutated_birds="default",
    mutated_merm="default",
    mutated_spiderqueen="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="none",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="none",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="scatter",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},na={master:`return {
  desc="在标准《饥荒》体验的基础上添加黑暗基调。",
  hideminimap=false,
  id="LIGHTS_OUT",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="暗无天日",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    balatro="default",
    bananabush_portalrate="default",
    basicresource_regrowth="none",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="onlynight",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_bearger="default",
    mutated_bird_gestalt="default",
    mutated_birds="default",
    mutated_buzzard_gestalt="default",
    mutated_deerclops="default",
    mutated_hounds="default",
    mutated_merm="default",
    mutated_spiderqueen="default",
    mutated_warg="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="none",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="default",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="darkness",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wanderingtrader_enabled="always",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="lightsout",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="在标准《饥荒》体验的基础上添加黑暗基调。",
  settings_id="LIGHTS_OUT",
  settings_name="暗无天日",
  substitutes={  },
  version=4,
  worldgen_desc="在标准《饥荒》体验的基础上添加黑暗基调。",
  worldgen_id="LIGHTS_OUT",
  worldgen_name="暗无天日" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="none",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="onlynight",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    moon_spider="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    mutated_birds="default",
    mutated_merm="default",
    mutated_spiderqueen="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="none",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="default",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},Sa={master:`return {
  background_node_range={ 0, 1 },
  desc="你敢去熔炉里证明你自己的实力吗？",
  hideminimap=false,
  id="LAVAARENA",
  location="lavaarena",
  max_playlist_position=999,
  min_playlist_position=0,
  name="熔炉",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    autumn="default",
    basicresource_regrowth="none",
    beefaloheat="default",
    boons="never",
    brightmarecreatures="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    dropeverythingondespawn="default",
    extrastartingitems="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    keep_disconnected_tiles=true,
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    poi="never",
    portalresurection="none",
    protected="never",
    resettime="default",
    roads="never",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spring="default",
    start_location="lavaarena",
    summer="default",
    task_set="lavaarena_taskset",
    temperaturedamage="default",
    touchstone="never",
    traps="never",
    winter="default",
    winters_feast="default",
    world_size="small",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "lavaarena_portal" },
  settings_desc="你敢去熔炉里证明你自己的实力吗？",
  settings_id="LAVAARENA",
  settings_name="熔炉",
  substitutes={  },
  version=2,
  worldgen_desc="你敢去熔炉里证明你自己的实力吗？",
  worldgen_id="LAVAARENA",
  worldgen_name="熔炉" 
}`},La={master:`return {
  background_node_range={ 0, 1 },
  desc="你能经受暴食的挑战吗？",
  hideminimap=false,
  id="QUAGMIRE",
  location="quagmire",
  max_playlist_position=999,
  min_playlist_position=0,
  name="暴食",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    autumn="default",
    basicresource_regrowth="none",
    beefaloheat="default",
    boons="never",
    branching="random",
    brightmarecreatures="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    disease_delay="none",
    dropeverythingondespawn="default",
    extrastartingitems="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    keep_disconnected_tiles=false,
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    loop_percent=0,
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    petrification="none",
    poi="never",
    portalresurection="none",
    prefabswaps_start="classic",
    protected="never",
    resettime="default",
    roads="never",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spring="default",
    start_location="quagmire_startlocation",
    summer="default",
    task_set="quagmire_taskset",
    temperaturedamage="default",
    touchstone="never",
    traps="never",
    wildfires="never",
    winter="default",
    winters_feast="default",
    world_size="small",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "quagmire_portal" },
  settings_desc="你能经受暴食的挑战吗？",
  settings_id="QUAGMIRE",
  settings_name="暴食",
  substitutes={  },
  version=2,
  worldgen_desc="你能经受暴食的挑战吗？",
  worldgen_id="QUAGMIRE",
  worldgen_name="暴食" 
}`},Va=["󰀆","󰀑","󰀇","󰀃","󰀊","󰀕","󰀭","󰀅","󰀍","󰀘","󰀮","󰀩","󰀠","󰀈","󰀛","󰀋","󰀏","󰀫","󰀝","󰀄","󰀐","󰀓","󰀁","󰀨","󰀣","󰀤","󰀔","󰀂","󰀧","󰀒","󰀦","󰀙","󰀞","󰀡","󰀯","󰀟","󰀗","󰀥","󰀚","󰀪","󰀌","󰀜","󰀬","󰀎","󰀖","󰀉","󰀀","󰀢"],Ca={class:"page-div"},Ea={class:"card-header"},Fa={style:{display:"flex","align-items":"center"}},Ma={key:0},xa={style:{display:"flex","align-items":"center"}},Aa={style:{display:"flex","align-items":"center"}},Ra={style:{display:"flex","align-items":"center"}},Ba={style:{display:"flex","align-items":"center"}},Ga={style:{display:"flex","align-items":"center"}},Ia={style:{display:"flex","align-items":"center"}},Pa={style:{display:"flex","align-items":"center"}},Ua={style:{display:"flex","align-items":"center"}},za={style:{display:"flex","align-items":"center"}},Da={class:"el-form-item-msg"},Na={class:"card-header"},qa={style:{display:"flex","flex-wrap":"wrap"}},Oa={style:{width:"99%"}},Wa={style:{width:"100%"}},$a={style:{"font-weight":"bolder"}},Ka={class:"item-container"},ja={style:{"font-weight":"bolder"}},Ha={class:"item-container"},Qa={style:{"font-weight":"bolder"}},Ja={class:"item-container"},Xa={style:{"font-weight":"bolder"}},Ya={class:"item-container"},Za={style:{"font-weight":"bolder"}},en={class:"item-container"},tn={style:{"font-weight":"bolder"}},an={class:"item-container"},nn={style:{"font-weight":"bolder"}},ln={class:"item-container"},on={style:{"font-weight":"bolder"}},rn={class:"item-container"},un={style:{"font-weight":"bolder"}},sn={class:"item-container"},dn={style:{"font-weight":"bolder"}},fn={class:"item-container"},cn={style:{"font-weight":"bolder"}},mn={class:"item-container"},pn={style:{"font-weight":"bolder"}},gn={class:"item-container"},_n={style:{"font-weight":"bolder"}},hn={class:"item-container"},yn={style:{"font-weight":"bolder"}},Tn={class:"item-container"},bn={style:{"font-weight":"bolder"}},kn={class:"item-container"},vn={style:{"font-weight":"bolder"}},wn={class:"item-container"},Sn={style:{"font-weight":"bolder"}},Ln={class:"item-container"},Vn={style:{"font-weight":"bolder"}},Cn={class:"item-container"},En={style:{"font-weight":"bolder"}},Fn={class:"item-container"},Mn={style:{"font-weight":"bolder"}},xn={class:"item-container"},An={style:{"font-weight":"bolder"}},Rn={class:"item-container"},Bn={style:{"font-weight":"bolder"}},Gn={class:"item-container"},In={style:{"font-weight":"bolder"}},Pn={class:"item-container"},Un={style:{"font-weight":"bolder"}},zn={class:"item-container"},Dn={style:{"font-weight":"bolder"}},Nn={class:"item-container"},qn={class:"tip"},On={style:{display:"flex","align-items":"center"}},Wn={style:{display:"flex","justify-content":"flex-end"}},$n={class:"tip_warning"},Kn={style:{margin:"10px"}},jn={style:{display:"flex","justify-content":"flex-end","padding-top":"10px"}},Hn={style:{display:"flex","align-items":"center"}},Qn={key:0,style:{width:"100%"}},Jn={class:"emoji-container mt-4 mb-6"},Xn=["onClick"],Yn={__name:"room",setup(ft){const{t:y}=sa();da(async()=>{Ce.value=ka(14),N.value=window.innerHeight,window.addEventListener("resize",()=>{N.value=window.innerHeight}),await rt(),await Tt(),await ut(),await Fe(),g()});const Ce=Le(""),M=Le(!1),N=Le(0),{isMobile:he}=fa(),ce=ca(),Ee=ma(),ct=Wt(()=>ce.isDark),ke=Wt(()=>ce.language),mt=Ee.userInfo,Ne=Wt(()=>{const w=(Oe.value||[]).findIndex(J=>J.clusterName===ce.selectedDstCluster);return w!==-1?w:0}),pt=pa();ga();const ot=_a(),He=ha("refresh"),Xe=(E,w)=>{let J=null;return(...h)=>{J&&clearTimeout(J),J=setTimeout(()=>E(...h),w)}},Oe=Le([]),rt=()=>{yt.clusters.all.get().then(E=>{Oe.value=E.data})},We=()=>{yt.clusters.get().then(E=>{ce.dstClusters=E.data,ce.selectedDstCluster===null&&ce.dstClusters!==null&&(ce.selectedDstCluster=ce.dstClusters[0].clusterName)})},Ye=Le(0),ut=()=>{ya.userInfo.get().then(E=>{Ye.value=E.data.maxWorldsPerCluster})},Ze=()=>{setTimeout(()=>{pt.meta.isKeepAlive&&ot.removeKeepAliveName(pt.name),He(!1),wt(()=>{pt.meta.isKeepAlive&&ot.addKeepAliveName(pt.name),He(!0)})},0)},re=Le(0),_e=Le(!1),pe=E=>{re.value>E&&(re.value=E)},at=()=>{re.value--},_t=async()=>{if(re.value===0){if(H.value.gameMode==="custom"&&H.value.customGameMode===""){tt(ke.value==="zh"?"请输入自定义模式":"Please input custom game mode");return}ht.value.validate(async E=>{E&&(me.value||(_.value=1,e.value="World1",p.value=[{id:101,name:"World1",isMaster:!0,levelData:"",serverPort:11001+Ne.value*10,shardMasterPort:10888+Ne.value*10,steamMasterPort:27018+Ne.value*10,steamAuthenticationPort:8768+Ne.value*10,shardMasterIp:"127.0.0.1",clusterKey:Ce.value,encodeUserPath:!0,saved:!1}]),re.value++)})}if(re.value===1){if(mt.role!=="admin"&&p.value.length>Ye.value){let w="";ke.value==="zh"?w=`超过最大可创建世界数量，当前最大可创建世界数为${Ye.value}`:w=`Exceeds the maximum number of worlds that can be created. The current maximum is ${Ye.value}`,tt(w);return}const E=["serverPort","shardMasterPort","steamMasterPort","steamAuthenticationPort"];for(let w of p.value)for(const J of ie.value)if(J.clusterName!==ce.selectedDstCluster){for(let h of E)if(J.worldPort!==null&&J.worldPort.includes(w[h])){tt(`[${y(`setting.roomWorldForm.${h}`)}]:${w[h]} ${ke.value==="zh"?"端口冲突，请检查并修改":"Port Conflicted, please check and modify"}`,3e3);return}}for(let w in d)d!=null&&d.key&&await d[w].validate();for(let w of p.value){if(w.levelData===""){tt(ke.value==="zh"?"请输入世界配置":"Please input world configure");return}if(w.shardMasterPort!==p.value[0].shardMasterPort){tt(ke.value==="zh"?"主节点端口必须一致":"Master Port must be same");return}try{It.parse(w.levelData)}catch{tt(y("setting.luaError"));return}}re.value++;return}if(re.value===2)if($e.value)try{It.parse($e.value.mod),re.value++}catch{tt(y("setting.luaError"))}else re.value++},ht=Le(),H=Le({clusterName:ce.selectedDstCluster,name:"",description:"",gameMode:"",customGameMode:"",pvp:!1,playerNum:6,backDays:10,vote:!1,consoleEnabled:!0,pauseEmptyDisabled:!1,password:"",token:""}),gt={name:[{required:!0,message:y("setting.roomBaseFormRules.name"),trigger:"blur"}],masterPort:[{required:!0,message:y("setting.roomBaseFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:y("setting.roomBaseFormRules.cavesPort"),trigger:"blur"}],gameMode:[{required:!0,message:y("setting.roomBaseFormRules.gameMode"),trigger:"change"}],token:[{required:!0,message:y("setting.roomBaseFormRules.token"),trigger:"blur"}]},$e=Le({mod:""}),me=Le(!1),Fe=()=>{const E={clusterName:ce.selectedDstCluster};yt.cluster.get(E).then(w=>{if(H.value=w.data.clusterSetting,w.data.worlds){p.value=w.data.worlds;let J=1,h=999999;for(let F of p.value){let V=parseInt(F.name.replace("World",""));V>J&&(J=V),V<h&&(h=V),F.saved=!0,Ce.value=F.clusterKey}_.value=J,e.value="World"+h.toString(),me.value=!0}else me.value=!1;$e.value.mod=w.data.mod})},Ke=async E=>{switch(E){case"save":it();break;case"saveAndRestart":b();break;case"generateNewWorld":X();break}},it=()=>{H.value.gameMode!=="custom"&&(H.value.customGameMode="");const E={clusterSetting:H.value,worlds:p.value,mod:$e.value.mod,sysSetting:{}};M.value=!0,yt.cluster.save.post(E).then(w=>{Bt(w.message),M.value=!1,We()}).finally(()=>{M.value=!1,wt(()=>{Ze()})})},b=()=>{H.value.gameMode!=="custom"&&(H.value.customGameMode="");const E={clusterSetting:H.value,worlds:p.value,mod:$e.value.mod,sysSetting:{}};M.value=!0,yt.cluster.saveRestart.post(E).then(w=>{Bt(w.message),M.value=!1,We()}).finally(()=>{M.value=!1,wt(()=>{Ze()})})},X=()=>{H.value.gameMode!=="custom"&&(H.value.customGameMode="");const E={clusterSetting:H.value,worlds:p.value,mod:$e.value.mod,sysSetting:{}};M.value=!0,yt.cluster.saveRegenerate.post(E).then(w=>{Bt(w.message),M.value=!1,We()}).finally(()=>{M.value=!1,wt(()=>{Ze()})})},Y=Le({}),Qe=E=>{if(E==="")return;const w=It.parse(E),J=oe(w);Y.value=L(J)};function oe(E){const J=E.body[0].arguments[0];for(const h of J.fields)if(h.key.type==="Identifier"&&h.key.name==="overrides")return h.value;return null}function L(E){const w={};for(const J of E.fields){const h=J.key.name;w[h]=J.value.raw.replace(/"/g,"")}return w}const c=E=>{let w=Ut.Beautify(E,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1});return w=w.replace(/--\[\[\n\t.+\n\t.+\n--]]\n\n\n\n\n/g,""),w=w.replace(/ = /g,"="),w=w.replace(/\t/g,"  "),w=w.replace(/overrides=\{ +(.+)\n/g,`overrides={
    $1
`),w=w.replace(/^(\w+)=(.+)\n/gm,`    $1=$2
`),w=w.replace(/(.+)},\n/g,`$1
  },
`),w=w.replace(/^ +?\n/gm,""),w},s=Xe(E=>{const w=E.name,J=E.value;for(let h of p.value)if(h.name===e.value){const F=It.parse(h.levelData),V=oe(F);for(let S of V.fields)S.key.name===w&&(S.value.raw=`"${J}"`);h.levelData=m(F);break}},100),m=(E,w=0)=>{const J="    ".repeat(w);switch(E.type){case"Chunk":return E.body.map(h=>m(h,w)).join(`
`);case"LocalStatement":return`${J}local ${E.variables.map(m).join(", ")} = ${E.init.map(m).join(", ")}`;case"FunctionDeclaration":return`${J}function ${m(E.identifier)}(${E.parameters.map(m).join(", ")}) 
${m(E.body,w+1)}
${J}end`;case"ReturnStatement":return`${J}return ${E.arguments.map(m).join(", ")}`;case"BinaryExpression":return`${m(E.left)} ${E.operator} ${m(E.right)}`;case"CallStatement":return`${J}${m(E.expression)}`;case"Identifier":return E.name;case"StringLiteral":return`${E.raw}`;case"NumericLiteral":return E.raw;case"VarargLiteral":return"...";case"TableConstructorExpression":return`${J}{ ${E.fields.map(h=>m(h,w+1)).join(`,
`+J)} }`;case"Field":return E.key?`${m(E.key)} = ${m(E.value)}`:m(E.value);case"AssignmentStatement":return`${J}${E.variables.map(m).join(", ")} = ${E.init.map(m).join(", ")}`;case"CallExpression":return`${m(E.base)}(${E.arguments.map(m).join(", ")})`;case"TableKeyString":return`${m(E.key)} = ${m(E.value)}`;case"BooleanLiteral":return E.raw;case"TableKey":return`[${m(E.key)}] = ${m(E.value)}`;case"TableValue":return m(E.value);default:throw new Error(`Unsupported node type: ${E.type}`)}},_=Le(1),e=Le("World1"),p=Le([{id:101,name:"World1",isMaster:!0,levelData:"",serverPort:11001+Ne.value*10,shardMasterPort:10888+Ne.value*10,steamMasterPort:27018+Ne.value*10,steamAuthenticationPort:8768+Ne.value*10,shardMasterIp:"127.0.0.1",clusterKey:Ce.value,encodeUserPath:!0}]),f={id:[{required:!0,message:y("setting.roomWorldFormRules.id"),trigger:"blur"}],isMaster:[{required:!0,trigger:"change"}],encodeUserPath:[{required:!0,trigger:"change"}],serverPort:[{required:!0,message:y("setting.roomWorldFormRules.masterPort"),trigger:"blur"}],shardMasterPort:[{required:!0,message:y("setting.roomWorldFormRules.shardMasterPort"),trigger:"blur"}],steamMasterPort:[{required:!0,message:y("setting.roomWorldFormRules.steamMasterPort"),trigger:"blur"}],steamAuthenticationPort:[{required:!0,message:y("setting.roomWorldFormRules.steamAuthenticationPort"),trigger:"blur"}],shardMasterIp:[{required:!0,message:y("setting.roomWorldFormRules.shardMasterIp"),trigger:"blur"}],clusterKey:[{required:!0,message:y("setting.roomWorldFormRules.clusterKey"),trigger:"blur"}]},d={},g=()=>{for(let E of p.value){const w=p.value.length;_.value=w,d[`World${w}`]=Le()}},C=(E,w)=>{if(w==="add"){_.value++;const J=`World${_.value}`;d[J]=Le(),p.value.push({id:_.value+100,name:J,isMaster:!1,levelData:"",serverPort:11e3+_.value+Ne.value*10,shardMasterPort:10888+Ne.value*10,steamMasterPort:27017+_.value+Ne.value*10,steamAuthenticationPort:8767+_.value+Ne.value*10,shardMasterIp:"127.0.0.1",clusterKey:Ce.value,encodeUserPath:!0}),e.value=J}else if(w==="remove"){if(p.value.length===1){tt(ke.value==="zh"?"每个房间至少含有一个世界":"Every room must include at least one world");return}const J=p.value;let h=e.value;J.forEach((F,V)=>{if(F.name===E){const S=J[V+1]||J[V-1];S&&(h=S.name)}}),e.value=h,p.value=J.filter(F=>F.name!==E),delete d[E]}t.value="Code"},t=Le("Code"),l=E=>{for(let w of p.value)w.name===e.value&&(E.clusterType==="endless"&&(E.worldType==="ground"&&(w.levelData=Zt.master),E.worldType==="cave"&&(w.levelData=Zt.caves)),E.clusterType==="survival"&&(E.worldType==="ground"&&(w.levelData=ea.master),E.worldType==="cave"&&(w.levelData=ea.caves)),E.clusterType==="relaxed"&&(E.worldType==="ground"&&(w.levelData=ta.master),E.worldType==="cave"&&(w.levelData=ta.caves)),E.clusterType==="wilderness"&&(E.worldType==="ground"&&(w.levelData=aa.master),E.worldType==="cave"&&(w.levelData=aa.caves)),E.clusterType==="lightsOut"&&(E.worldType==="ground"&&(w.levelData=na.master),E.worldType==="cave"&&(w.levelData=na.caves)),E.clusterType==="lavaarena"&&E.worldType==="ground"&&(w.levelData=Sa.master),E.clusterType==="quagmire"&&E.worldType==="ground"&&(w.levelData=La.master))},u=Le(""),i=async E=>{if(E==="Visualization")try{for(let w of p.value)if(w.name===e.value){u.value=G(w.levelData),await Qe(w.levelData);break}}catch{tt(ke.value==="zh"?"可视化配置加载失败":"Visualization load failed")}E==="Code"&&await wt(()=>{for(let w of p.value)if(w.name===e.value){w.levelData=c(w.levelData);break}})},G=E=>{const w=/location\s*=\s*"([^"]*)"/,J=E.match(w);return J?J[1]:""},ge=()=>{t.value="Code"},ye=Le(!1),Be=Le(""),Ie=Le([]),ae=()=>{Ie.value=[{ID:void 0,name:"",maxPlayers:void 0}],Be.value="",ye.value=!0},Z=()=>{let E="",w="";for(let J of Ie.value){if(!J.ID){tt(ke.value==="zh"?"世界ID未填写":"World ID is required");return}if(!J.name){tt(ke.value==="zh"?"世界名未填写":"World name is required");return}if(!J.maxPlayers){tt(ke.value==="zh"?"世界最大玩家数未填写":"World max players is required");return}E=E+`["${J.ID}"]="${J.name}",`,w=w+`["${J.ID}"]="${J.maxPlayers}",`}Be.value=`
  ["workshop-1438233888"]={
    configuration_options={
      auto_balancing=true,
      extra_worlds={},
      ignore_sinkholes=false,
      invisible_worlds={},
      language="auto",
      migration_postern=false,
      no_bat=true,
      population_limit={${w}},
      say_dest=true,
      world_name={${E}},
      world_prompt=true
    },
    enabled=true
  }`,Be.value="```lua ::open\n"+Be.value},ie=Le([]),Tt=()=>{yt.clustersWorldPort.get().then(E=>{ie.value=E.data})},et=Le(!1),je=Le("name"),Je=Le("copy"),bt=Le(),kt=Le(),vt=E=>{je.value=E,et.value=!0},st=Le(0),Lt=E=>{var w,J;if(Je.value==="insert")if(je.value==="name"){const h=(w=bt.value)==null?void 0:w.input;if(!h)return;const F=H.value.name,V=h.selectionStart||st.value,S=h.selectionEnd||st.value;H.value.name=F.substring(0,V)+E+F.substring(S);const I=V+E.length;st.value=I,setTimeout(()=>{h.setSelectionRange(I,I),h.focus()},0)}else{const h=(J=kt.value)==null?void 0:J.input;if(!h)return;const F=H.value.description,V=h.selectionStart||st.value,S=h.selectionEnd||st.value;H.value.description=F.substring(0,V)+E+F.substring(S);const I=V+E.length;st.value=I,setTimeout(()=>{h.setSelectionRange(I,I),h.focus()},0)}else nt(E).then(()=>{let h;ke.value==="zh"?h="复制成功":h="Copy Success",et.value=!1,Bt(h)}).catch(()=>{ke.value})};function nt(E,w,J){return new Promise((h,F)=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(E).then(()=>{h(E)}).catch(V=>{F(V)});else try{const V=document.createElement("textarea");V.value=E,V.style.position="fixed",V.style.opacity="0",document.body.appendChild(V),V.select();const S=document.execCommand("copy");if(document.body.removeChild(V),S)h(E);else throw new Error("复制失败，execCommand返回false")}catch(V){F(V)}})}return Ta(()=>ce.selectedDstCluster,E=>{E&&wt(()=>{Ze()})},{immediate:!1}),(E,w)=>{const J=Ae("el-step"),h=Ae("el-steps"),F=Ae("el-card"),V=Ae("el-col"),S=Ae("el-row"),I=Ae("QuestionFilled"),U=Ae("el-icon"),B=Ae("el-tooltip"),O=Ae("el-button"),te=Ae("el-input"),ne=Ae("el-form-item"),se=Ae("el-radio"),ve=Ae("el-radio-group"),ze=Ae("el-slider"),Te=Ae("el-switch"),De=Ae("el-link"),Ge=Ae("el-form"),Pe=Ae("el-scrollbar"),qe=Ae("el-dropdown-item"),Mt=Ae("el-dropdown-menu"),Vt=Ae("el-dropdown"),Ct=Ae("el-tab-pane"),Me=Ae("el-divider"),xt=Ae("el-tabs"),zt=Ae("el-result"),At=Ae("el-dialog");return R(),le("div",Ca,[T(S,{gutter:10},{default:v(()=>[T(V,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:v(()=>[T(F,{shadow:"never"},{default:v(()=>[T(h,{active:re.value,"align-center":"","finish-status":"success"},{default:v(()=>[T(J,{title:n(he)?n(y)("setting.roomSettingMobile"):n(y)("setting.roomSetting"),onClick:w[0]||(w[0]=q=>pe(0))},null,8,["title"]),T(J,{title:n(he)?n(y)("setting.worldSettingMobile"):n(y)("setting.worldSetting"),onClick:w[1]||(w[1]=q=>pe(1))},null,8,["title"]),T(J,{title:n(he)?n(y)("setting.modSettingMobile"):n(y)("setting.modSetting"),onClick:w[2]||(w[2]=q=>pe(3))},null,8,["title"]),T(J,{title:n(he)?n(y)("setting.finishSettingMobile"):n(y)("setting.finishSetting"),onClick:w[3]||(w[3]=q=>pe(2))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),T(S,{gutter:10,style:{"margin-top":"5px"}},{default:v(()=>[T(V,{lg:24,md:24,sm:24,span:24,xs:24},{default:v(()=>[re.value===0?(R(),ue(F,{key:0,shadow:"never"},{header:v(()=>[D("div",Ea,[D("span",null,P(n(y)("setting.roomSetting")),1)])]),default:v(()=>[T(Pe,{height:N.value-438},{default:v(()=>[T(Ge,{ref_key:"clusterSettingFormRef",ref:ht,"label-position":n(he)?"top":"left","label-width":n(he)?"70":"auto","hide-required-asterisk":"",model:H.value,rules:gt,size:n(he)?"small":"large",style:{"margin-right":"16px"}},{default:v(()=>[T(ne,{prop:"name",style:lt(n(he)?"padding-top: 0px":"padding-top: 25px")},{label:v(()=>[D("div",Fa,[D("span",null,P(n(y)("setting.baseForm.room")),1),T(B,{content:n(y)("setting.tip.stepOne.name"),effect:"light",placement:"top"},{default:v(()=>[T(U,{size:"14",style:{"margin-left":"2px"}},{default:v(()=>[T(I)]),_:1})]),_:1},8,["content"])])]),default:v(()=>[T(te,{modelValue:H.value.name,"onUpdate:modelValue":w[5]||(w[5]=q=>H.value.name=q)},{append:v(()=>[T(B,{content:n(y)("setting.iconTip"),effect:"light",placement:"top"},{default:v(()=>[T(O,{icon:"sc-icon-EmotionLine",onClick:w[4]||(w[4]=q=>vt("name"))})]),_:1},8,["content"])]),_:1},8,["modelValue"])]),_:1},8,["style"]),n(he)?Ve("",!0):(R(),le("div",Ma)),T(ne,{prop:"description",style:lt(n(he)?"padding-top: 0px":"padding-top: 25px")},{label:v(()=>[D("div",xa,[D("span",null,P(n(y)("setting.baseForm.description")),1),T(B,{content:n(y)("setting.tip.stepOne.description"),effect:"light",placement:"top"},{default:v(()=>[T(U,{size:"14",style:{"margin-left":"2px"}},{default:v(()=>[T(I)]),_:1})]),_:1},8,["content"])])]),default:v(()=>[T(te,{modelValue:H.value.description,"onUpdate:modelValue":w[7]||(w[7]=q=>H.value.description=q)},{append:v(()=>[T(B,{content:n(y)("setting.iconTip"),effect:"light",placement:"top"},{default:v(()=>[T(O,{icon:"sc-icon-EmotionLine",onClick:w[6]||(w[6]=q=>vt("description"))})]),_:1},8,["content"])]),_:1},8,["modelValue"])]),_:1},8,["style"]),T(ne,{prop:"gameMode",style:lt([n(he)?"padding-top: 0px":"padding-top: 25px",{display:"flex","align-items":"center"}])},{label:v(()=>[D("div",Aa,[D("span",null,P(n(y)("setting.baseForm.gameMode.name")),1),T(B,{content:n(y)("setting.tip.stepOne.gameMode"),effect:"light",placement:"top"},{default:v(()=>[T(U,{size:"14",style:{"margin-left":"2px"}},{default:v(()=>[T(I)]),_:1})]),_:1},8,["content"])])]),default:v(()=>[T(ve,{modelValue:H.value.gameMode,"onUpdate:modelValue":w[8]||(w[8]=q=>H.value.gameMode=q),style:{"margin-right":"20px"}},{default:v(()=>[T(se,{label:n(y)("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),T(se,{label:n(y)("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),T(se,{label:n(y)("setting.baseForm.gameMode.relaxed"),value:"relaxed"},null,8,["label"]),T(se,{label:n(y)("setting.baseForm.gameMode.wilderness"),value:"wilderness"},null,8,["label"]),T(se,{label:n(y)("setting.baseForm.gameMode.lightsOut"),value:"lightsOut"},null,8,["label"]),T(se,{label:n(y)("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),T(se,{label:n(y)("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"]),T(se,{label:n(y)("setting.baseForm.gameMode.custom"),value:"custom"},null,8,["label"])]),_:1},8,["modelValue"]),H.value.gameMode==="custom"?(R(),ue(te,{key:0,modelValue:H.value.customGameMode,"onUpdate:modelValue":w[9]||(w[9]=q=>H.value.customGameMode=q),placeholder:n(y)("setting.baseForm.gameMode.customInputPlaceholder"),style:{flex:"0 0 auto",width:"25%"}},null,8,["modelValue","placeholder"])):Ve("",!0)]),_:1},8,["style"]),T(ne,{prop:"playerNum",style:lt(n(he)?"padding-top: 0px":"padding-top: 25px")},{label:v(()=>[D("div",Ra,[D("span",null,P(n(y)("setting.baseForm.playerNum")),1),T(B,{content:n(y)("setting.tip.stepOne.playerNum"),effect:"light",placement:"top"},{default:v(()=>[T(U,{size:"14",style:{"margin-left":"2px"}},{default:v(()=>[T(I)]),_:1})]),_:1},8,["content"])])]),default:v(()=>[T(ze,{modelValue:H.value.playerNum,"onUpdate:modelValue":w[10]||(w[10]=q=>H.value.playerNum=q),max:64,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["style"]),T(ne,{prop:"backDays",style:lt(n(he)?"padding-top: 0px":"padding-top: 25px")},{label:v(()=>[D("div",Ba,[D("span",null,P(n(y)("setting.baseForm.backDays")),1),T(B,{content:n(y)("setting.tip.stepOne.backDays"),effect:"light",placement:"top"},{default:v(()=>[T(U,{size:"14",style:{"margin-left":"2px"}},{default:v(()=>[T(I)]),_:1})]),_:1},8,["content"])])]),default:v(()=>[T(ze,{modelValue:H.value.backDays,"onUpdate:modelValue":w[11]||(w[11]=q=>H.value.backDays=q),max:64,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["style"]),T(S,null,{default:v(()=>[T(V,{lg:8,md:8,sm:24,span:8,xs:24},{default:v(()=>[T(ne,{prop:"vote",style:lt(n(he)?"padding-top: 0px":"padding-top: 29px")},{label:v(()=>[D("div",Ga,[D("span",null,P(n(y)("setting.baseForm.vote")),1),T(B,{content:n(y)("setting.tip.stepOne.vote"),effect:"light",placement:"top"},{default:v(()=>[T(U,{size:"14",style:{"margin-left":"2px"}},{default:v(()=>[T(I)]),_:1})]),_:1},8,["content"])])]),default:v(()=>[T(Te,{modelValue:H.value.vote,"onUpdate:modelValue":w[12]||(w[12]=q=>H.value.vote=q)},null,8,["modelValue"])]),_:1},8,["style"])]),_:1}),T(V,{lg:8,md:8,sm:24,span:8,xs:24},{default:v(()=>[T(ne,{prop:"vote",style:lt(n(he)?"padding-top: 0px":"padding-top: 29px")},{label:v(()=>[D("div",Ia,[D("span",null,P(n(y)("setting.baseForm.pauseEmptyDisabled")),1),T(B,{content:n(y)("setting.tip.stepOne.pauseEmptyDisabled"),effect:"light",placement:"top"},{default:v(()=>[T(U,{size:"14",style:{"margin-left":"2px"}},{default:v(()=>[T(I)]),_:1})]),_:1},8,["content"])])]),default:v(()=>[T(Te,{modelValue:H.value.pauseEmptyDisabled,"onUpdate:modelValue":w[13]||(w[13]=q=>H.value.pauseEmptyDisabled=q),"active-value":!1,"inactive-value":!0},null,8,["modelValue"])]),_:1},8,["style"])]),_:1}),T(V,{lg:8,md:8,sm:24,span:8,xs:24},{default:v(()=>[T(ne,{prop:"pvp",style:lt(n(he)?"padding-top: 0px":"padding-top: 25px")},{label:v(()=>[D("div",Pa,[D("span",null,P(n(y)("setting.baseForm.pvp")),1),T(B,{content:n(y)("setting.tip.stepOne.pvp"),effect:"light",placement:"top"},{default:v(()=>[T(U,{size:"14",style:{"margin-left":"2px"}},{default:v(()=>[T(I)]),_:1})]),_:1},8,["content"])])]),default:v(()=>[T(Te,{modelValue:H.value.pvp,"onUpdate:modelValue":w[14]||(w[14]=q=>H.value.pvp=q)},null,8,["modelValue"])]),_:1},8,["style"])]),_:1})]),_:1}),T(ne,{style:lt(n(he)?"padding-top: 0px":"padding-top: 30px")},{label:v(()=>[D("div",Ua,[D("span",null,P(n(y)("setting.baseForm.password")),1),T(B,{content:n(y)("setting.tip.stepOne.password"),effect:"light",placement:"top"},{default:v(()=>[T(U,{size:"14",style:{"margin-left":"2px"}},{default:v(()=>[T(I)]),_:1})]),_:1},8,["content"])])]),default:v(()=>[T(te,{modelValue:H.value.password,"onUpdate:modelValue":w[15]||(w[15]=q=>H.value.password=q),autocomplete:"new-password","show-password":""},null,8,["modelValue"])]),_:1},8,["style"]),T(ne,{prop:"token",style:lt(n(he)?"padding-top: 0px":"padding-top: 30px")},{label:v(()=>[D("div",za,[D("span",null,P(n(y)("setting.baseForm.token")),1),T(B,{content:n(y)("setting.tip.stepOne.token"),effect:"light",placement:"top"},{default:v(()=>[T(U,{size:"14",style:{"margin-left":"2px"}},{default:v(()=>[T(I)]),_:1})]),_:1},8,["content"])])]),default:v(()=>[T(te,{modelValue:H.value.token,"onUpdate:modelValue":w[16]||(w[16]=q=>H.value.token=q),"show-password":""},null,8,["modelValue"]),D("div",Da,[T(De,{underline:"never",href:"https://accounts.klei.com",target:"_blank"},{default:v(()=>[fe(P(n(y)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["style"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["height"])]),_:1})):Ve("",!0),re.value===1?(R(),ue(F,{key:1,shadow:"never"},{header:v(()=>[D("div",Na,[D("span",null,P(n(y)("setting.worldSetting")),1),D("div",null,[T(Vt,{trigger:"click",onCommand:l},{dropdown:v(()=>[T(Mt,null,{default:v(()=>[H.value.gameMode==="endless"?(R(),ue(qe,{key:0,command:{clusterType:"endless",worldType:"ground"}},{default:v(()=>[fe(P(n(y)("setting.endless"))+"-"+P(n(y)("setting.groundSettingMobile")),1)]),_:1})):Ve("",!0),H.value.gameMode==="endless"?(R(),ue(qe,{key:1,command:{clusterType:"endless",worldType:"cave"}},{default:v(()=>[fe(P(n(y)("setting.endless"))+"-"+P(n(y)("setting.caveSettingMobile")),1)]),_:1})):Ve("",!0),H.value.gameMode==="survival"?(R(),ue(qe,{key:2,command:{clusterType:"survival",worldType:"ground"}},{default:v(()=>[fe(P(n(y)("setting.survival"))+"-"+P(n(y)("setting.groundSettingMobile")),1)]),_:1})):Ve("",!0),H.value.gameMode==="survival"?(R(),ue(qe,{key:3,command:{clusterType:"survival",worldType:"cave"}},{default:v(()=>[fe(P(n(y)("setting.survival"))+"-"+P(n(y)("setting.caveSettingMobile")),1)]),_:1})):Ve("",!0),H.value.gameMode==="relaxed"?(R(),ue(qe,{key:4,command:{clusterType:"relaxed",worldType:"ground"}},{default:v(()=>[fe(P(n(y)("setting.baseForm.gameMode.relaxed"))+"-"+P(n(y)("setting.groundSettingMobile")),1)]),_:1})):Ve("",!0),H.value.gameMode==="relaxed"?(R(),ue(qe,{key:5,command:{clusterType:"relaxed",worldType:"cave"}},{default:v(()=>[fe(P(n(y)("setting.baseForm.gameMode.relaxed"))+"-"+P(n(y)("setting.caveSettingMobile")),1)]),_:1})):Ve("",!0),H.value.gameMode==="wilderness"?(R(),ue(qe,{key:6,command:{clusterType:"wilderness",worldType:"ground"}},{default:v(()=>[fe(P(n(y)("setting.baseForm.gameMode.wilderness"))+"-"+P(n(y)("setting.groundSettingMobile")),1)]),_:1})):Ve("",!0),H.value.gameMode==="wilderness"?(R(),ue(qe,{key:7,command:{clusterType:"wilderness",worldType:"cave"}},{default:v(()=>[fe(P(n(y)("setting.baseForm.gameMode.wilderness"))+"-"+P(n(y)("setting.caveSettingMobile")),1)]),_:1})):Ve("",!0),H.value.gameMode==="lightsOut"?(R(),ue(qe,{key:8,command:{clusterType:"lightsOut",worldType:"ground"}},{default:v(()=>[fe(P(n(y)("setting.baseForm.gameMode.lightsOut"))+"-"+P(n(y)("setting.groundSettingMobile")),1)]),_:1})):Ve("",!0),H.value.gameMode==="lightsOut"?(R(),ue(qe,{key:9,command:{clusterType:"lightsOut",worldType:"cave"}},{default:v(()=>[fe(P(n(y)("setting.baseForm.gameMode.lightsOut"))+"-"+P(n(y)("setting.caveSettingMobile")),1)]),_:1})):Ve("",!0),H.value.gameMode==="lavaarena"?(R(),ue(qe,{key:10,command:{clusterType:"lavaarena",worldType:"ground"}},{default:v(()=>[fe(P(n(y)("setting.baseForm.gameMode.lavaarena"))+"-"+P(n(y)("setting.groundSettingMobile")),1)]),_:1})):Ve("",!0),H.value.gameMode==="quagmire"?(R(),ue(qe,{key:11,command:{clusterType:"quagmire",worldType:"ground"}},{default:v(()=>[fe(P(n(y)("setting.baseForm.gameMode.quagmire"))+"-"+P(n(y)("setting.groundSettingMobile")),1)]),_:1})):Ve("",!0)]),_:1})]),default:v(()=>[T(O,{disabled:t.value!=="Code"||H.value.gameMode!=="endless"&&H.value.gameMode!=="survival"&&H.value.gameMode!=="relaxed"&&H.value.gameMode!=="wilderness"&&H.value.gameMode!=="lightsOut"&&H.value.gameMode!=="quagmire"&&H.value.gameMode!=="lavaarena",type:"success"},{default:v(()=>[fe(P(n(y)("setting.oneClick"))+" ",1),T(U,{class:"el-icon--right"},{default:v(()=>[T(n(Xt))]),_:1})]),_:1},8,["disabled"])]),_:1})])])]),default:v(()=>[T(Pe,{height:N.value-450},{default:v(()=>[T(xt,{modelValue:e.value,"onUpdate:modelValue":w[18]||(w[18]=q=>e.value=q),editable:"",type:"card",onEdit:C,onTabChange:ge,style:{"margin-right":"16px"}},{default:v(()=>[(R(!0),le(we,null,xe(p.value,q=>(R(),ue(Ct,{key:q.name,label:ke.value==="zh"?"世界":"World",name:q.name},{default:v(()=>[T(S,null,{default:v(()=>[T(Ge,{ref_for:!0,ref:r=>d[q.name]=r,"label-position":n(he)||ke.value==="en"?"top":"left",model:q,rules:f,size:n(he)?"small":"large",inline:"","label-width":"120px",style:{"margin-top":"10px"}},{default:v(()=>[D("div",qa,[T(ne,{label:n(y)("setting.isMaster"),prop:"isMaster",style:{width:"250px"}},{default:v(()=>[T(B,{"show-after":100,content:n(y)("setting.isMasterTip"),effect:"light",placement:"top"},{default:v(()=>[T(Te,{modelValue:q.isMaster,"onUpdate:modelValue":r=>q.isMaster=r,"active-text":ke.value==="zh"?"是":"Y","inactive-text":ke.value==="zh"?"否":"N","inline-prompt":""},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text"])]),_:2},1032,["content"])]),_:2},1032,["label"]),T(ne,{label:n(y)("setting.system.encodeUserPath.divider"),prop:"encodeUserPath",style:{width:"250px"}},{default:v(()=>[T(B,{"show-after":100,content:n(y)("setting.encodeUserPathTip"),effect:"light",placement:"top"},{default:v(()=>[T(Te,{modelValue:q.encodeUserPath,"onUpdate:modelValue":r=>q.encodeUserPath=r,"active-text":ke.value==="zh"?"是":"Y","inactive-text":ke.value==="zh"?"否":"N","inline-prompt":""},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text"])]),_:2},1032,["content"])]),_:2},1032,["label"]),T(ne,{label:n(y)("setting.roomWorldForm.id"),prop:"id",style:{width:"250px"}},{default:v(()=>[T(B,{"show-after":100,content:n(y)("setting.idTip"),effect:"light",placement:"top"},{default:v(()=>[T(te,{modelValue:q.id,"onUpdate:modelValue":r=>q.id=r,modelModifiers:{number:!0},disabled:q.saved,size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1032,["content"])]),_:2},1032,["label"]),T(ne,{label:n(y)("setting.serverPort"),prop:"serverPort",style:{width:"250px"}},{default:v(()=>[T(B,{"show-after":100,content:n(y)("setting.serverPortTip"),effect:"light",placement:"top"},{default:v(()=>[T(te,{modelValue:q.serverPort,"onUpdate:modelValue":r=>q.serverPort=r,modelModifiers:{number:!0},size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"]),T(ne,{label:n(y)("setting.roomWorldForm.shardMasterPort"),prop:"shardMasterPort",style:{width:"250px"}},{default:v(()=>[T(B,{"show-after":100,content:n(y)("setting.noEdit")+"，cluster.ini -> [SHARD] -> master_port",effect:"light",placement:"top"},{default:v(()=>[T(te,{modelValue:q.shardMasterPort,"onUpdate:modelValue":r=>q.shardMasterPort=r,modelModifiers:{number:!0},size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"]),T(ne,{label:n(y)("setting.roomWorldForm.steamMasterPort"),prop:"steamMasterPort",style:{width:"250px"}},{default:v(()=>[T(B,{"show-after":100,content:n(y)("setting.noEdit")+"，server.ini -> [STEAM] -> server_master_port",effect:"light",placement:"top"},{default:v(()=>[T(te,{modelValue:q.steamMasterPort,"onUpdate:modelValue":r=>q.steamMasterPort=r,modelModifiers:{number:!0},size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"]),T(ne,{label:n(y)("setting.roomWorldForm.steamAuthenticationPort"),prop:"steamAuthenticationPort",style:{width:"250px"}},{default:v(()=>[T(B,{"show-after":100,content:n(y)("setting.noEdit")+"，server.ini -> [STEAM] -> authentication_port",effect:"light",placement:"top"},{default:v(()=>[T(te,{modelValue:q.steamAuthenticationPort,"onUpdate:modelValue":r=>q.steamAuthenticationPort=r,modelModifiers:{number:!0},size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"]),T(ne,{label:n(y)("setting.shardMasterIp"),prop:"shardMasterIp",style:{width:"250px"}},{default:v(()=>[T(B,{"show-after":100,content:n(y)("setting.shardMasterIpTip"),effect:"light",placement:"top"},{default:v(()=>[T(te,{modelValue:q.shardMasterIp,"onUpdate:modelValue":r=>q.shardMasterIp=r,disabled:q.isMaster,size:"default"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1032,["content"])]),_:2},1032,["label"]),T(ne,{label:n(y)("setting.roomWorldForm.clusterKey"),prop:"clusterKey",style:{width:"250px"}},{default:v(()=>[T(B,{"show-after":100,content:n(y)("setting.clusterKeyTip"),effect:"light",placement:"top"},{default:v(()=>[T(te,{modelValue:q.clusterKey,"onUpdate:modelValue":r=>q.clusterKey=r,autocomplete:"new-password","show-password":"",size:"default",type:"password"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"])])]),_:2},1032,["label-position","model","size"])]),_:2},1024),D("div",Oa,[T(xt,{modelValue:t.value,"onUpdate:modelValue":w[17]||(w[17]=r=>t.value=r),onTabChange:i},{default:v(()=>[T(Ct,{label:ke.value==="zh"?"配置文件":"Code",name:"Code"},{default:v(()=>[D("div",Wa,[T(Ge,{model:q},{default:v(()=>[T(ne,null,{default:v(()=>[T(Yt,{modelValue:q.levelData,"onUpdate:modelValue":r=>q.levelData=r,height:N.value*.5,theme:ct.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue","height","theme"])]),_:2},1024)]),_:2},1032,["model"])])]),_:2},1032,["label"]),(H.value.gameMode==="endless"||H.value.gameMode==="relaxed"||H.value.gameMode==="wilderness"||H.value.gameMode==="lightsOut"||H.value.gameMode==="survival")&&q.levelData!==""?(R(),ue(Ct,{key:0,label:n(y)("setting.tabVisualization"),lazy:"",name:"Visualization"},{default:v(()=>[u.value==="forest"&&Object.keys(Y.value).length!==0?(R(),le(we,{key:0},[T(Me,{"content-position":"center"},{default:v(()=>[D("span",$a,P(n(y)("setting.groundVisualizationRule")),1),fe(" - "+P(n(y)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),D("div",Ka,[(R(!0),le(we,null,xe(n(dt).global,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",ja,P(n(y)("setting.groundVisualizationRule")),1),fe(" - "+P(n(y)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),D("div",Ha,[(R(!0),le(we,null,xe(n(dt).events,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",Qa,P(n(y)("setting.groundVisualizationRule")),1),fe(" - "+P(n(y)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),D("div",Ja,[(R(!0),le(we,null,xe(n(dt).survivors,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",Xa,P(n(y)("setting.groundVisualizationRule")),1),fe(" - "+P(n(y)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),D("div",Ya,[(R(!0),le(we,null,xe(n(dt).world,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",Za,P(n(y)("setting.groundVisualizationRule")),1),fe(" - "+P(n(y)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),D("div",en,[(R(!0),le(we,null,xe(n(dt).resourceRegrowth,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",tn,P(n(y)("setting.groundVisualizationRule")),1),fe(" - "+P(n(y)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),D("div",an,[(R(!0),le(we,null,xe(n(dt).unnaturalPortalResource,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",nn,P(n(y)("setting.groundVisualizationRule")),1),fe(" - "+P(n(y)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),D("div",ln,[(R(!0),le(we,null,xe(n(dt).creatures,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",on,P(n(y)("setting.groundVisualizationRule")),1),fe(" - "+P(n(y)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),D("div",rn,[(R(!0),le(we,null,xe(n(dt).hostileCreatures,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",un,P(n(y)("setting.groundVisualizationRule")),1),fe(" - "+P(n(y)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),D("div",sn,[(R(!0),le(we,null,xe(n(dt).giants,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",dn,P(n(y)("setting.groundVisualizationRule")),1),fe(" - "+P(n(y)("setting.groundVisualizationRuleItem.moonMutated")),1)]),_:1}),D("div",fn,[(R(!0),le(we,null,xe(n(dt).moonMutated,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",cn,P(n(y)("setting.groundVisualizationGeneration")),1),fe(" - "+P(n(y)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),D("div",mn,[(R(!0),le(we,null,xe(n(Et).global,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",pn,P(n(y)("setting.groundVisualizationGeneration")),1),fe(" - "+P(n(y)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),D("div",gn,[(R(!0),le(we,null,xe(n(Et).world,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",_n,P(n(y)("setting.groundVisualizationGeneration")),1),fe(" - "+P(n(y)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),D("div",hn,[(R(!0),le(we,null,xe(n(Et).resources,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",yn,P(n(y)("setting.groundVisualizationGeneration")),1),fe(" - "+P(n(y)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),D("div",Tn,[(R(!0),le(we,null,xe(n(Et).creaturesAndSpawners,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",bn,P(n(y)("setting.groundVisualizationGeneration")),1),fe(" - "+P(n(y)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),D("div",kn,[(R(!0),le(we,null,xe(n(Et).hostileCreaturesAndSpawners,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))])],64)):Ve("",!0),u.value==="cave"&&Object.keys(Y.value).length!==0?(R(),le(we,{key:1},[T(Me,{"content-position":"center"},{default:v(()=>[D("span",vn,P(n(y)("setting.cavesVisualizationRule")),1),fe(" - "+P(n(y)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),D("div",wn,[(R(!0),le(we,null,xe(n(St).world,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",Sn,P(n(y)("setting.cavesVisualizationRule")),1),fe(" - "+P(n(y)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),D("div",Ln,[(R(!0),le(we,null,xe(n(St).resourceRegrowth,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",Vn,P(n(y)("setting.cavesVisualizationRule")),1),fe(" - "+P(n(y)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),D("div",Cn,[(R(!0),le(we,null,xe(n(St).creatures,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",En,P(n(y)("setting.cavesVisualizationRule")),1),fe(" - "+P(n(y)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),D("div",Fn,[(R(!0),le(we,null,xe(n(St).hostileCreatures,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",Mn,P(n(y)("setting.cavesVisualizationRule")),1),fe(" - "+P(n(y)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),D("div",xn,[(R(!0),le(we,null,xe(n(St).giants,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",An,P(n(y)("setting.cavesVisualizationRule")),1),fe(" - "+P(n(y)("setting.cavesVisualizationRuleItem.moonMutated")),1)]),_:1}),D("div",Rn,[(R(!0),le(we,null,xe(n(St).moonMutated,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",Bn,P(n(y)("setting.cavesVisualizationGeneration")),1),fe(" - "+P(n(y)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),D("div",Gn,[(R(!0),le(we,null,xe(n(Gt).world,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(Ft)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(Ft)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(Ft)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(Ft)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(Ft)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",In,P(n(y)("setting.cavesVisualizationGeneration")),1),fe(" - "+P(n(y)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),D("div",Pn,[(R(!0),le(we,null,xe(n(Gt).resources,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",Un,P(n(y)("setting.cavesVisualizationGeneration")),1),fe(" - "+P(n(y)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),D("div",zn,[(R(!0),le(we,null,xe(n(Gt).creaturesAndSpawners,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))]),T(Me,{"content-position":"center"},{default:v(()=>[D("span",Dn,P(n(y)("setting.cavesVisualizationGeneration")),1),fe(" - "+P(n(y)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),D("div",Nn,[(R(!0),le(we,null,xe(n(Gt).hostileCreaturesAndSpawners,(r,de)=>{var z,$,Q,K,W;return R(),le("div",null,[(R(),ue(Re,{key:de,modelValue:Y.value[r],"onUpdate:modelValue":ee=>Y.value[r]=ee,configs:((z=n(A)[r])==null?void 0:z.configs)||["undefined"],customConfigsValue:(($=n(A)[r])==null?void 0:$.customConfigsValue)||{},defaultModelValue:((Q=n(A)[r])==null?void 0:Q.modelValue)||"undefined",i18n:((K=n(A)[r])==null?void 0:K.i18n)||{zh:"平台未识别",en:"undefined"},image:((W=n(A)[r])==null?void 0:W.image)||"undefined.png",name:r,onChangeModelValue:n(s)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))])}),256))])],64)):Ve("",!0)]),_:2},1032,["label"])):Ve("",!0)]),_:2},1032,["modelValue"])])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["height"])]),_:1})):Ve("",!0),re.value===2?(R(),ue(F,{key:2,shadow:"never"},{default:v(()=>[D("div",qn,[D("div",On,[D("span",null,P(n(y)("setting.multiWorldTip")),1),T(O,{size:"small",style:{"margin-left":"10px"},type:"primary",onClick:ae},{default:v(()=>[fe(P(ke.value==="zh"?"多层世界":"Multi-world"),1)]),_:1})])]),T(Ge,{model:$e.value},{default:v(()=>[T(ne,null,{default:v(()=>[T(Yt,{modelValue:$e.value.mod,"onUpdate:modelValue":w[19]||(w[19]=q=>$e.value.mod=q),height:N.value-481,theme:ct.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["model"])]),_:1})):Ve("",!0),re.value===3?(R(),ue(F,{key:3,shadow:"never"},{default:v(()=>[D("div",{style:lt({height:`${N.value-381}px`}),class:"fcc"},[T(zt,{"sub-title":n(y)("setting.finish.description"),title:n(y)("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1})):Ve("",!0)]),_:1})]),_:1}),T(S,{gutter:10},{default:v(()=>[T(V,{lg:24,md:24,sm:24,span:24,xs:24},{default:v(()=>[T(F,{shadow:"never"},{default:v(()=>[D("div",Wn,[re.value>0?(R(),ue(O,{key:0,onClick:at},{default:v(()=>[fe(P(n(y)("setting.button.prev")),1)]),_:1})):Ve("",!0),re.value<3?(R(),ue(O,{key:1,type:"primary",loading:_e.value,onClick:_t},{default:v(()=>[fe(P(n(y)("setting.button.next")),1)]),_:1},8,["loading"])):Ve("",!0),re.value===3?(R(),ue(Vt,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:Ke},{dropdown:v(()=>[T(Mt,null,{default:v(()=>[T(qe,{command:"save"},{default:v(()=>[fe(P(n(y)("setting.button.save")),1)]),_:1}),T(qe,{command:"saveAndRestart"},{default:v(()=>[fe(P(n(y)("setting.button.saveAndRestart")),1)]),_:1}),T(qe,{command:"generateNewWorld"},{default:v(()=>[fe(P(n(y)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:v(()=>[T(O,{loading:M.value,type:"warning"},{default:v(()=>[fe(P(n(y)("setting.button.actions"))+" ",1),T(U,{class:"el-icon--right"},{default:v(()=>[T(n(Xt))]),_:1})]),_:1},8,["loading"])]),_:1})):Ve("",!0)])]),_:1})]),_:1})]),_:1}),T(At,{modelValue:ye.value,"onUpdate:modelValue":w[21]||(w[21]=q=>ye.value=q),width:"65%"},{header:v(()=>[fe(P(n(y)("setting.multiWorldDialog.title")),1)]),default:v(()=>[D("div",$n,P(n(y)("setting.multiWorldDialog.tip")),1),D("div",Kn,[T(Ge,{model:Ie.value,"label-position":"top"},{default:v(()=>[(R(!0),le(we,null,xe(Ie.value,q=>(R(),ue(ne,null,{default:v(()=>[T(te,{modelValue:q.ID,"onUpdate:modelValue":r=>q.ID=r,placeholder:n(y)("setting.multiWorldDialog.placeholder0"),type:"number",style:{width:"20%"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),T(te,{modelValue:q.name,"onUpdate:modelValue":r=>q.name=r,placeholder:n(y)("setting.multiWorldDialog.placeholder1"),style:{"margin-left":"2%",width:"48%"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),T(te,{modelValue:q.maxPlayers,"onUpdate:modelValue":r=>q.maxPlayers=r,placeholder:n(y)("setting.multiWorldDialog.placeholder2"),type:"number",style:{"margin-left":"2%",width:"28%"}},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024))),256)),D("div",jn,[T(O,{type:"success",onClick:w[20]||(w[20]=q=>Ie.value.push({ID:void 0,name:"",maxPlayers:void 0}))},{default:v(()=>[fe(P(ke.value==="zh"?"新增一条":"New Line"),1)]),_:1}),T(O,{type:"primary",onClick:Z},{default:v(()=>[fe(P(ke.value==="zh"?"生成配置":"Generate"),1)]),_:1})])]),_:1},8,["model"]),Be.value?(R(),ue(Me,{key:0})):Ve("",!0),Be.value?(R(),ue(n(ba),{key:1,ref:"threeCodeOneRef",modelValue:Be.value,theme:ct.value?"dark":"light",previewTheme:"github"},null,8,["modelValue","theme"])):Ve("",!0)])]),_:1},8,["modelValue"]),T(At,{modelValue:et.value,"onUpdate:modelValue":w[25]||(w[25]=q=>et.value=q),width:"65%"},{header:v(()=>[D("div",Hn,[T(Te,{modelValue:Je.value,"onUpdate:modelValue":w[22]||(w[22]=q=>Je.value=q),"active-value":"insert","inactive-value":"copy","active-text":ke.value==="zh"?"插入模式":"Insert Mode","inactive-text":ke.value==="zh"?"复制模式":"Copy Mode"},null,8,["modelValue","active-text","inactive-text"])])]),footer:v(()=>[ke.value==="zh"?(R(),ue(De,{key:0,href:"https://www.bilibili.com/opus/814456568458248259",target:"_blank",type:"info",underline:"never"},{default:v(()=>w[26]||(w[26]=[fe(" 感谢B站长鸽门徒提供的饥荒表情字体 ")])),_:1})):(R(),ue(De,{key:1,href:"https://www.bilibili.com/opus/814456568458248259",target:"_blank",type:"info",underline:"never"},{default:v(()=>w[27]||(w[27]=[fe(" Thanks to Bilibili user 长鸽门徒 for providing the DST emoji font. ")])),_:1}))]),default:v(()=>[Je.value==="insert"?(R(),le("div",Qn,[je.value==="name"?(R(),ue(te,{key:0,ref_key:"emojiInputNameRef",ref:bt,modelValue:H.value.name,"onUpdate:modelValue":w[23]||(w[23]=q=>H.value.name=q),style:{width:"100%"}},null,8,["modelValue"])):Ve("",!0),je.value==="description"?(R(),ue(te,{key:1,ref_key:"emojiInputDescriptionRef",ref:kt,modelValue:H.value.description,"onUpdate:modelValue":w[24]||(w[24]=q=>H.value.description=q),style:{width:"100%"}},null,8,["modelValue"])):Ve("",!0)])):Ve("",!0),D("div",Jn,[(R(!0),le(we,null,xe(n(Va),q=>(R(),le("div",{class:"emoji-item",onClick:r=>Lt(q)},P(q),9,Xn))),256))])]),_:1},8,["modelValue"])])}}},ll=ia(Yn,[["__scopeId","data-v-017de7cc"]]);export{ll as default};
