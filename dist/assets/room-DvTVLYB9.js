import{a9 as Et,aa as tn,_ as nn,u as ln,o as on,r as Be,a as an,g as rn,c as un,B as Se,d as v,e as P,F as ne,f as c,w as T,j as o,k as j,p as Xe,i as M,t as A,m as H,n as be,v as ae,X as sn,A as ct,y as Ft}from"./index-lk-DalfF.js";import{s as Tt}from"./index-gE5UyAxQ.js";import{s as yt}from"./index-vM1xaf1x.js";import{g as Ae,_ as ie,o as _,a as tt,c as nt,b as st,d as dt}from"./levelDataSetting-CS672JtK.js";var St={exports:{}};St.exports;(function(lt,h){(function(ge,k,N){var Ve=h&&!h.nodeType&&h,fe=lt&&!lt.nodeType&&lt,ye=Ve&&fe&&typeof Et=="object"&&Et,ee=fe&&fe.exports===Ve&&Ve;ye&&(ye.global===ye||ye.window===ye||ye.self===ye)&&(ge=ye),N(Ve&&fe?ee?fe.exports:Ve:ge[k]={})})(Et,"luaparse",function(ge){ge.version="0.3.1";var k,N,Ve,fe,ye,ee=ge.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:"5.1",encodingMode:"none"};function Ge(l,u){return u=u||0,l<128?String.fromCharCode(l):l<2048?String.fromCharCode(u|192|l>>6,u|128|l&63):l<65536?String.fromCharCode(u|224|l>>12,u|128|l>>6&63,u|128|l&63):l<1114112?String.fromCharCode(u|240|l>>18,u|128|l>>12&63,u|128|l>>6&63,u|128|l&63):null}function Ze(l,u){for(var V=l.toString(16);V.length<u;)V="0"+V;return V}function ft(l){return function(u){var V=l.exec(u);if(!V)return u;re(null,Q.invalidCodeUnit,Ze(V[0].charCodeAt(0),4).toUpperCase())}}var We={"pseudo-latin1":{fixup:ft(/[^\x00-\xff]/),encodeByte:function(l){return l===null?"":String.fromCharCode(l)},encodeUTF8:function(l){return Ge(l)}},"x-user-defined":{fixup:ft(/[^\x00-\x7f\uf780-\uf7ff]/),encodeByte:function(l){return l===null?"":l>=128?String.fromCharCode(l|63232):String.fromCharCode(l)},encodeUTF8:function(l){return Ge(l,63232)}},none:{discardStrings:!0,fixup:function(l){return l},encodeByte:function(l){return""},encodeUTF8:function(l){return""}}},R=1,ze=2,De=4,se=8,Ke=16,Ne=32,_e=64,je=128,Qe=256;ge.tokenTypes={EOF:R,StringLiteral:ze,Keyword:De,Identifier:se,NumericLiteral:Ke,Punctuator:Ne,BooleanLiteral:_e,NilLiteral:je,VarargLiteral:Qe};var Q=ge.errors={unexpected:"unexpected %1 '%2' near '%3'",unexpectedEOF:"unexpected symbol near '<eof>'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",decimalEscapeTooLarge:"decimal escape too large near '%1'",invalidEscape:"invalid escape sequence near '%1'",hexadecimalDigitExpected:"hexadecimal digit expected near '%1'",braceExpected:"missing '%1' near '%2'",tooLargeCodepoint:"UTF-8 value too large near '%1'",unfinishedLongString:"unfinished long string (starting at line %1) near '%2'",unfinishedLongComment:"unfinished long comment (starting at line %1) near '%2'",ambiguousSyntax:"ambiguous syntax (function call x new statement) near '%1'",noLoopToBreak:"no loop to break near '%1'",labelAlreadyDefined:"label '%1' already defined on line %2",labelNotVisible:"no visible label '%1' for <goto>",gotoJumpInLocalScope:"<goto %1> jumps into the scope of local '%2'",cannotUseVararg:"cannot use '...' outside a vararg function near '%1'",invalidCodeUnit:"code unit U+%1 is not allowed in the current encoding mode"},ue=ge.ast={labelStatement:function(l){return{type:"LabelStatement",label:l}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(l){return{type:"GotoStatement",label:l}},returnStatement:function(l){return{type:"ReturnStatement",arguments:l}},ifStatement:function(l){return{type:"IfStatement",clauses:l}},ifClause:function(l,u){return{type:"IfClause",condition:l,body:u}},elseifClause:function(l,u){return{type:"ElseifClause",condition:l,body:u}},elseClause:function(l){return{type:"ElseClause",body:l}},whileStatement:function(l,u){return{type:"WhileStatement",condition:l,body:u}},doStatement:function(l){return{type:"DoStatement",body:l}},repeatStatement:function(l,u){return{type:"RepeatStatement",condition:l,body:u}},localStatement:function(l,u){return{type:"LocalStatement",variables:l,init:u}},assignmentStatement:function(l,u){return{type:"AssignmentStatement",variables:l,init:u}},callStatement:function(l){return{type:"CallStatement",expression:l}},functionStatement:function(l,u,V,G){return{type:"FunctionDeclaration",identifier:l,isLocal:V,parameters:u,body:G}},forNumericStatement:function(l,u,V,G,W){return{type:"ForNumericStatement",variable:l,start:u,end:V,step:G,body:W}},forGenericStatement:function(l,u,V){return{type:"ForGenericStatement",variables:l,iterators:u,body:V}},chunk:function(l){return{type:"Chunk",body:l}},identifier:function(l){return{type:"Identifier",name:l}},literal:function(l,u,V){return l=l===ze?"StringLiteral":l===Ke?"NumericLiteral":l===_e?"BooleanLiteral":l===je?"NilLiteral":"VarargLiteral",{type:l,value:u,raw:V}},tableKey:function(l,u){return{type:"TableKey",key:l,value:u}},tableKeyString:function(l,u){return{type:"TableKeyString",key:l,value:u}},tableValue:function(l){return{type:"TableValue",value:l}},tableConstructorExpression:function(l){return{type:"TableConstructorExpression",fields:l}},binaryExpression:function(l,u,V){var G=l==="and"||l==="or"?"LogicalExpression":"BinaryExpression";return{type:G,operator:l,left:u,right:V}},unaryExpression:function(l,u){return{type:"UnaryExpression",operator:l,argument:u}},memberExpression:function(l,u,V){return{type:"MemberExpression",indexer:u,identifier:V,base:l}},indexExpression:function(l,u){return{type:"IndexExpression",base:l,index:u}},callExpression:function(l,u){return{type:"CallExpression",base:l,arguments:u}},tableCallExpression:function(l,u){return{type:"TableCallExpression",base:l,arguments:u}},stringCallExpression:function(l,u){return{type:"StringCallExpression",base:l,argument:u}},comment:function(l,u){return{type:"Comment",value:l,raw:u}}};function le(l){if(O){var u=D.pop();u.complete(),u.bless(l)}return N.onCreateNode&&N.onCreateNode(l),l}var He=Array.prototype.slice,ot=function(l,u){for(var V=0,G=l.length;V<G;++V)if(l[V]===u)return V;return-1};Array.prototype.indexOf&&(ot=function(l,u){return l.indexOf(u)});function mt(l,u,V){for(var G=0,W=l.length;G<W;++G)if(l[G][u]===V)return G;return-1}function at(l){var u=He.call(arguments,1);return l=l.replace(/%(\d)/g,function(V,G){return""+u[G-1]||""}),l}var it=function(l){for(var u=He.call(arguments,1),V,G,W=0,Te=u.length;W<Te;++W){V=u[W];for(G in V)Object.prototype.hasOwnProperty.call(V,G)&&(l[G]=V[G])}return l};Object.assign&&(it=Object.assign),ge.SyntaxError=SyntaxError;function Ye(l){return Object.create?Object.create(l,{line:{writable:!0,value:l.line},index:{writable:!0,value:l.index},column:{writable:!0,value:l.column}}):l}function re(l){var u=at.apply(null,He.call(arguments,1)),V,G;throw l===null||typeof l.line>"u"?(G=b-y+1,V=Ye(new SyntaxError(at("[%1:%2] %3",p,G,u))),V.index=b,V.line=p,V.column=G):(G=l.range[0]-l.lineStart,V=Ye(new SyntaxError(at("[%1:%2] %3",l.line,G,u))),V.line=l.line,V.index=l.range[0],V.column=G),V}function B(l){var u=k.slice(l.range[0],l.range[1]);return u||l.value}function we(l,u){re(u,Q.expectedToken,l,B(u))}function $e(l){var u=B(x);if(typeof l.type<"u"){var V;switch(l.type){case ze:V="string";break;case De:V="keyword";break;case se:V="identifier";break;case Ke:V="number";break;case Ne:V="symbol";break;case _e:V="boolean";break;case je:return re(l,Q.unexpected,"symbol","nil",u);case R:return re(l,Q.unexpectedEOF)}return re(l,Q.unexpected,V,B(l),u)}return re(l,Q.unexpected,"symbol",l,u)}var b,K,oe,x,C,g,p,y;ge.lex=L;function L(){for(S();k.charCodeAt(b)===45&&k.charCodeAt(b+1)===45;)Le(),S();if(b>=Ve)return{type:R,value:"<eof>",line:p,lineStart:y,range:[b,b]};var l=k.charCodeAt(b),u=k.charCodeAt(b+1);if(g=b,_t(l))return r();switch(l){case 39:case 34:return w();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i();case 46:return X(u)?i():u===46?k.charCodeAt(b+2)===46?m():a(".."):a(".");case 61:return a(u===61?"==":"=");case 62:return fe.bitwiseOperators&&u===62?a(">>"):a(u===61?">=":">");case 60:return fe.bitwiseOperators&&u===60?a("<<"):a(u===61?"<=":"<");case 126:if(u===61)return a("~=");if(!fe.bitwiseOperators)break;return a("~");case 58:return fe.labels&&u===58?a("::"):a(":");case 91:return u===91||u===61?e():a("[");case 47:return fe.integerDivision&&u===47?a("//"):a("/");case 38:case 124:if(!fe.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return a(k.charAt(b))}return $e(k.charAt(b))}function n(){var l=k.charCodeAt(b),u=k.charCodeAt(b+1);return Ie(l)?(l===10&&u===13&&++b,l===13&&u===10&&++b,++p,y=++b,!0):!1}function S(){for(;b<Ve;){var l=k.charCodeAt(b);if(Oe(l))++b;else if(!n())break}}function r(){for(var l,u;gt(k.charCodeAt(++b)););return l=ye.fixup(k.slice(g,b)),pt(l)?u=De:l==="true"||l==="false"?(u=_e,l=l==="true"):l==="nil"?(u=je,l=null):u=se,{type:u,value:l,line:p,lineStart:y,range:[g,b]}}function a(l){return b+=l.length,{type:Ne,value:l,line:p,lineStart:y,range:[g,b]}}function m(){return b+=3,{type:Qe,value:"...",line:p,lineStart:y,range:[g,b]}}function w(){for(var l=k.charCodeAt(b++),u=p,V=y,G=b,W=ye.discardStrings?null:"",Te;Te=k.charCodeAt(b++),l!==Te;)if((b>Ve||Ie(Te))&&(W+=k.slice(G,b-1),re(null,Q.unfinishedString,k.slice(g,b-1))),Te===92){if(!ye.discardStrings){var ke=k.slice(G,b-1);W+=ye.fixup(ke)}var Re=Ee();ye.discardStrings||(W+=Re),G=b}return ye.discardStrings||(W+=ye.encodeByte(null),W+=ye.fixup(k.slice(G,b-1))),{type:ze,value:W,line:u,lineStart:V,lastLine:p,lastLineStart:y,range:[g,b]}}function e(){var l=p,u=y,V=de(!1);return V===!1&&re(K,Q.expected,"[",B(K)),{type:ze,value:ye.discardStrings?null:ye.fixup(V),line:l,lineStart:u,lastLine:p,lastLineStart:y,range:[g,b]}}function i(){var l=k.charAt(b),u=k.charAt(b+1),V=l==="0"&&"xX".indexOf(u||null)>=0?F():$(),G=s(),W=d();return W&&(G||V.hasFractionPart)&&re(null,Q.malformedNumber,k.slice(g,b)),{type:Ke,value:V.value,line:p,lineStart:y,range:[g,b]}}function s(){if(fe.imaginaryNumbers)return"iI".indexOf(k.charAt(b)||null)>=0?(++b,!0):!1}function d(){if(fe.integerSuffixes){if("uU".indexOf(k.charAt(b)||null)>=0)if(++b,"lL".indexOf(k.charAt(b)||null)>=0){if(++b,"lL".indexOf(k.charAt(b)||null)>=0)return++b,"ULL";re(null,Q.malformedNumber,k.slice(g,b))}else re(null,Q.malformedNumber,k.slice(g,b));else if("lL".indexOf(k.charAt(b)||null)>=0){if(++b,"lL".indexOf(k.charAt(b)||null)>=0)return++b,"LL";re(null,Q.malformedNumber,k.slice(g,b))}}}function F(){var l=0,u=1,V=1,G,W,Te,ke;for(ke=b+=2,xe(k.charCodeAt(b))||re(null,Q.malformedNumber,k.slice(g,b));xe(k.charCodeAt(b));)++b;G=parseInt(k.slice(ke,b),16);var Re=!1;if(k.charAt(b)==="."){for(Re=!0,W=++b;xe(k.charCodeAt(b));)++b;l=k.slice(W,b),l=W===b?0:parseInt(l,16)/Math.pow(16,b-W)}var bt=!1;if("pP".indexOf(k.charAt(b)||null)>=0){for(bt=!0,++b,"+-".indexOf(k.charAt(b)||null)>=0&&(V=k.charAt(b++)==="+"?1:-1),Te=b,X(k.charCodeAt(b))||re(null,Q.malformedNumber,k.slice(g,b));X(k.charCodeAt(b));)++b;u=k.slice(Te,b),u=Math.pow(2,u*V)}return{value:(G+l)*u,hasFractionPart:Re||bt}}function $(){for(;X(k.charCodeAt(b));)++b;var l=!1;if(k.charAt(b)===".")for(l=!0,++b;X(k.charCodeAt(b));)++b;var u=!1;if("eE".indexOf(k.charAt(b)||null)>=0)for(u=!0,++b,"+-".indexOf(k.charAt(b)||null)>=0&&++b,X(k.charCodeAt(b))||re(null,Q.malformedNumber,k.slice(g,b));X(k.charCodeAt(b));)++b;return{value:parseFloat(k.slice(g,b)),hasFractionPart:l||u}}function te(){var l=b++;for(k.charAt(b++)!=="{"&&re(null,Q.braceExpected,"{","\\"+k.slice(l,b)),xe(k.charCodeAt(b))||re(null,Q.hexadecimalDigitExpected,"\\"+k.slice(l,b));k.charCodeAt(b)===48;)++b;for(var u=b;xe(k.charCodeAt(b));)++b,b-u>6&&re(null,Q.tooLargeCodepoint,"\\"+k.slice(l,b));var V=k.charAt(b++);V!=="}"&&(V==='"'||V==="'"?re(null,Q.braceExpected,"}","\\"+k.slice(l,b--)):re(null,Q.hexadecimalDigitExpected,"\\"+k.slice(l,b)));var G=parseInt(k.slice(u,b-1)||"0",16),W="\\"+k.slice(l,b);return G>1114111&&re(null,Q.tooLargeCodepoint,W),ye.encodeUTF8(G,W)}function Ee(){var l=b;switch(k.charAt(b)){case"a":return++b,"\x07";case"n":return++b,`
`;case"r":return++b,"\r";case"t":return++b,"	";case"v":return++b,"\v";case"b":return++b,"\b";case"f":return++b,"\f";case"\r":case`
`:return n(),`
`;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;X(k.charCodeAt(b))&&b-l<3;)++b;var u=k.slice(l,b),V=parseInt(u,10);return V>255&&re(null,Q.decimalEscapeTooLarge,"\\"+V),ye.encodeByte(V,"\\"+u);case"z":if(fe.skipWhitespaceEscape)return++b,S(),"";break;case"x":if(fe.hexEscapes){if(xe(k.charCodeAt(b+1))&&xe(k.charCodeAt(b+2)))return b+=3,ye.encodeByte(parseInt(k.slice(l+1,b),16),"\\"+k.slice(l,b));re(null,Q.hexadecimalDigitExpected,"\\"+k.slice(l,b+2))}break;case"u":if(fe.unicodeEscapes)return te();break;case"\\":case'"':case"'":return k.charAt(b++)}return fe.strictEscapes&&re(null,Q.invalidEscape,"\\"+k.slice(l,b+1)),k.charAt(b++)}function Le(){g=b,b+=2;var l=k.charAt(b),u="",V=!1,G=b,W=y,Te=p;if(l==="["&&(u=de(!0),u===!1?u=l:V=!0),!V){for(;b<Ve&&!Ie(k.charCodeAt(b));)++b;N.comments&&(u=k.slice(G,b))}if(N.comments){var ke=ue.comment(u,k.slice(g,b));N.locations&&(ke.loc={start:{line:Te,column:g-W},end:{line:p,column:b-y}}),N.ranges&&(ke.range=[g,b]),N.onCreateNode&&N.onCreateNode(ke),C.push(ke)}}function de(l){var u=0,V="",G=!1,W,Te,ke=p;for(++b;k.charAt(b+u)==="=";)++u;if(k.charAt(b+u)!=="[")return!1;for(b+=u+1,Ie(k.charCodeAt(b))&&n(),Te=b;b<Ve;){for(;Ie(k.charCodeAt(b));)n();if(W=k.charAt(b++),W==="]"){G=!0;for(var Re=0;Re<u;++Re)k.charAt(b+Re)!=="="&&(G=!1);k.charAt(b+u)!=="]"&&(G=!1)}if(G)return V+=k.slice(Te,b-1),b+=u+1,V}re(null,l?Q.unfinishedLongComment:Q.unfinishedLongString,ke,"<eof>")}function q(){oe=K,K=x,x=L()}function Y(l){return l===K.value?(q(),!0):!1}function ve(l){l===K.value?q():re(K,Q.expected,l,B(K))}function Oe(l){return l===9||l===32||l===11||l===12}function Ie(l){return l===10||l===13}function X(l){return l>=48&&l<=57}function xe(l){return l>=48&&l<=57||l>=97&&l<=102||l>=65&&l<=70}function _t(l){return!!(l>=65&&l<=90||l>=97&&l<=122||l===95||fe.extendedIdentifiers&&l>=128)}function gt(l){return!!(l>=65&&l<=90||l>=97&&l<=122||l===95||l>=48&&l<=57||fe.extendedIdentifiers&&l>=128)}function pt(l){switch(l.length){case 2:return l==="do"||l==="if"||l==="in"||l==="or";case 3:return l==="and"||l==="end"||l==="for"||l==="not";case 4:return l==="else"||l==="then"?!0:fe.labels&&!fe.contextualGoto?l==="goto":!1;case 5:return l==="break"||l==="local"||l==="until"||l==="while";case 6:return l==="elseif"||l==="repeat"||l==="return";case 8:return l==="function"}return!1}function ht(l){return Ne===l.type?"#-~".indexOf(l.value)>=0:De===l.type?l.value==="not":!1}function et(l){if(R===l.type)return!0;if(De!==l.type)return!1;switch(l.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}var qe,Je,t;function f(){var l=qe[Je++].slice();qe.push(l),N.onCreateScope&&N.onCreateScope()}function U(){qe.pop(),--Je,N.onDestroyScope&&N.onDestroyScope()}function I(l){N.onLocalDeclaration&&N.onLocalDeclaration(l),ot(qe[Je],l)===-1&&qe[Je].push(l)}function E(l){I(l.name),z(l,!0)}function z(l,u){!u&&mt(t,"name",l.name)===-1&&t.push(l),l.isLocal=u}function J(l){return ot(qe[Je],l)!==-1}var D=[],O;function Z(){return new me(K)}function me(l){N.locations&&(this.loc={start:{line:l.line,column:l.range[0]-l.lineStart},end:{line:0,column:0}}),N.ranges&&(this.range=[l.range[0],0])}me.prototype.complete=function(){N.locations&&(this.loc.end.line=oe.lastLine||oe.line,this.loc.end.column=oe.range[1]-(oe.lastLineStart||oe.lineStart)),N.ranges&&(this.range[1]=oe.range[1])},me.prototype.bless=function(l){if(this.loc){var u=this.loc;l.loc={start:{line:u.start.line,column:u.start.column},end:{line:u.end.line,column:u.end.column}}}this.range&&(l.range=[this.range[0],this.range[1]])};function pe(){O&&D.push(Z())}function he(l){O&&D.push(l)}function Ue(){this.scopes=[],this.pendingGotos=[]}Ue.prototype.isInLoop=function(){for(var l=this.scopes.length;l-- >0;)if(this.scopes[l].isLoop)return!0;return!1},Ue.prototype.pushScope=function(l){var u={labels:{},locals:[],deferredGotos:[],isLoop:!!l};this.scopes.push(u)},Ue.prototype.popScope=function(){for(var l=0;l<this.pendingGotos.length;++l){var u=this.pendingGotos[l];u.maxDepth>=this.scopes.length&&--u.maxDepth<=0&&re(u.token,Q.labelNotVisible,u.target)}this.scopes.pop()},Ue.prototype.addGoto=function(l,u){for(var V=[],G=0;G<this.scopes.length;++G){var W=this.scopes[G];if(V.push(W.locals.length),Object.prototype.hasOwnProperty.call(W.labels,l))return}this.pendingGotos.push({maxDepth:this.scopes.length,target:l,token:u,localCounts:V})},Ue.prototype.addLabel=function(l,u){var V=this.currentScope();if(Object.prototype.hasOwnProperty.call(V.labels,l))re(u,Q.labelAlreadyDefined,l,V.labels[l].line);else{for(var G=[],W=0;W<this.pendingGotos.length;++W){var Te=this.pendingGotos[W];if(Te.maxDepth>=this.scopes.length&&Te.target===l){Te.localCounts[this.scopes.length-1]<V.locals.length&&V.deferredGotos.push(Te);continue}G.push(Te)}this.pendingGotos=G}V.labels[l]={localCount:V.locals.length,line:u.line}},Ue.prototype.addLocal=function(l,u){this.currentScope().locals.push({name:l,token:u})},Ue.prototype.currentScope=function(){return this.scopes[this.scopes.length-1]},Ue.prototype.raiseDeferredErrors=function(){for(var l=this.currentScope(),u=l.deferredGotos,V=0;V<u.length;++V){var G=u[V];re(G.token,Q.gotoJumpInLocalScope,G.target,l.locals[G.localCounts[this.scopes.length-1]].name)}};function ce(){this.level=0,this.loopLevels=[]}ce.prototype.isInLoop=function(){return!!this.loopLevels.length},ce.prototype.pushScope=function(l){++this.level,l&&this.loopLevels.push(this.level)},ce.prototype.popScope=function(){var l=this.loopLevels,u=l.length;u&&l[u-1]===this.level&&l.pop(),--this.level},ce.prototype.addGoto=ce.prototype.addLabel=function(){throw new Error("This should never happen")},ce.prototype.addLocal=ce.prototype.raiseDeferredErrors=function(){};function Me(){return fe.labels?new Ue:new ce}function rt(){q(),pe(),N.scope&&f();var l=Me();l.allowVararg=!0,l.pushScope();var u=Ce(l);return l.popScope(),N.scope&&U(),R!==K.type&&$e(K),O&&!u.length&&(oe=K),le(ue.chunk(u))}function Ce(l){for(var u=[],V;!et(K);){if(K.value==="return"||!fe.relaxedBreak&&K.value==="break"){u.push(Bt(l));break}V=Bt(l),Y(";"),V&&u.push(V)}return u}function Bt(l){if(pe(),Ne===K.type&&Y("::"))return $t(l);if(fe.emptyStatement&&Y(";")){O&&D.pop();return}if(l.raiseDeferredErrors(),De===K.type)switch(K.value){case"local":return q(),Jt(l);case"if":return q(),jt(l);case"return":return q(),Kt(l);case"function":q();var u=Zt();return Vt(u);case"while":return q(),Wt(l);case"for":return q(),Ht(l);case"repeat":return q(),qt(l);case"break":return q(),l.isInLoop()||re(K,Q.noLoopToBreak,K.value),Ot();case"do":return q(),xt(l);case"goto":return q(),Gt(l)}return fe.contextualGoto&&K.type===se&&K.value==="goto"&&x.type===se&&x.value!=="goto"?(q(),Gt(l)):(O&&D.pop(),Xt(l))}function $t(l){var u=K,V=Pe();return N.scope&&(I("::"+u.value+"::"),z(V,!0)),ve("::"),l.addLabel(u.value,u),le(ue.labelStatement(V))}function Ot(){return le(ue.breakStatement())}function Gt(l){var u=K.value,V=oe,G=Pe();return l.addGoto(u,V),le(ue.gotoStatement(G))}function xt(l){N.scope&&f(),l.pushScope();var u=Ce(l);return l.popScope(),N.scope&&U(),ve("end"),le(ue.doStatement(u))}function Wt(l){var u=Fe(l);ve("do"),N.scope&&f(),l.pushScope(!0);var V=Ce(l);return l.popScope(),N.scope&&U(),ve("end"),le(ue.whileStatement(u,V))}function qt(l){N.scope&&f(),l.pushScope(!0);var u=Ce(l);ve("until"),l.raiseDeferredErrors();var V=Fe(l);return l.popScope(),N.scope&&U(),le(ue.repeatStatement(V,u))}function Kt(l){var u=[];if(K.value!=="end"){var V=kt(l);for(V!=null&&u.push(V);Y(",");)V=Fe(l),u.push(V);Y(";")}return le(ue.returnStatement(u))}function jt(l){var u=[],V,G,W;for(O&&(W=D[D.length-1],D.push(W)),V=Fe(l),ve("then"),N.scope&&f(),l.pushScope(),G=Ce(l),l.popScope(),N.scope&&U(),u.push(le(ue.ifClause(V,G))),O&&(W=Z());Y("elseif");)he(W),V=Fe(l),ve("then"),N.scope&&f(),l.pushScope(),G=Ce(l),l.popScope(),N.scope&&U(),u.push(le(ue.elseifClause(V,G))),O&&(W=Z());return Y("else")&&(O&&(W=new me(oe),D.push(W)),N.scope&&f(),l.pushScope(),G=Ce(l),l.popScope(),N.scope&&U(),u.push(le(ue.elseClause(G)))),ve("end"),le(ue.ifStatement(u))}function Ht(l){var u=Pe(),V;if(N.scope&&(f(),E(u)),Y("=")){var G=Fe(l);ve(",");var W=Fe(l),Te=Y(",")?Fe(l):null;return ve("do"),l.pushScope(!0),V=Ce(l),l.popScope(),ve("end"),N.scope&&U(),le(ue.forNumericStatement(u,G,W,Te,V))}else{for(var ke=[u];Y(",");)u=Pe(),N.scope&&E(u),ke.push(u);ve("in");var Re=[];do{var bt=Fe(l);Re.push(bt)}while(Y(","));return ve("do"),l.pushScope(!0),V=Ce(l),l.popScope(),ve("end"),N.scope&&U(),le(ue.forGenericStatement(ke,Re,V))}}function Jt(l){var u,V=oe;if(se===K.type){var G=[],W=[];do u=Pe(),G.push(u),l.addLocal(u.name,V);while(Y(","));if(Y("="))do{var Te=Fe(l);W.push(Te)}while(Y(","));if(N.scope)for(var ke=0,Re=G.length;ke<Re;++ke)E(G[ke]);return le(ue.localStatement(G,W))}if(Y("function"))return u=Pe(),l.addLocal(u.name,V),N.scope&&(E(u),f()),Vt(u,!0);we("<name>",K)}function Xt(l){var u,V,G,W,Te,ke=[];O&&(V=Z());do{if(O&&(u=Z()),se===K.type)Te=K.value,W=Pe(),N.scope&&z(W,J(Te)),G=!0;else if(K.value==="(")q(),W=Fe(l),ve(")"),G=!1;else return $e(K);e:for(;;){switch(ze===K.type?'"':K.value){case".":case"[":G=!0;break;case":":case"(":case"{":case'"':G=null;break;default:break e}W=Ut(W,u,l)}if(ke.push(W),K.value!==",")break;if(!G)return $e(K);q()}while(!0);if(ke.length===1&&G===null)return he(u),le(ue.callStatement(ke[0]));if(!G)return $e(K);ve("=");var Re=[];do Re.push(Fe(l));while(Y(","));return he(V),le(ue.assignmentStatement(ke,Re))}function Pe(){pe();var l=K.value;return se!==K.type&&we("<name>",K),q(),le(ue.identifier(l))}function Vt(l,u){var V=Me();V.pushScope();var G=[];if(ve("("),!Y(")"))for(;;){if(se===K.type){var W=Pe();if(N.scope&&E(W),G.push(W),Y(","))continue}else Qe===K.type?(V.allowVararg=!0,G.push(wt(V))):we("<name> or '...'",K);ve(")");break}var Te=Ce(V);return V.popScope(),ve("end"),N.scope&&U(),u=u||!1,le(ue.functionStatement(l,G,u,Te))}function Zt(){var l,u,V;for(O&&(V=Z()),l=Pe(),N.scope&&(z(l,J(l.name)),f());Y(".");)he(V),u=Pe(),l=le(ue.memberExpression(l,".",u));return Y(":")&&(he(V),u=Pe(),l=le(ue.memberExpression(l,":",u)),N.scope&&I("self")),l}function It(l){for(var u=[],V,G;;){if(pe(),Ne===K.type&&Y("["))V=Fe(l),ve("]"),ve("="),G=Fe(l),u.push(le(ue.tableKey(V,G)));else if(se===K.type)x.value==="="?(V=Pe(),q(),G=Fe(l),u.push(le(ue.tableKeyString(V,G)))):(G=Fe(l),u.push(le(ue.tableValue(G))));else{if((G=kt(l))==null){D.pop();break}u.push(le(ue.tableValue(G)))}if(",;".indexOf(K.value)>=0){q();continue}break}return ve("}"),le(ue.tableConstructorExpression(u))}function kt(l){var u=Lt(0,l);return u}function Fe(l){var u=kt(l);if(u==null)we("<expression>",K);else return u}function Qt(l){var u=l.charCodeAt(0),V=l.length;if(V===1)switch(u){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(V===2)switch(u){case 47:return 10;case 46:return 8;case 60:case 62:return l==="<<"||l===">>"?7:3;case 61:case 126:return 3;case 111:return 1}else if(u===97&&l==="and")return 2;return 0}function Lt(l,u){var V=K.value,G,W;if(O&&(W=Z()),ht(K)){pe(),q();var Te=Lt(10,u);Te==null&&we("<expression>",K),G=le(ue.unaryExpression(V,Te))}if(G==null&&(G=wt(u),G==null&&(G=Yt(u))),G==null)return null;for(var ke;V=K.value,ke=Ne===K.type||De===K.type?Qt(V):0,!(ke===0||ke<=l);){(V==="^"||V==="..")&&--ke,q();var Re=Lt(ke,u);Re==null&&we("<expression>",K),O&&D.push(W),G=le(ue.binaryExpression(V,G,Re))}return G}function Ut(l,u,V){var G,W;if(Ne===K.type)switch(K.value){case"[":return he(u),q(),G=Fe(V),ve("]"),le(ue.indexExpression(l,G));case".":return he(u),q(),W=Pe(),le(ue.memberExpression(l,".",W));case":":return he(u),q(),W=Pe(),l=le(ue.memberExpression(l,":",W)),he(u),Ct(l,V);case"(":case"{":return he(u),Ct(l,V)}else if(ze===K.type)return he(u),Ct(l,V);return null}function Yt(l){var u,V,G;if(O&&(G=Z()),se===K.type)V=K.value,u=Pe(),N.scope&&z(u,J(V));else if(Y("("))u=Fe(l),ve(")");else return null;for(;;){var W=Ut(u,G,l);if(W===null)break;u=W}return u}function Ct(l,u){if(Ne===K.type)switch(K.value){case"(":fe.emptyStatement||K.line!==oe.line&&re(null,Q.ambiguousSyntax,K.value),q();var V=[],G=kt(u);for(G!=null&&V.push(G);Y(",");)G=Fe(u),V.push(G);return ve(")"),le(ue.callExpression(l,V));case"{":pe(),q();var W=It(u);return le(ue.tableCallExpression(l,W))}else if(ze===K.type)return le(ue.stringCallExpression(l,wt(u)));we("function arguments",K)}function wt(l){var u=ze|Ke|_e|je|Qe,V=K.value,G=K.type,W;if(O&&(W=Z()),G===Qe&&!l.allowVararg&&re(K,Q.cannotUseVararg,K.value),G&u){he(W);var Te=k.slice(K.range[0],K.range[1]);return q(),le(ue.literal(G,V,Te))}else{if(De===G&&V==="function")return he(W),q(),N.scope&&f(),Vt(null);if(Y("{"))return he(W),It(l)}}ge.parse=en;var Mt={"5.1":{},"5.2":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,relaxedBreak:!0},"5.3":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,bitwiseOperators:!0,integerDivision:!0,relaxedBreak:!0},LuaJIT:{labels:!0,contextualGoto:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,imaginaryNumbers:!0,integerSuffixes:!0}};function en(l,u){if(typeof u>"u"&&typeof l=="object"&&(u=l,l=void 0),u||(u={}),k=l||"",N=it({},ee,u),b=0,p=1,y=0,Ve=k.length,qe=[[]],Je=0,t=[],D=[],!Object.prototype.hasOwnProperty.call(Mt,N.luaVersion))throw new Error(at("Lua version '%1' not supported",N.luaVersion));if(fe=it({},Mt[N.luaVersion]),N.extendedIdentifiers!==void 0&&(fe.extendedIdentifiers=!!N.extendedIdentifiers),!Object.prototype.hasOwnProperty.call(We,N.encodingMode))throw new Error(at("Encoding mode '%1' not supported",N.encodingMode));return ye=We[N.encodingMode],N.comments&&(C=[]),N.wait?ge:zt()}ge.write=Pt;function Pt(l){return k+=String(l),Ve=k.length,ge}ge.end=zt;function zt(l){typeof l<"u"&&Pt(l),k&&k.substr(0,2)==="#!"&&(k=k.replace(/^.*/,function(V){return V.replace(/./g," ")})),Ve=k.length,O=N.locations||N.ranges,x=L();var u=rt();if(N.comments&&(u.comments=C),N.scope&&(u.globals=t),D.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return u}})})(St,St.exports);var dn=St.exports;const ut=tn(dn);var vt={},Rt={exports:{}};Rt.exports;(function(lt){function h(x){for(var C=0,g=x.length;g--;)C+=x.charCodeAt(g),C+=C<<10,C^=C>>6;return C+=C<<3,C^=C>>11,C+=C<<15,C}const ge=console.log,k=function(x,C){if(!x)throw C};function N(x,C){if(!x)return 0;var g=x.toString().split(".");return g.length>1?parseInt(g[0],C)+parseInt(g[1],C)/Math.pow(C,g[1].length):parseInt(g[0],C)}let Ve=[" ",`
`,"	","\r"],fe={r:"\r",n:`
`,t:"	",'"':'"',"'":"'","\\":"\\"};const ye=new Proxy(fe,{get(x,C){return N(C)}});let ee=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ge=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","t","u","v","w","h","i","j","k","l","m","n","o","p","q","r","s","x","y","z"],Ze=["0","1","2","3","4","5","6","7","8","9"],ft=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"],We=["0","1"],R=["+","-","*",")",";","/","^","%","#",",","{","}",":","[","]","(",".","`"],ze=["~","=",">","<"],De=["+","-","*","/","^","..","%","//"],se=["+=","-=","*=","/=","^=","..=","%=","//="],Ke=["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while","continue"],Ne=["else","elseif","until","end"],_e=["-","not","#","~"],je=["+","-","*","/","%","^","#","//","&","|","~","<<",">>","..",".",":",">","<","<=",">=","~=","==","+=","-=","*=","/=","%=","^=","..=","//=","and","or"],Qe=11,Q={"^":[13,12],"%":[10,10],"//":[10,10],"/":[10,10],"*":[10,10],"+":[9,9],"-":[9,9],"..":[8,7],">>":[7,7],"<<":[7,7],"&":[6,6],"~":[5,5],"|":[4,4],"==":[3,3],"~=":[3,3],">=":[3,3],"<=":[3,3],">":[3,3],"<":[3,3],"+=":[3,3],"-=":[3,3],"*=":[3,3],"/=":[3,3],"^=":[3,3],"%=":[3,3],"..=":[3,3],"//=":[3,3],and:[2,2],or:[1,1]};function ue(x){let C=0,g=x.length,p=[];function y(e){return e=e||0,C<=g?x.substr(C+e,1):""}function L(){if(C<=g){let e=x.substr(C,1);return C++,e}else return""}function n(e){let i=0,s=1,d=1;for(;i<=C;)x.substr(i,1)==`
`?(s++,d=1):d++;let F;for(F=0;F<p.length;F++){let $=p[F];ge(`${$.Type}<${$.Source}>`)}throw`file<${s}:${d}>: ${e}`}function S(e){for(;;){let i=L();if(i=="")n("Unfinished long string.");else if(i=="]"){let s=!0,d;for(d=1;d<=e;d++)if(y()=="=")C++;else{s=!1;break}if(s&&L()=="]")return}}}function r(){let e=C;for(;y()=="=";)C++;if(y()=="[")return C++,C-e-1;C=e}let a=0,m=0;function w(e){let i=x.substr(m,C-m),s=null;e=="Number"&&(i.substr(0,2).toLowerCase()=="0x"?(s="hex",parseInt(i,16)<999999999999&&(i=parseInt(i,16))):i.substr(0,2).toLowerCase()=="0b"&&(s="bin",parseInt(i.substr(2),2)<999999999999&&(i=parseInt(i.substr(2),2))));let d={Type:e,LeadingWhite:x.substr(a,m-a),Source:i};return s!==null&&(d.NType=s),p.push(d),a=C,m=C,d}for(;;){for(a=C;;){let i=y();if(i=="")break;if(i=="-")if(y(1)=="-")if(C+=2,y()=="["){C++;let s=r();if(s!=null)S(s),a=C;else for(;;){let d=L();if(d==""||d==`
`)break}}else for(;;){let s=L();if(s==""||s==`
`)break}else break;else if(Ve.includes(i))C++;else break}x.substr(a,C-a),m=C;let e=L();if(e==""){w("Eof");break}else if(e=="'"||e=='"'){for(;;){let i=L();if(i=="\\"){let s=L();if(ye[s]==null)throw`Invalid Escape Sequence \`${s}\`.`}else{if(i==e)break;if(i=="")throw"Unfinished string!"}}w("String")}else if(e=="`"){for(;;){let i=L();if(i=="\\"){let s=L();if(ye[s]==null)throw`Invalid Escape Sequence \`${s}\`.`}else{if(i==e)break;if(i=="")throw"Unfinished string!"}}w("Hash")}else if(ee.includes(e)){for(;Ge.includes(y());)C++;Ke.includes(x.substr(m,C-m))?w("Keyword"):w("Ident")}else if(Ze.includes(e)||e=="."&&Ze.includes(y())){if(e=="0"&&y().toLowerCase()=="x")for(C++;ft.includes(y())||y()==="_";)C++;else if(e=="0"&&y().toLowerCase()=="b")for(C++;We.includes(y())||y()==="_";)C++;else{for(;Ze.includes(y())||y()==="_";)C++;if(y()==".")for(C++;Ze.includes(y());)C++;if(y()=="e"||y()=="E")for(C++,(y()=="-"||y()=="+")&&C++;Ze.includes(y());)C++}w("Number")}else if(e=="["){let i=r();i!=null?(S(i),w("String")):w("Symbol")}else if(e==".")y()=="."&&(L(),(y()=="."||y()=="=")&&L()),w("Symbol");else if(e+y()=="//")L(),y()=="="&&L(),w("Symbol");else if(e+y()=="::")L(),w("Symbol");else if(je.includes(e+y()))L(),w("Symbol");else if(ze.includes(e))y()=="="&&C++,w("Symbol");else if(De.includes(e)&&y()=="=")L(),w("Symbol");else if(R.includes(e))w("Symbol");else throw`Bad symbol \`${e}\` in source. ${C}`}return p}function le(x){let C=ue(x),g=0;function p(){let f=C[g];return g<C.length&&g++,f}function y(f){return f=g+(f||0),C[f]||C[C.length-1]}function L(f){let U=1,I=0,E=0;for(;;){let z=C[E],J;z==f?J=z.LeadingWhite:J=z.LeadingWhite+z.Source;let D;for(D=0;D<=J.length;D++)J.substr(D,1)==`
`?(U++,I=0):I++;if(z==f)break;E++}return`${U}:${I+1}`}function n(){let f=y();return`<${f.Type} \`${f.Source}\`> at: ${L(f)}`}function S(){let f=y();return f.Type=="Eof"||f.Type=="Keyword"&&Ne.includes(f.Source)}function r(){return _e.includes(y().Source)||!1}function a(){return je.includes(y().Source)||!1}function m(f,U){let I=y();if(I.Type==f&&(U==null||I.Source==U))return p();{let E;for(E=-3;E<=3;E++)ge(`Tokens[${E}] = \`${y(E).Source}\``);throw U?`${L(I)}: \`${U}\` expected.`:`${L(I)}: ${f} expected.`}}function w(f){let U=f.GetFirstToken,I=f.GetLastToken,E=f;return f.GetFirstToken=function(){let z=U(E);return k(z),z},f.GetLastToken=function(){let z=I(E);return k(z),z},f}let e,i;function s(f,U){let I=[i(f,U)],E=[];for(;y().Source==",";)E.push(p()),I.push(i(f,U));return[I,E]}function d(f,U){var E,z,J,D;let I=y();if(I.Source=="("){let O=p(),Z=i(f,U),me=m("Symbol",")"),pe;return pe=w({Type:"ParenExpr",Expression:Z,Token_OpenParen:O,Token_CloseParen:me,GetFirstToken:()=>pe.Token_OpenParen,GetLastToken:()=>pe.Token_CloseParen}),pe}else if(I.Type=="Ident"){let O;return O=w({Type:"VariableExpr",Token:p(),GetFirstToken:()=>O.Token,GetLastToken:()=>O.Token}),f[O.Token.Source]!=null&&((z=(E=f[O.Token.Source])==null?void 0:E.Tokens)==null?void 0:z.push)!=null?(f[O.Token.Source].Tokens.push(O.Token),f[O.Token.Source].UseCountIncrease()):U[O.Token.Source]!=null&&((D=(J=U[O.Token.Source])==null?void 0:J.Tokens)==null?void 0:D.push)!=null&&(U[O.Token.Source].Tokens.push(O.Token),U[O.Token.Source].UseCountIncrease()),O}else throw ge(n()),`${L(I)}: Unexpected symbol. ${I.Type} ${I.Source}`}function F(f,U){let I=m("Symbol","{"),E=[],z=[];for(;y().Source!="}";){if(y().Source=="["){let O=p(),Z=i(f,U),me=m("Symbol","]"),pe=m("Symbol","="),he=i(f,U);Z.Token&&Z.Token.Source,E.push({EntryType:"Index",Index:Z,Value:he,Token_OpenBracket:O,Token_CloseBracket:me,Token_Equals:pe})}else if(y().Type=="Ident"&&y(1).Source=="="){let O=p(),Z=p(),me=i(f,U);E.push({EntryType:"Field",Field:O,Value:me,Token_Equals:Z})}else{let O=i(f,U);E.push({EntryType:"Value",Value:O})}if(y().Source==","||y().Source==";")z.push(p());else break}let J=m("Symbol","}"),D;return D=w({Type:"TableLiteral",EntryList:E,Token_SeperatorList:z,Token_OpenBrace:I,Token_CloseBrace:J,GetFirstToken:()=>D.Token_OpenBrace,GetLastToken:()=>D.Token_CloseBrace}),D}function $(f,U){let I=[],E=[];if(y().Type=="Ident"){let z=p();if(U&&y().Source=="<"&&y(2).Source==">"){let J=y(1).Source;z.Attribute={LeadingWhite:y().LeadingWhite,Source:`<${J}>`},p(),p(),p()}I.push(z)}else if(y().Source=="..."&&f)return[I,E,p()];for(;y().Source==",";){if(E.push(p()),y().Source=="..."&&f)return[I,E,p()];{let z=m("Ident");if(U&&y().Source=="<"&&y(2).Source==">"){let J=y(1).Source;z.Attribute={LeadingWhite:y().LeadingWhite,Source:`<${J}>`},p(),p(),p()}I.push(z)}}return[I,E]}function te(f,U,I){let E=e(U,I),z=y();if(z.Type=="Keyword"&&z.Source==f)return p(),[E,z];throw ge(z.Type,z.Source),`${L(z)}: ${f} expected.`}function Ee(f,U,I,E){let z=p(),J,D;if(!f){J=[],D=[];let rt=m("Ident");for(J.push(rt);y().Source==".";)D.push(p()),J.push(m("Ident"));y().Source==":"&&(D.push(p()),J.push(m("Ident")))}let O=m("Symbol","("),[Z,me,pe]=$(!0),he=m("Symbol",")"),[Ue,ce]=te("end",U,I),Me;return Me=w({Type:f==!0?"FunctionLiteral":"FunctionStat",NameChain:J,ArgList:Z,Body:Ue,Token_Function:z,Token_NameChainSeperator:D,Token_OpenParen:O,Token_Varg:pe,Token_ArgCommaList:me,Token_CloseParen:he,Token_End:ce,GetFirstToken:()=>Me.Token_Function,GetLastToken:()=>Me.Token_End}),Me}function Le(f,U){let I=y();if(I.Source=="("){let E=p(),z=[],J=[];for(;y().Source!=")"&&(z.push(i(f,U)),y().Source==",");)J.push(p());let D=m("Symbol",")"),O;return O=w({CallType:"ArgCall",ArgList:z,Token_CommaList:J,Token_OpenParen:E,Token_CloseParen:D,GetFirstToken:()=>O.Token_OpenParen,GetLastToken:()=>O.Token_CloseParen}),O}else if(I.Source=="{"){let E;return E=w({CallType:"TableCall",TableExpr:i(f,U),GetFirstToken:()=>E.TableExpr.GetFirstToken(),GetLastToken:()=>E.TableExpr.GetLastToken()}),E}else if(I.Type=="String"){let E;return E=w({CallType:"StringCall",Token:p(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else throw"Function arguments expected."}function de(f,U){let I=d(f,U);for(k(I,"nil prefixexpr");;){let E=y();if(E.Source=="."){let z=p(),J=m("Ident"),D;D=w({Type:"FieldExpr",Base:I,Field:J,Token_Dot:z,GetFirstToken:()=>D.Base.GetFirstToken(),GetLastToken:()=>D.Field}),I=D}else if(E.Source==":"){let z=p(),J=m("Ident"),D=Le(f,U),O;O=w({Type:"MethodExpr",Base:I,Method:J,FunctionArguments:D,Token_Colon:z,GetFirstToken:()=>O.Base.GetFirstToken(),GetLastToken:()=>O.FunctionArguments.GetLastToken()}),I=O}else if(E.Source=="["){let z=p(),J=i(f,U),D=m("Symbol","]"),O;O=w({Type:"IndexExpr",Base:I,Index:J,Token_OpenBracket:z,Token_CloseBracket:D,GetFirstToken:()=>O.Base.GetFirstToken(),GetLastToken:()=>O.Token_CloseBracket}),I=O}else if(E.Source=="{"||E.Source=="("||E.Type=="String"){let z;z=w({Type:"CallExpr",Base:I,FunctionArguments:Le(f,U),GetFirstToken:()=>z.Base.GetFirstToken(),GetLastToken:()=>z.FunctionArguments.GetLastToken()}),I=z}else if(se.includes(E.Source)){let z=p(),J=i(f,U),D;D=w({Type:"CompoundStat",Base:I,Token_Compound:z,Rhs:J,Lhs:I,GetFirstToken:()=>D.Base.GetFirstToken(),GetLastToken:()=>D.Rhs.GetLastToken()}),I=D}else return I}}function q(f,U){let I=y();if(I.Type=="Number"){let E;return E=w({Type:"NumberLiteral",Token:p(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else if(I.Type=="String"){let E;return E=w({Type:"StringLiteral",Token:p(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else if(I.Type=="Hash"){let E;return E=w({Type:"HashLiteral",Token:p(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else if(I.Source=="nil"){let E;return E=w({Type:"NilLiteral",Token:p(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else if(I.Source=="true"||I.Source=="false"){let E;return E=w({Type:"BooleanLiteral",Token:p(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else if(I.Source=="..."){let E;return E=w({Type:"VargLiteral",Token:p(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else return I.Source=="{"?F(f,U):I.Source=="function"?Ee(!0,f,U):de(f,U)}function Y(f,U,I){let E;if(r()){let z=p(),J=Y(Qe,U,I),D;D=w({Type:"UnopExpr",Token_Op:z,Rhs:J,GetFirstToken:()=>D.Token_Op,GetLastToken:()=>D.Rhs.GetLastToken()}),E=D}else E=q(U,I),k(E,"nil sipleexpr");for(;a()&&Q[y().Source]!=null&&Q[y().Source][0]>f;){let z=p(),J=Y(Q[z.Source][1],U,I);k(J,"RhsNeeded");let D;D=w({Type:"BinopExpr",Lhs:E,Rhs:J,Token_Op:z,GetFirstToken:()=>D.Lhs.GetFirstToken(),GetLastToken:()=>D.Rhs.GetLastToken()}),E=D}return E}i=(f,U)=>Y(0,f,U);function ve(f,U){let I=de(f,U);if(I.Type=="MethodExpr"||I.Type=="CallExpr"){let E;return E=w({Type:"CallExprStat",Expression:I,GetFirstToken:()=>E.Expression.GetFirstToken(),GetLastToken:()=>E.Expression.GetLastToken()}),E}else{if(I.Type=="CompoundStat")return I;{let E=[I],z=[];for(;y().Source==",";){z.push(p());let me=de(f,U);if(me.Type=="MethodExpr"||me.Type=="CallExpr")throw"Bad left hand side of asignment";E.push(me)}let J=m("Symbol","="),D=[i(f,U)],O=[];for(;y().Source==",";)O.push(p()),D.push(i(f,U));let Z;return Z=w({Type:"AssignmentStat",Rhs:D,Lhs:E,Token_Equals:J,Token_LhsSeperatorList:z,Token_RhsSeperatorList:O,GetFirstToken:()=>Z.Lhs[0].GetFirstToken(),GetLastToken:()=>Z.Rhs[Z.Rhs.length-1].GetLastToken()}),Z}}}function Oe(f,U){let I=p(),E=i(f,U),z=m("Keyword","then"),J=e(f,U),D=[];for(;y().Source=="elseif"||y().Source=="else";){let me=p(),pe,he;me.Source=="elseif"&&(pe=i(f,U),he=m("Keyword","then"));let Ue=e(f,U);if(D.push({Condition:pe,Body:Ue,ClauseType:me.Source,Token:me,Token_Then:he}),me.Source=="else")break}let O=m("Keyword","end"),Z;return Z=w({Type:"IfStat",Condition:E,Body:J,ElseClauseList:D,Token_If:I,Token_Then:z,Token_End:O,GetFirstToken:()=>Z.Token_If,GetLastToken:()=>Z.Token_End}),Z}function Ie(f,U){let I=p(),[E,z]=te("end",f,U),J;return J=w({Type:"DoStat",Body:E,Token_Do:I,Token_End:z,GetFirstToken:()=>J.Token_Do,GetLastToken:()=>J.Token_End}),J}function X(f,U){let I=p(),E=i(f,U),z=m("Keyword","do"),[J,D]=te("end",f,U),O;return O=w({Type:"WhileStat",Condition:E,Body:J,Token_While:I,Token_Do:z,Token_End:D,GetFirstToken:()=>O.Token_While,GetLastToken:()=>O.Token_End}),O}function xe(f,U){let I=p(),[E,z]=$();if(y().Source=="="){let J=p(),[D,O]=s(f,U);if(D.length<2||D.length>3)throw"Expected 2 or 3 values for range bounds";let Z=m("Keyword","do"),[me,pe]=te("end",f,U),he;return he=w({Type:"NumericForStat",VarList:E,RangeList:D,Body:me,Token_For:I,Token_VarCommaList:z,Token_Equals:J,Token_RangeCommaList:O,Token_Do:Z,Token_End:pe,GetFirstToken:()=>he.Token_For,GetLastToken:()=>he.Token_End}),he}else if(y().Source=="in"){let J=p(),[D,O]=s(f,U),Z=m("Keyword","do"),[me,pe]=te("end",f,U),he;return he=w({Type:"GenericForStat",VarList:E,GeneratorList:D,Body:me,Token_For:I,Token_VarCommaList:z,Token_In:J,Token_GeneratorCommaList:O,Token_Do:Z,Token_End:pe,GetFirstToken:()=>he.Token_For,GetLastToken:()=>he.Token_End}),he}}function _t(f,U){let I=p(),[E,z]=te("until",f),J=i(f,U),D;return D=w({Type:"RepeatStat",Body:E,Condition:J,Token_Repeat:I,Token_Until:z,GetFirstToken:()=>D.Token_Repeat,GetLastToken:()=>D.Condition.GetLastToken()}),D}function gt(f,U){let I=p();if(y().Source=="function"){let E=Ee(!1,f,U);if(E.NameChain.length>1)throw L(E.Token_NameChainSeperator[0])+": `(` expected.";let z;return z=w({Type:"LocalFunctionStat",FunctionStat:E,Token_Local:I,GetFirstToken:()=>z.Token_Local,GetLastToken:()=>z.FunctionStat.GetLastToken()}),z}else if(y().Type=="Ident"){let[E,z]=$(!1,!0),J=[],D=[],O;if(y().Source=="="){O=p();let[me,pe]=s(f,U);J=me,D=pe}let Z;return Z=w({Type:"LocalVarStat",VarList:E,ExprList:J,Token_Local:I,Token_Equals:O,Token_VarCommaList:z,Token_ExprCommaList:D,GetFirstToken:()=>Z.Token_Local,GetLastToken:function(){return Z.ExprList.length>0?Z.ExprList[Z.ExprList.length-1].GetLastToken():Z.VarList[Z.VarList.length-1]}}),Z}else throw"`function` or ident expected"}function pt(f,U){let I=p(),E,z;S()||y().Source==";"?(E=[],z=[]):[E,z]=s(f,U);let J;return J={Type:"ReturnStat",ExprList:E,Token_Return:I,Token_CommaList:z,GetFirstToken:()=>J.Token_Return,GetLastToken:function(){return J.ExprList.length>0?J.ExprList[J.ExprList.length-1].GetLastToken():J.Token_Return}},J}function ht(f,U){let I=p(),E;return E={Type:"BreakStat",Token_Break:I,GetFirstToken:()=>E.Token_Break,GetLastToken:()=>E.Token_Break},E}function et(f,U){let I=p(),E;return E={Type:"ContinueStat",Token_Continue:I,GetFirstToken:()=>E.Token_Continue,GetLastToken:()=>E.Token_Continue},E}function qe(){let f=p(),U;y().Type=="Keyword"?U=m("Keyword"):U=m("Ident");let I;return I={Type:"GotoStat",Token_Goto:f,Token_Label:U,GetFirstToken:()=>I.Token_Goto,GetLastToken:()=>I.Token_Label},I}function Je(){let f=p(),U;y().Type=="Keyword"?U=m("Keyword"):U=m("Ident");let I=m("Symbol","::"),E;return E={Type:"LabelStat",Token_ColonsLeft:f,Token_Label:U,Token_ColonsRight:I,GetFirstToken:()=>E.Token_ColonsLeft,GetLastToken:()=>E.Token_ColonsRight},E}function t(f,U){let I=y();return I.Source=="if"?[!1,Oe(f,U)]:I.Source=="while"?[!1,X(f,U)]:I.Source=="do"?[!1,Ie(f,U)]:I.Source=="for"?[!1,xe(f,U)]:I.Source=="repeat"?[!1,_t(f,U)]:I.Source=="function"?[!1,Ee(!1,f,U)]:I.Source=="local"?[!1,gt(f,U)]:I.Source=="return"?[!0,pt(f,U)]:I.Source=="break"?[!0,ht()]:I.Source=="continue"?[!0,et()]:I.Source=="goto"?[!1,qe()]:I.Source=="::"?[!1,Je()]:[!1,ve(f,U)]}return e=function(f,U){let I=[],E=[],z={},J={};if(U!=null)for(let[me,pe]of Object.entries(U))J[me]=pe;if(f!=null)for(let[me,pe]of Object.entries(f))J[me]=pe;let D,O=0;for(;!S();){D&&D==y()&&ge(`INFINITE LOOP POSSIBLE ON STATEMENT ${D.Source} :`,D),D=y();let[me,pe]=t(z,J);if(pe)switch(I.push(pe),pe.Type){case"LocalVarStat":pe.VarList.forEach(ce=>{ce.UseCount=0,ce.Number=O++,z[ce.Source]=ce;let Me=[];function rt(){ce.UseCount++,Me.forEach(Ce=>{Ce.UseCount=ce.UseCount})}ce.Tokens={},ce.Tokens.push=Ce=>{Ce.UseCountIncrease=rt,Ce.UseCount=ce.UseCount,Ce.Tokens=ce.Tokens,Me.push(Ce)},ce.Tokens.get=()=>Me,ce.UseCountIncrease=rt});break;case"LocalFunctionStat":let Ue=pe.FunctionStat.NameChain;if(Ue.length===1){let rt=function(){ce.UseCount++,Me.forEach(Ce=>{Ce.UseCount=ce.UseCount})},ce=Ue[0];ce.UseCount=0,ce.Number=O++,z[ce.Source]=ce;let Me=[];ce.Tokens={},ce.Tokens.push=Ce=>{Ce.UseCountIncrease=rt,Ce.UseCount=ce.UseCount,Ce.Tokens=ce.Tokens,Me.push(Ce)},ce.Tokens.get=()=>Me,ce.UseCountIncrease=rt}break}let he=y();he.Type=="Symbol"&&he.Source==";"&&(E[I.length-1]=p())}let Z;return Z={Type:"StatList",StatementList:I,SemicolonList:E,GetFirstToken:function(){var me;if(Z.StatementList.length!=0)return(me=Z.StatementList[0])==null?void 0:me.GetFirstToken()},GetLastToken:function(){if(Z.StatementList.length!=0)return Z.SemicolonList[Z.StatementList.length-1]?Z.SemicolonList[Z.StatementList.length-1]:Z.StatementList[Z.StatementList.length-1].GetLastToken()}},Z},e([],[])}function He(x,C){let g={BinopExpr:!0,UnopExpr:!0,NumberLiteral:!0,StringLiteral:!0,NilLiteral:!0,BooleanLiteral:!0,VargLiteral:!0,HashLiteral:!0,FieldExpr:!0,IndexExpr:!0,MethodExpr:!0,CallExpr:!0,FunctionLiteral:!0,VariableExpr:!0,ParenExpr:!0,TableLiteral:!0},p={StatList:!0,BreakStat:!0,ContinueStat:!0,LabelStat:!0,GotoStat:!0,ReturnStat:!0,LocalVarStat:!0,LocalFunctionStat:!0,FunctionStat:!0,RepeatStat:!0,GenericForStat:!0,NumericForStat:!0,WhileStat:!0,DoStat:!0,IfStat:!0,CallExprStat:!0,AssignmentStat:!0,CompoundStat:!0};for(var[y,L]of Object.entries(C))if(!p[y]&&!g[y])throw`Invalid visitor target: \`${y}\``;function n(m){if(m!=null){let w=C[m.Type];if(typeof w=="function")return w(m);if(w&&w.Pre)return w.Pre(m)}}function S(m){let w=C[m.Type];if(w&&typeof w=="object"&&w.Post)return w.Post(m)}let r,a;r=function(m){if(!n(m)){if(m.Type=="BinopExpr")r(m.Lhs),r(m.Rhs);else if(m.Type=="UnopExpr")r(m.Rhs);else if(!(m.Type=="NumberLiteral"||m.Type=="StringLiteral"||m.Type=="NilLiteral"||m.Type=="BooleanLiteral"||m.Type=="VargLiteral"||m.Type=="HashLiteral")){if(m.Type=="FieldExpr")r(m.Base);else if(m.Type=="IndexExpr")r(m.Base),r(m.Index);else if(m.Type=="MethodExpr"||m.Type=="CallExpr")r(m.Base),m.FunctionArguments.CallType=="ArgCall"?m.FunctionArguments.ArgList.forEach((w,e)=>{r(w)}):m.FunctionArguments.CallType=="TableCall"&&r(m.FunctionArguments.TableExpr);else if(m.Type=="FunctionLiteral")a(m.Body);else if(m.Type!="VariableExpr")if(m.Type=="ParenExpr")r(m.Expression);else if(m.Type=="TableLiteral")m.EntryList.forEach((w,e)=>{if(w.EntryType=="Field")r(w.Value);else if(w.EntryType=="Index")r(w.Index),r(w.Value);else if(w.EntryType=="Value")r(w.Value);else throw"unreachable"});else if(m.Type=="CompoundStat")r(m.Lhs),r(m.Rhs);else throw`unreachable, type: ${m.Type}: ${m}`}S(m)}},a=function(m){if(!n(m)){if(m.Type=="StatList")m.StatementList.forEach((w,e)=>{if(w!=null){if(w===null||w.Type===null)return;w.Remove=()=>{m.StatementList[e]=null},a(w)}});else if(m.Type!="BreakStat"){if(m.Type!="ContinueStat"){if(m.Type!="GotoStat"){if(m.Type!="LabelStat")if(m.Type=="ReturnStat")m.ExprList.forEach((w,e)=>{r(w)});else if(m.Type=="LocalVarStat")m.Token_Equals&&m.ExprList.forEach((w,e)=>{r(w)});else if(m.Type=="LocalFunctionStat")a(m.FunctionStat.Body);else if(m.Type=="FunctionStat")a(m.Body);else if(m.Type=="RepeatStat")a(m.Body),r(m.Condition);else if(m.Type=="GenericForStat")m.GeneratorList.forEach((w,e)=>{r(w)}),a(m.Body);else if(m.Type=="NumericForStat")m.RangeList.forEach((w,e)=>{r(w)}),a(m.Body);else if(m.Type=="WhileStat")r(m.Condition),a(m.Body);else if(m.Type=="DoStat")a(m.Body);else if(m.Type=="IfStat")r(m.Condition),a(m.Body),m.ElseClauseList.forEach(w=>{w.Condition!=null&&r(w.Condition),a(w.Body)});else if(m.Type=="CallExprStat")r(m.Expression);else if(m.Type=="CompoundStat")r(m.Lhs),r(m.Rhs);else if(m.Type=="AssignmentStat")m.Lhs.forEach(w=>{r(w)}),m.Rhs.forEach(w=>{r(w)});else throw"unreachable"}}}S(m)}},p[x.Type]?a(x):r(x)}function ot(x){let C=[],g,p=0;function y(){return p++,p}function L(){g={ParentScope:g,ChildScopeList:[],VariableList:[],BeginLocation:y(),Depth:null,GetVar:null},g.ParentScope?(g.Depth=g.ParentScope.Depth+1,g.ParentScope.ChildScopeList.push(g)):g.Depth=1;let i=g;g.GetVar=function(s){for(const d of i.VariableList)if(d.Name==s)return d;if(i.ParentScope)return i.ParentScope.GetVar(s);for(const d of C)if(d.Name==s)return d}}function n(){let i=g;return i.EndLocation=y(),i.VariableList.forEach(s=>{s.ScopeEndLocation=i.EndLocation}),g=i.ParentScope,i}L();function S(i,s,d){k(d,"MIssing localInfo"),k(i,"Missing local var name");let F={Type:"Local",Name:i,RenameList:[s],AssignedTo:!1,Info:d,Scope:g,BeginLocation:y(),EndLocation:y(),ReferenceLocationList:[y()]};return F.Rename=function($){F.Name=$,F.RenameList.forEach(te=>{te($)})},g.VariableList.push(F),F}function r(i){for(const d of C)if(d.Name==i)return d;let s={Type:"Global",Name:i,RenameList:[],AssignedTo:!1,Scope:null,BeginLocation:y(),EndLocation:y(),ReferenceLocationList:[]};return s.Rename=function(d){s.Name=d,s.RenameList.forEach(F=>{F(d)})},C.push(s),s}function a(i,s){k(i,"Missing var name");let d=r(i);return d.RenameList.push(s),d}function m(i,s){let d;for(d=i.VariableList.length-1;d>=0;d--)if(i.VariableList[d].Name==s)return i.VariableList[d];if(i.ParentScope){let F=m(i.ParentScope,s);if(F)return F}}function w(i,s){k(i,"Missing var name");let d=m(g,i);d?d.RenameList.push(s):d=a(i,s);let F=y();return d.EndLocation=F,d.ReferenceLocationList.push(d.EndLocation),d}let e={};return e.FunctionLiteral={Pre:function(i){L(),i.ArgList.forEach((s,d)=>{let F=S(s.Source,function($,te){te||(s.Source=$)},{Type:"Argument",Index:d});s.var=F})},Post:function(i){n()}},e.VariableExpr=function(i){i.Variable=w(i.Token.Source,function(s){i.Token.Source=s})},e.StatList={Pre:function(i){L()},Post:function(i){i.SkipPop||n()}},e.LocalVarStat={Post:function(i){i.VarList.forEach((s,d)=>{S(s.Source,function(F){i.VarList[d].Source=F},{Type:"Local"})})}},e.LocalFunctionStat={Pre:function(i){S(i.FunctionStat.NameChain[0].Source,function(s){i.FunctionStat.NameChain[0].Source=s},{Type:"LocalFunction"}),L(),i.FunctionStat.ArgList.forEach((s,d)=>{S(s.Source,function(F){s.Source=F},{Type:"Argument",Index:d})})},Post:function(){n()}},e.FunctionStat={Pre:function(i){let s=i.NameChain,d;s.length==1?m(g,s[0].Source)?d=w(s[0].Source,function(F){s[0].Source=F}):d=a(s[0].Source,function(F){s[0].Source=F}):d=w(s[0].Source,function(F){s[0].Source=F}),d.AssignedTo=!0,L(),i.ArgList.forEach((F,$)=>{S(F.Source,function(te){F.Source=te},{Type:"Argument",Index:$})})},Post:function(){n()}},e.GenericForStat={Pre:function(i){return i.GeneratorList.forEach(s=>{He(s,e)}),L(),i.VarList.forEach((s,d)=>{S(s.Source,function(F){s.Source=F},{Type:"ForRange",Index:d})}),He(i.Body,e),n(),!0}},e.NumericForStat={Pre:function(i){return i.RangeList.forEach(s=>{He(s,e)}),L(),i.VarList.forEach((s,d)=>{S(s.Source,function(F){s.Source=F},{Type:"ForRange",Index:d})}),He(i.Body,e),n(),!0}},e.RepeatStat={Pre:function(i){i.Body.SkipPop=!0},Post:function(i){n()}},e.AssignmentStat={Post:function(i){i.Lhs.forEach(s=>{s.Variable!=null&&(s.Variable.AssignedTo=!0)})}},He(x,e),[C,n()]}function mt(x){let C,g,p="",y=n=>typeof(n==null?void 0:n.LeadingWhite)!="string"?" ":n.LeadingWhite;function L(n){if(n.LeadingWhite==null||n.Source==null)throw`Bad token: tk=${n} | lwhite=${n.LeadingWhite} | source=${n.Source}`;p=`${p}${n.LeadingWhite}${n.Source}`}return g=function(n){if(n.Type=="BinopExpr")g(n.Lhs),L(n.Token_Op),g(n.Rhs);else if(n.Type=="UnopExpr")L(n.Token_Op),g(n.Rhs);else if(n.Type=="NumberLiteral"||n.Type=="StringLiteral"||n.Type=="NilLiteral"||n.Type=="BooleanLiteral"||n.Type=="VargLiteral"||n.Type=="HashLiteral")L(n.Token);else if(n.Type=="FieldExpr")g(n.Base),L(n.Token_Dot),L(n.Field);else if(n.Type=="IndexExpr")g(n.Base),L(n.Token_OpenBracket),g(n.Index),L(n.Token_CloseBracket);else if(n.Type=="MethodExpr"||n.Type=="CallExpr")g(n.Base),n.Type=="MethodExpr"&&(L(n.Token_Colon),L(n.Method)),n.FunctionArguments.CallType=="StringCall"?L(n.FunctionArguments.Token):n.FunctionArguments.CallType=="ArgCall"?(L(n.FunctionArguments.Token_OpenParen),n.FunctionArguments.ArgList.forEach((S,r)=>{g(S);let a=n.FunctionArguments.Token_CommaList[r];a!=null&&L(a)}),L(n.FunctionArguments.Token_CloseParen)):n.FunctionArguments.CallType=="TableCall"&&g(n.FunctionArguments.TableExpr);else if(n.Type=="FunctionLiteral")L(n.Token_Function),L(n.Token_OpenParen),n.ArgList.forEach((S,r)=>{L(S);let a=n.Token_ArgCommaList[r];a!=null&&L(a)}),n.Token_Varg!=null&&L(n.Token_Varg),L(n.Token_CloseParen),C(n.Body),L(n.Token_End);else if(n.Type=="VariableExpr")L(n.Token);else if(n.Type=="ParenExpr")L(n.Token_OpenParen),g(n.Expression),L(n.Token_CloseParen);else if(n.Type=="TableLiteral")L(n.Token_OpenBrace),n.EntryList.forEach((S,r)=>{if(S.EntryType=="Field")L(S.Field),L(S.Token_Equals),g(S.Value);else if(S.EntryType=="Index")L(S.Token_OpenBracket),g(S.Index),L(S.Token_CloseBracket),L(S.Token_Equals),g(S.Value);else if(S.EntryType=="Value")g(S.Value);else throw"unreachable";let a=n.Token_SeperatorList[r];a!=null&&L(a)}),L(n.Token_CloseBrace);else if(n.Type=="CompoundStat")C(n);else throw`unreachable, type: ${n.Type}: ${n}`},C=function(n){if(n==null)throw`STAT IS NIL! ${n}`;if(!(n.Type==="StatList"&&n.StatementList.length===0)){if(n.WrapInDo){let S=y(n.GetFirstToken());n.GetFirstToken().LeadingWhite="",p+=`${S}do `}n.Type=="StatList"?n.StatementList.forEach((S,r)=>{S===null||S.Type===null||(S.Remove=()=>{n.StatementList[r]=null},C(S),n.SemicolonList[r]&&L(n.SemicolonList[r]))}):n.Type=="BreakStat"?L(n.Token_Break):n.Type=="ContinueStat"?L(n.Token_Continue):n.Type=="GotoStat"?(L(n.Token_Goto),L(n.Token_Label)):n.Type=="LabelStat"?(L(n.Token_ColonsLeft),L(n.Token_Label),L(n.Token_ColonsRight)):n.Type=="ReturnStat"?(L(n.Token_Return),n.ExprList.forEach((S,r)=>{g(S),n.Token_CommaList[r]&&L(n.Token_CommaList[r])})):n.Type=="LocalVarStat"?(L(n.Token_Local),n.VarList.forEach((S,r)=>{L(S),S.Attribute!=null&&L(S.Attribute);let a=n.Token_VarCommaList[r];a!=null&&L(a)}),n.Token_Equals!=null&&(L(n.Token_Equals),n.ExprList.forEach((S,r)=>{g(S);let a=n.Token_ExprCommaList[r];a!=null&&L(a)}))):n.Type=="LocalFunctionStat"?(L(n.Token_Local),L(n.FunctionStat.Token_Function),L(n.FunctionStat.NameChain[0]),L(n.FunctionStat.Token_OpenParen),n.FunctionStat.ArgList.forEach((S,r)=>{L(S);let a=n.FunctionStat.Token_ArgCommaList[r];a!=null&&L(a)}),n.FunctionStat.Token_Varg&&L(n.FunctionStat.Token_Varg),L(n.FunctionStat.Token_CloseParen),C(n.FunctionStat.Body),L(n.FunctionStat.Token_End)):n.Type=="FunctionStat"?(L(n.Token_Function),n.NameChain.forEach((S,r)=>{L(S);let a=n.Token_NameChainSeperator[r];a!=null&&L(a)}),L(n.Token_OpenParen),n.ArgList.forEach((S,r)=>{L(S);let a=n.Token_ArgCommaList[r];a!=null&&L(a)}),n.Token_Varg&&L(n.Token_Varg),L(n.Token_CloseParen),C(n.Body),L(n.Token_End)):n.Type=="RepeatStat"?(L(n.Token_Repeat),C(n.Body),L(n.Token_Until),g(n.Condition)):n.Type=="GenericForStat"?(L(n.Token_For),n.VarList.forEach((S,r)=>{L(S);let a=n.Token_VarCommaList[r];a!=null&&L(a)}),L(n.Token_In),n.GeneratorList.forEach((S,r)=>{g(S);let a=n.Token_GeneratorCommaList[r];a!=null&&L(a)}),L(n.Token_Do),C(n.Body),L(n.Token_End)):n.Type=="NumericForStat"?(L(n.Token_For),n.VarList.forEach((S,r)=>{L(S);let a=n.Token_VarCommaList[r];a!=null&&L(a)}),L(n.Token_Equals),n.RangeList.forEach((S,r)=>{g(S);let a=n.Token_RangeCommaList[r];a!=null&&L(a)}),L(n.Token_Do),C(n.Body),L(n.Token_End)):n.Type=="WhileStat"?(L(n.Token_While),g(n.Condition),L(n.Token_Do),C(n.Body),L(n.Token_End)):n.Type=="DoStat"?(L(n.Token_Do),C(n.Body),L(n.Token_End)):n.Type=="IfStat"?(L(n.Token_If),g(n.Condition),L(n.Token_Then),C(n.Body),n.ElseClauseList.forEach(S=>{L(S.Token),S.Condition!=null&&(g(S.Condition),L(S.Token_Then)),C(S.Body)}),L(n.Token_End)):n.Type=="CallExprStat"?g(n.Expression):n.Type=="CompoundStat"?(g(n.Lhs),L(n.Token_Compound),g(n.Rhs),n.Type="CompoundStat"):n.Type=="AssignmentStat"?(n.Lhs.forEach((S,r)=>{g(S);let a=n.Token_LhsSeperatorList[r];a!=null&&L(a)}),L(n.Token_Equals),n.Rhs.forEach((S,r)=>{g(S);let a=n.Token_RhsSeperatorList[r];a!=null&&L(a)})):k(!1,"unreachable"),n.WrapInDo&&(p+=" end ")}},C(x),p}function at(x){let C,g,p=0;function y(e){if(e===void 0)return;let i=`
${"	".repeat(p)}`;if(e.LeadingWhite==""||e.LeadingWhite.substr(-i.length,i.length)!=i){let s="",d;for(d=e.LeadingWhite.length;d>=0;d--){let F=e.LeadingWhite.substr(d,1);if(!(F==""||F.match(/\s/g))){s=e.LeadingWhite.substr(0,d+1);break}}e.LeadingWhite=`${s}${i}`}}function L(){p++}function n(){p--,k(p>=0,"Undented too far")}function S(e){return e.LeadingWhite.length>0?e.LeadingWhite.substr(0,1):e.Source.toString().substr(0,1)}function r(e){e.LeadingWhite=e.LeadingWhite.trim()}function a(e){r(e),Ve.includes(S(e))||(e.LeadingWhite=" "+e.LeadingWhite)}function m(e){a(e.GetFirstToken())}function w(e,i,s){L(),C(i),n(),y(s)}g=function(e){if(e.Type=="BinopExpr")g(e.Lhs),g(e.Rhs),m(e.Rhs),a(e.Token_Op);else if(e.Type=="UnopExpr")r(e.Token_Op),g(e.Rhs),e.Token_Op.Source[0]&&a(e.Rhs.GetFirstToken());else if(e.Type=="NumberLiteral"||e.Type=="StringLiteral"||e.Type=="NilLiteral"||e.Type=="BooleanLiteral"||e.Type=="VargLiteral"||e.Type=="HashLiteral")r(e.Token),e.Type=="HashLiteral"&&(e.Token.Source='"'+h(`${e.Token.Source.substring(1,e.Token.Source.length-1)}`)+'"',e.Type="StringLiteral",e.Token.Type="String");else if(e.Type=="FieldExpr")g(e.Base);else if(e.Type=="IndexExpr")g(e.Base),g(e.Index);else if(e.Type=="MethodExpr"||e.Type=="CallExpr")g(e.Base),r(e.FunctionArguments.GetFirstToken()),r(e.FunctionArguments.GetLastToken()),e.Type=="MethodExpr",e.FunctionArguments.CallType=="StringCall"||(e.FunctionArguments.CallType=="ArgCall"?e.FunctionArguments.ArgList.forEach((i,s)=>{g(i),s>0&&m(i);let d=e.FunctionArguments.Token_CommaList[s];d!=null&&r(d)}):e.FunctionArguments.CallType=="TableCall"&&g(e.FunctionArguments.TableExpr));else if(e.Type=="FunctionLiteral")e.ArgList.forEach((i,s)=>{s>0&&a(i),e.Token_ArgCommaList[s]}),e.ArgList.length>0&&e.Token_Varg!=null&&a(e.Token_Varg),w(e.Token_CloseParen,e.Body,e.Token_End);else if(e.Type!="VariableExpr")if(e.Type=="ParenExpr")r(e.Token_OpenParen),r(e.Token_CloseParen),g(e.Expression);else if(e.Type=="TableLiteral"){if(e.EntryList.length!=0){L();let i=100;e.EntryList.forEach((s,d)=>{s.EntryType=="Field"?(e.EntryList.length>i?it(s.Value):y(s.Field),a(s.Token_Equals),g(s.Value),m(s.Value)):s.EntryType=="Index"?(e.EntryList.length>i?r(s.Token_OpenBracket):y(s.Token_OpenBracket),g(s.Index),a(s.Token_Equals),g(s.Value),m(s.Value)):s.EntryType=="Value"?(g(s.Value),e.EntryList.length>i?it(s.Value):y(s.Value.GetFirstToken())):k(!1,"unreachable");let F=e.Token_SeperatorList[d];F!=null&&(e.EntryList.length>i?F.LeadingWhite="":r(F))}),n(),e.EntryList.length>i?e.Token_CloseBrace.LeadingWhite="":y(e.Token_CloseBrace)}}else if(e.Type=="CompoundStat")C(e);else throw ge(e),`unreachable, type: ${e.Type}:`+e},C=function(e){if(e.Type=="StatList")e.StatementList.forEach((i,s)=>{i===null||i.Type===null||i.Type==="StatList"&&i.StatementList.length===0||(i.Remove=()=>{i.StatementList[s]=null},C(i),y(i.GetFirstToken()))});else if(e.Type!="BreakStat"){if(e.Type!="ContinueStat"){if(e.Type!="GotoStat"){if(e.Type!="LabelStat")if(e.Type=="ReturnStat")e.ExprList.forEach((i,s)=>{g(i),m(i),e.Token_CommaList[s]});else if(e.Type=="LocalVarStat"){if(e.VarList.forEach((i,s)=>{a(i),i.Attribute&&(i.Attribute.LeadingWhite=" "),e.Token_VarCommaList[s]}),e.Token_Equals){r(e.Token_Equals),a(e.Token_Equals);let i=[],s=[];e.ExprList.forEach((d,F)=>{d!=null&&(F<e.VarList.length||d.Type=="CallExpr"||d.Type=="ParenExpr"||d.Type=="VargLiteral"||d.Type=="BinopExpr"||d.Type=="UnopExpr")&&(i.push(d),s.push(e.Token_ExprCommaList[F]))}),e.ExprList=i,e.CommaList=s,e.ExprList.forEach((d,F)=>{d!=null&&(g(d),m(d),e.Token_ExprCommaList[F]!=null&&e.ExprList.length-1==F&&(e.Token_ExprCommaList[F]=null))})}}else if(e.Type=="LocalFunctionStat")a(e.FunctionStat.Token_Function),a(e.FunctionStat.NameChain[0]),e.FunctionStat.ArgList.forEach((i,s)=>{s>0?a(i):r(i);let d=e.FunctionStat.Token_ArgCommaList[s];d&&r(d)}),e.FunctionStat.ArgList.length>0&&e.FunctionStat.Token_Varg?(r(e.FunctionStat.Token_Varg),a(e.FunctionStat.Token_Varg)):e.FunctionStat.Token_Varg&&r(e.FunctionStat.Token_Varg),r(e.FunctionStat.Token_OpenParen),r(e.FunctionStat.Token_CloseParen),w(e.FunctionStat.Token_CloseParen,e.FunctionStat.Body,e.FunctionStat.Token_End);else if(e.Type=="FunctionStat")e.NameChain.forEach((i,s)=>{s==0&&a(i),e.Token_NameChainSeperator[s]}),e.ArgList.forEach((i,s)=>{s>0&&a(i),e.Token_ArgCommaList[s]}),e.ArgList.length>0&&e.Token_Varg&&a(e.Token_Varg),w(e.Token_CloseParen,e.Body,e.Token_End);else if(e.Type=="RepeatStat")w(e.Token_Repeat,e.Body,e.Token_Until),g(e.Condition),m(e.Condition);else if(e.Type=="GenericForStat")e.VarList.forEach((i,s)=>{a(i),e.Token_VarCommaList[s]}),a(e.Token_In),e.GeneratorList.forEach((i,s)=>{g(i),m(i),e.Token_GeneratorCommaList[s]}),a(e.Token_Do),w(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="NumericForStat")e.VarList.forEach((i,s)=>{a(i),e.Token_VarCommaList[s]}),a(e.Token_Equals),e.RangeList.forEach((i,s)=>{g(i),m(i),e.Token_RangeCommaList[s]}),a(e.Token_Do),w(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="WhileStat")g(e.Condition),m(e.Condition),a(e.Token_Do),w(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="DoStat")w(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="IfStat"){g(e.Condition),m(e.Condition),a(e.Token_Then);let i=e.Token_Then,s=e.Body;e.ElseClauseList.forEach(d=>{w(i,s,d.Token),i=d.Token,d.Condition!=null&&(g(d.Condition),m(d.Condition),a(d.Token_Then),i=d.Token_Then),s=d.Body}),w(i,s,e.Token_End)}else e.Type=="CallExprStat"?g(e.Expression):e.Type=="CompoundStat"?(g(e.Lhs),g(e.Rhs),m(e.Lhs),m(e.Rhs),a(e.Token_Compound)):e.Type=="AssignmentStat"?(e.Lhs.forEach((i,s)=>{g(i),s>0&&m(i),e.Token_LhsSeperatorList[s]}),a(e.Token_Equals),e.Rhs.forEach((i,s)=>{g(i),m(i),e.Token_RhsSeperatorList[s]})):k(!1,"Unreachable")}}}},C(x)}function it(x){let C,g;function p(n){n&&(n.LeadingWhite="")}function y(n,S,r=!1){p(S);let a=(typeof n.Source=="string"?n.Source:n.Source.toString()).substr(n.Source.length-1,1),m=(typeof S.Source=="string"?S.Source:S.Source.toString()).substr(0,1);a=="-"&&m=="-"||Ge.includes(a)&&Ge.includes(m)||r&&a==")"&&m=="("?S.LeadingWhite=r?";":" ":S.LeadingWhite=""}function L(n,S,r){C(S),p(r);let a=S.GetFirstToken(),m=S.GetLastToken();a!=null?(y(n,a),y(m,r)):y(n,r)}g=function(n){if(n.Type==="BinopExpr")g(n.Lhs),g(n.Rhs),n.Lhs.Type=="NumberLiteral"&&n.Token_Op.Source==".."?n.Token_Op.LeadingWhite=" ":(p(n.Token_Op),y(n.Lhs.GetLastToken(),n.Token_Op)),y(n.Token_Op,n.Rhs.GetFirstToken());else if(n.Type==="UnopExpr")p(n.Token_Op),g(n.Rhs),y(n.Token_Op,n.Rhs.GetFirstToken());else if(n.Type==="NumberLiteral"||n.Type==="StringLiteral"||n.Type==="NilLiteral"||n.Type==="BooleanLiteral"||n.Type==="VargLiteral"||n.Type==="HashLiteral")p(n.Token);else if(n.Type=="FieldExpr")g(n.Base),p(n.Token_Dot),p(n.Field);else if(n.Type=="IndexExpr")g(n.Base),p(n.Token_OpenBracket),g(n.Index),p(n.Token_CloseBracket);else if(n.Type=="MethodExpr"||n.Type=="CallExpr")g(n.Base),n.Type=="MethodExpr"&&(p(n.Token_Colon),p(n.Method)),n.FunctionArguments.CallType=="StringCall"?p(n.FunctionArguments.Token):n.FunctionArguments.CallType=="ArgCall"?(p(n.FunctionArguments.Token_OpenParen),n.FunctionArguments.ArgList.forEach((S,r)=>{g(S);let a=n.FunctionArguments.Token_CommaList[r];a!=null&&p(a)}),p(n.FunctionArguments.Token_CloseParen)):n.FunctionArguments.CallType=="TableCall"&&g(n.FunctionArguments.TableExpr);else if(n.Type=="FunctionLiteral")p(n.Token_Function),p(n.Token_OpenParen),n.ArgList.forEach((S,r)=>{p(S);let a=n.Token_ArgCommaList[r];a!=null&&p(a)}),n.Token_Varg!=null&&p(n.Token_Varg),p(n.Token_CloseParen),L(n.Token_CloseParen,n.Body,n.Token_End);else if(n.Type=="VariableExpr")p(n.Token);else if(n.Type=="ParenExpr")p(n.Token_OpenParen),g(n.Expression),p(n.Token_CloseParen);else if(n.Type=="TableLiteral")p(n.Token_OpenBrace),n.EntryList.forEach((S,r)=>{S.EntryType=="Field"?(p(S.Field),p(S.Token_Equals),g(S.Value)):S.EntryType=="Index"?(p(S.Token_OpenBracket),g(S.Index),p(S.Token_CloseBracket),p(S.Token_Equals),g(S.Value)):S.EntryType=="Value"?g(S.Value):k(!1,"unreachable");let a=n.Token_SeperatorList[r];a!=null&&p(a)}),n.Token_SeperatorList[n.EntryList.length-1]=null,p(n.Token_CloseBrace);else throw`unreachable, type: ${n.Type}:${n}  undefined`},C=function(n){if(n.Type=="StatList"){let S;for(S=0;S<=n.StatementList.length;S++){let r=n.StatementList[S];if(r==null)continue;C(r),p(r.GetFirstToken());let a=n.StatementList[S-1];if(a!=null){let m={")":["(","["],"]":["(","["]};if(n.SemicolonList[S-1]){let w=a.GetLastToken().Source,e=r.GetFirstToken().Source;(m[w]===null||m[w]===void 0||!m[w].includes(e))&&(n.SemicolonList[S-1]=null)}n.SemicolonList[S-1]||y(a.GetLastToken(),r.GetFirstToken(),!0)}}n.SemicolonList[n.StatementList.length-1]=null,n.StatementList.length>0&&p(n.StatementList[0].GetFirstToken())}else if(n.Type=="BreakStat")p(n.Token_Break);else if(n.Type=="ContinueStat")p(n.Token_Continue);else if(n.Type=="GotoStat")p(n.Token_Goto),y(n.Token_Goto,n.Token_Label);else if(n.Type=="LabelStat")p(n.Token_ColonsLeft),p(n.Token_Label),p(n.Token_ColonsRight);else if(n.Type=="ReturnStat")p(n.Token_Return),n.ExprList.forEach((S,r)=>{g(S),n.Token_CommaList[r]!=null&&p(n.Token_CommaList[r])}),n.ExprList.length>0&&y(n.Token_Return,n.ExprList[0].GetFirstToken());else if(n.Type=="LocalVarStat"){p(n.Token_Local);let S=!1;n.VarList.forEach((r,a)=>{a==0?y(n.Token_Local,r):p(r),r.Attribute&&(p(r.Attribute),a+1==n.VarList.length&&(S=!0));let m=n.Token_VarCommaList[a];m!=null&&p(m)}),n.Token_Equals!=null&&(S||p(n.Token_Equals),n.ExprList.forEach((r,a)=>{g(r);let m=n.Token_ExprCommaList[a];m!=null&&p(m)}))}else if(n.Type=="LocalFunctionStat")p(n.Token_Local),y(n.Token_Local,n.FunctionStat.Token_Function),y(n.FunctionStat.Token_Function,n.FunctionStat.NameChain[0]),y(n.FunctionStat.NameChain[0],n.FunctionStat.Token_OpenParen),n.FunctionStat.ArgList.forEach((S,r)=>{p(S);let a=n.FunctionStat.Token_ArgCommaList[r];a!=null&&p(a)}),n.FunctionStat.Token_Varg&&p(n.FunctionStat.Token_Varg),p(n.FunctionStat.Token_CloseParen),L(n.FunctionStat.Token_CloseParen,n.FunctionStat.Body,n.FunctionStat.Token_End);else if(n.Type=="FunctionStat")p(n.Token_Function),n.NameChain.forEach((S,r)=>{r==0?y(n.Token_Function,S):p(S);let a=n.Token_NameChainSeperator[r];a!=null&&p(a)}),p(n.Token_OpenParen),n.ArgList.forEach((S,r)=>{p(S);let a=n.Token_ArgCommaList[r];a!=null&&p(a)}),n.Token_Varg&&p(n.Token_Varg),p(n.Token_CloseParen),L(n.Token_CloseParen,n.Body,n.Token_End);else if(n.Type=="RepeatStat")p(n.Token_Repeat),L(n.Token_Repeat,n.Body,n.Token_Until),g(n.Condition),y(n.Token_Until,n.Condition.GetFirstToken());else if(n.Type=="GenericForStat")p(n.Token_For),n.VarList.forEach((S,r)=>{r==0?y(n.Token_For,S):p(S);let a=n.Token_VarCommaList[r];a!=null&&p(a)}),y(n.VarList[n.VarList.length-1],n.Token_In),n.GeneratorList.forEach((S,r)=>{g(S),r==0&&y(n.Token_In,S.GetFirstToken());let a=n.Token_GeneratorCommaList[r];a!=null&&p(a)}),y(n.GeneratorList[n.GeneratorList.length-1].GetLastToken(),n.Token_Do),L(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="NumericForStat")p(n.Token_For),n.VarList.forEach((S,r)=>{r==0?y(n.Token_For,S):p(S);let a=n.Token_VarCommaList[r];a!=null&&p(a)}),y(n.VarList[n.VarList.length-1],n.Token_Equals),n.RangeList.forEach((S,r)=>{g(S),r==0&&y(n.Token_Equals,S.GetFirstToken());let a=n.Token_RangeCommaList[r];a!=null&&p(a)}),y(n.RangeList[n.RangeList.length-1].GetLastToken(),n.Token_Do),L(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="WhileStat")p(n.Token_While),g(n.Condition),p(n.Token_Do),y(n.Token_While,n.Condition.GetFirstToken()),y(n.Condition.GetLastToken(),n.Token_Do),L(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="DoStat")p(n.Token_Do),p(n.Token_End),L(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="IfStat"){p(n.Token_If),g(n.Condition),y(n.Token_If,n.Condition.GetFirstToken()),y(n.Condition.GetLastToken(),n.Token_Then);let S=n.Token_Then,r=n.Body;n.ElseClauseList.forEach((a,m)=>{L(S,r,a.Token),S=a.Token,a.Condition!=null&&(g(a.Condition),y(a.Token,a.Condition.GetFirstToken()),y(a.Condition.GetLastToken(),a.Token_Then),S=a.Token_Then),C(a.Body),r=a.Body}),L(S,r,n.Token_End)}else if(n.Type=="CallExprStat")g(n.Expression);else if(n.Type=="CompoundStat")g(n.Lhs),p(n.Token_Compound),g(n.Rhs),y(n.Lhs.GetLastToken(),n.Token_Compound),y(n.Token_Compound,n.Rhs.GetFirstToken());else if(n.Type=="AssignmentStat")n.Lhs.forEach((S,r)=>{g(S);let a=n.Token_LhsSeperatorList[r];a!=null&&p(a)}),p(n.Token_Equals),n.Rhs.forEach((S,r)=>{g(S);let a=n.Token_RhsSeperatorList[r];a!=null&&p(a)});else return g(n)},C(x)}function Ye(x){let C,g,p={NumberLiteral:!0,BooleanLiteral:!0,StringLiteral:!0,HashLiteral:!0,NilLiteral:!0,TableLiteral:!0,ParenExpr:!0,BinopExpr:!0};function y(e,i,s=null){let d;return d={Type:e,Token:{Type:s??"Number",LeadingWhite:"",Source:i},GetFirstToken:()=>d.Token,GetLastToken:()=>d.Token},d}function L(e,i,s){let d;return d={Type:"BinopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:e},Lhs:i,Rhs:s,GetFirstToken:()=>d.Lhs.GetFirstToken(),GetLastToken:()=>d.Rhs.GetLastToken()},d}function n(e,i){let s;return s={Type:"UnopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:e},Rhs:i,GetFirstToken:()=>s.Token_Op,GetLastToken:()=>s.Rhs.GetLastToken()},s}function S(e,i){if(i!=null)for(var[s,d]of Object.entries(i))e[s]=d}function r(e){if(e==null||e.substr==null)return;let i=e.substr(0,1),s;if((i=='"'||i=="'")&&(s=e.substr(1,e.length-2)),i=="["){let $=0,te=1;for(;e.substr(te,1)=="=";)$++,te++;s=e.substr(2+$,e.length-4-$-2)}if(s==null)return"";let d="",F;for(F=0;F<=s.length;F++){let $=s.substr(F,1);$=="'"||$=='"'?d+=`\\${$}`:d+=$}return d}function a(e){if(typeof e=="object"&&e.Type=="ParenExpr")return S(e,e.Expression)}function m(e,i,s){let d=i,F=s;if(i&&i.Type=="ParenExpr"&&(d=i.Expression),s&&s.Type=="ParenExpr"&&(F=s.Expression),d==null||F==null||d.Type==null||F.Type==null||d.Type=="VariableExpr"||d.Type=="CallExpr"||d.Type=="BinopExpr"||F.Type=="CallExpr"||F.Type=="BinopExpr"||F.Type=="VariableExpr")return;let $=d.Token||d.Expression!=null&&d.Expression.Token||null,te=F.Token||F.Expression!=null&&F.Expression.Token||null,Ee=$!=null?$.Source:null,Le=te!=null?te.Source:null,de,q;if(d.Type=="BooleanLiteral"&&(de=Ee=="true"),F.Type=="BooleanLiteral"&&(q=Le=="true"),!(d.Type=="NumberLiteral"&&(de=N(Ee),de==null))&&!(F.Type=="NumberLiteral"&&(q=N(Le),q==null))&&((d.Type=="StringLiteral"||d.Type=="HashLiteral")&&(de=Ee.toString()),(F.Type=="StringLiteral"||F.Type=="HashLiteral")&&(q=Le.toString()),de!=null&&q!=null)){if(e=="==")return de==q;if(e=="~=")return de!=q;if(e=="and")return de&&q;if(e=="or")return de||q;if(e==".."&&d.Type=="StringLiteral"&&F.Type=="StringLiteral")return`"${r(Ee)+r(Le)}"`;if(d.Type=="StringLiteral"&&(de=N(r(de))),F.Type=="StringLiteral"&&(q=N(r(q))),de==null||q==null)return;let Y;if(e=="+"&&(Y=de+q),e=="-"&&(Y=de-q),e=="*"&&(Y=de*q),e=="/"&&(Y=de/q),e=="^"&&(Y=de**q),e=="%"&&(Y=de%q),e==">"&&(Y=de>q),e=="<"&&(Y=de<q),e==">="&&(Y=de>=q),e=="<="&&(Y=de<=q),Y==!1||Y==!0||isFinite(Y)&&Y>-(10**6)&&Y<10**6)return Y}}function w(e,i){let s=i.Token||i.Expression||i.EntryList||i;if(s==null||s.Source==null&&i.Type!="TableLiteral"||i.Type=="VariableExpr"||i.Type=="CallExpr"||i.Type=="BinopExpr")return;let d=s.Source,F;if(i.Type=="TableLiteral"&&s!=null){let $=[],te=0,Ee=!1,Le=!1,de=0;if(s.forEach((q,Y)=>{if(Ee)$.push(q);else if(q.EntryType=="Value"||q.EntryType=="Index")if((q.Index==null||q.Index.Type=="NumberLiteral")&&q.Value){if((q.Index!=null&&q.Index.Token!=null&&q.Index.Token.Source!==null?q.Index.Token.Source:de+1).toString()!==(++de).toString())return Ee=!0,Le=!0,$.push(q);q.Value.Type!="CallExpr"?te++:(Ee=!0,$.push(q))}else $.push(q)}),Le)return;if(e=="#")return i.EntryList=$,i.EntryList.length<=0?y("NumberLiteral",te!==null?te:i.EntryList.length):te<=0?n("#",i):L("+",y("NumberLiteral",te),n("#",i))}if(i.Type=="BooleanLiteral"&&(F=d=="true"),!(i.Type=="NumberLiteral"&&(F=N(d),F===null))){if(i.Type=="StringLiteral"&&(F=d.substr(1,d.length-2)),e=="not"&&i.Type!==null)return i.Type=="NilLiteral"||i.Type=="BooleanLiteral"&&F===!1;if(F!=null){if(e=="#")return F.length;if(e=="-")return-F}}}g=function(e){if(e.Type=="BinopExpr"){if(g(e.Lhs),g(e.Rhs),e.Lhs!=null&&e.Rhs!=null){let i=e.Token_Op;if(i!=null&&i.Source!=null){let s=m(i.Source,e.Lhs,e.Rhs);if(s!=null){if(typeof s=="boolean"){let d=y("BooleanLiteral",s.toString(),"Keyword");S(e,d);return}else if(typeof s=="number"){if(isFinite(s)==!0){let d=y("NumberLiteral",s.toString(),"Number");S(e,d);return}}else if(typeof s=="string"){let d=y("StringLiteral",s,"String");S(e,d);return}else if(typeof s=="object"){S(e,s);return}return}}if(e.Lhs.Type=="ParenExpr"){let d=e.Lhs.Expression;d.Type=="NumberLiteral"||d.Type=="StringLiteral"||d.Type=="NilLiteral"||d.Type=="BooleanLiteral"||d.Type=="HashLiteral"}if(e.Rhs.Type=="ParenExpr"){let d=e.Rhs.Expression;d.Type=="NumberLiteral"||d.Type=="StringLiteral"||d.Type=="NilLiteral"||d.Type=="BooleanLiteral"||d.Type=="HashLiteral"}}}else if(e.Type=="UnopExpr"){if(g(e.Rhs),e.Rhs!=null&&p[e.Rhs.Type]==!0){let i=e.Token_Op;if(i!=null&&i.Source!=null){let s=e.Rhs.Expression!=null?e.Rhs.Expression:e.Rhs,d=w(i.Source,s);if(d!=null){if(typeof d=="boolean"){let F=y("BooleanLiteral",d.toString(),"Keyword");S(e,F);return}else if(typeof d=="number"){if(isFinite(d)==!0){let F=y("NumberLiteral",d,"Number");S(e,F);return}}else if(typeof d=="string"){let F=y("StringLiteral",d,"String");S(e,F);return}else if(typeof d=="object"){S(e,d);return}return}}}}else if(e.Type=="NumberLiteral"||e.Type=="StringLiteral"||e.Type=="NilLiteral"||e.Type=="BooleanLiteral"||e.Type=="VargLiteral"||e.Type=="HashLiteral"){let i=e.Token;if(i!=null){if(i.Type=="Number"){let s=i.Source.toString().split("e");if(s.length===2){let d=N(s[0]),F=N(s[1]);isFinite(d)&&isFinite(F)&&d**F<999999999&&!i.Source.includes("+")&&i.Source.includes(".")&&!i.Source.includes("-")&&(i.Source=(d**F).toString())}}i.Type=="String"&&(i.Source=i.Source.replace(/\\\d+/gi,s=>{let d=N(s.substr(1,s.length-1));return d&&isFinite(d)&&(d>=97&&d<=122||d>=65&&d<=90||d>=33&&d<=47||d>=58&&d<=64||d>=91&&d<=96||d>=123&&d<=126)&&d!==34&&d!==39&&d!==92?String.fromCharCode(d):s}))}}else if(e.Type=="FieldExpr")g(e.Base);else if(e.Type=="IndexExpr")g(e.Base),g(e.Index);else if(e.Type=="MethodExpr"||e.Type=="CallExpr"){if(g(e.Base),e.FunctionArguments.CallType=="ArgCall"?e.FunctionArguments.ArgList.forEach((i,s)=>{g(i)}):e.FunctionArguments.CallType=="TableCall"&&g(e.FunctionArguments.TableExpr),e.Base.Type==="ParenExpr"&&e.Base.Expression.Type==="FunctionLiteral"&&e.FunctionArguments.CallType==="ArgCall"){let i=e.Base.Expression;e.FunctionArguments.ArgList.forEach((s,d)=>{let F=e.FunctionArguments.ArgList[d];if(F!==void 0&&(F.Type=="NumberLiteral"||F.Type=="StringLiteral"||F.Type=="NilLiteral"||F.Type=="BooleanLiteral"||F.Type=="HashLiteral")){let $=i.ArgList[d];$&&$.var.RenameList.forEach(te=>{te(F.Token.Source,!0)})}})}}else if(e.Type=="FunctionLiteral")C(e.Body);else if(e.Type!="VariableExpr")if(e.Type=="ParenExpr"){let i=e.Expression;i!=null&&i.Type=="ParenExpr"&&(e.Expression=i.Expression),g(e.Expression),(e.Type=="NumberLiteral"||e.Type=="StringLiteral"||e.Type=="NilLiteral"||e.Type=="BooleanLiteral"||e.Type=="VargLiteral"||e.Type=="HashLiteral")&&a(e)}else e.Type=="TableLiteral"&&e.EntryList.forEach((i,s)=>{i.EntryType=="Field"?g(i.Value):i.EntryType=="Index"?(g(i.Index),g(i.Value)):i.EntryType=="Value"?g(i.Value):k(!1,"unreachable")})},C=function(e){if(e.Type=="StatList")e.StatementList.forEach((i,s)=>{i===null||i.Type===null||(i.Remove=()=>{e.StatementList[s]=null},C(i))});else if(e.Type!="BreakStat"){if(e.Type!="ContinueStat")if(e.Type=="ReturnStat")e.ExprList.forEach((i,s)=>{g(i)});else if(e.Type=="LocalVarStat")e.Token_Equals!=null&&e.ExprList.forEach((i,s)=>{g(i)});else if(e.Type=="LocalFunctionStat")C(e.FunctionStat.Body),e.FunctionStat.NameChain.length===1&&e.FunctionStat.NameChain[0].UseCount;else if(e.Type=="FunctionStat")C(e.Body);else if(e.Type=="RepeatStat")C(e.Body),g(e.Condition),e.Body.Type=="StatList"&&e.Body.StatementList.length;else if(e.Type=="GenericForStat")e.GeneratorList.forEach((i,s)=>{g(i)}),C(e.Body);else if(e.Type=="NumericForStat"){e.RangeList.forEach((q,Y)=>{g(q)}),C(e.Body);let i=e.RangeList[0],s=e.RangeList[1],d=e.RangeList[2];if(i==null||s==null)return e.Remove();if(a(i),a(s),a(d),i.Type!="NumberLiteral"||s.Type!="NumberLiteral"||d!=null&&d.Type!="NumberLiteral"||d==null)return;let F=N(i.Token.Source),$=N(s.Token.Source),te=d!=null&&N(d.Token.Source)||1,Ee=te>0&&F<=$||te<0&&F>=$,Le=($-F+te)/te;if(!(Ee&&Le>=0)||e.Body.Type=="StatList"&&e.Body.StatementList.length===0)return e.Remove()}else if(e.Type=="WhileStat"){g(e.Condition),C(e.Body);let i=e.Condition;switch(i.Type){case"ParenExpr":i=i.Expression;case"BooleanLiteral":if(i==null||i.Token==null||i.Token.Source!=="false")break;case"NilLiteral":e.Remove();break}}else if(e.Type=="DoStat"){if(C(e.Body),e.Body===null||e.Body.Type=="StatList"&&e.Body.StatementList.length===0)return e.Remove();if(e.Body.StatementList.length===1){let i=e.Body.StatementList[0];i.Type!=="ContinueStat"&&i.Type!=="BreakStat"&&i.Type!=="ReturnStat"&&S(e,i)}}else if(e.Type=="IfStat"){g(e.Condition),C(e.Body),e.ElseClauseList.forEach((s,d)=>{s.Condition!=null&&g(s.Condition),C(s.Body)});let i=e.Condition;switch(i.Type){case"ParenExpr":i=i.Expression;case"BooleanLiteral":if(e.ElseClauseList.length>=1||i==null||i.Token==null||i.Token.Source!=="false")break;case"NilLiteral":e.Remove();break}}else e.Type=="CallExprStat"?g(e.Expression):e.Type=="CompoundStat"?(g(e.Lhs),g(e.Rhs)):e.Type=="AssignmentStat"&&(e.Lhs.forEach((i,s)=>{g(i)}),e.Rhs.forEach((i,s)=>{g(i)}))}},C(x)}let re=[],B;for(B=97;B<=122;B++)re.push(String.fromCharCode(B));for(B=65;B<=90;B++)re.push(String.fromCharCode(B));for(B=48;B<=57;B++)re.push(String.fromCharCode(B));re.push("_");let we=[];for(B=97;B<=122;B++)we.push(String.fromCharCode(B));for(B=65;B<=90;B++)we.push(String.fromCharCode(B));function $e(x){let C="",g=x%we.length;for(x=(x-g)/we.length,C=`${C}${we[g]}`;x>0;){let p=x%re.length;x=(x-p)/re.length,C=`${C}${re[p]}`}return C}function b(x,C,g){let p=[];for(var[y,L]of Object.entries(Ke))p[y]=!0;let n=[];x.forEach(w=>{w.AssignedTo&&g?n.push(w):p[w.Name]=!0});function S(w){w.VariableList.forEach(e=>{n.push(e)}),w.ChildScopeList.forEach(e=>{S(e)})}S(C),n.forEach(w=>{w.UsedNameArray=[]}),n.sort((w,e)=>w-e);let r=0,a=[];function m(w){let e=a[w];if(e==null){for(e=$e(r),r++;p[e];)e=$e(r),r++;a[w]=e}return e}n.forEach((w,e)=>{w.Renamed=!0;let i=0;for(;w.UsedNameArray[i];)i++;w.Rename(m(i)),w.Scope?n.forEach(s=>{s.Renamed||(!s.Scope||s.Scope.Depth<w.Scope.Depth?s.ReferenceLocationList.some(d=>d>=w.BeginLocation&&d<=w.ScopeEndLocation?(s.UsedNameArray[i]=!0,!0):!1):s.Scope.Depth>w.Scope.Depth?w.ReferenceLocationList.some(d=>d>=s.BeginLocation&&d<=s.ScopeEndLocation?(s.UsedNameArray[i]=!0,!0):!1):w.BeginLocation<s.EndLocation&&w.EndLocation>s.BeginLocation&&(s.UsedNameArray[i]=!0))}):n.forEach(s=>{if(!s.Renamed)if(s.Type=="Global")s.UsedNameArray[i]=!0;else if(s.Type=="Local")w.ReferenceLocationList.some(d=>d>=s.BeginLocation&&d<=s.ScopeEndLocation?(s.UsedNameArray[i]=!0,!0):!1);else throw"Unreachable"})})}function K(x,C,g){let p=[];x.forEach(r=>{(!r.AssignedTo||!g)&&(p[r.Name]=!0)});let y=1,L=1;function n(r,a){r.Name=a,r.RenameList.forEach(m=>{m(a)})}if(g){let r={};x.forEach(a=>{a.AssignedTo&&!a.ChangedName&&(r[a.Name]=r[a.Name]||`G_${L}_`,a.ChangedName=!0,n(a,r[a.Name]),L++)})}function S(r){r.VariableList.forEach(a=>{let m=`L_${y}_`;a.Info.Type=="Argument"?m=`${m}arg${a.Info.Index}`:a.Info.Type=="LocalFunction"?m=`${m}func`:a.Info.Type=="ForRange"&&(m=`${m}forvar${a.Info.Index}`),n(a,m),y++}),r.ChildScopeList.forEach(a=>{S(a)})}S(C)}let oe={};oe.Minify=function(x,C){let g=le(x),[p,y]=ot(g);return C.RenameVariables==!0&&b(p,y,C.RenameGlobals),C.SolveMath==!0&&Ye(g),it(g),mt(g)},oe.Beautify=function(x,C){let g=le(x),[p,y]=ot(g);return C.RenameVariables&&K(p,y,C.RenameGlobals),C.SolveMath==!0&&Ye(g),at(g),mt(g)};try{lt!=null&&lt.exports!=null&&(lt.exports.Beautify=oe.Beautify,lt.exports.Minify=oe.Minify)}catch{}})(Rt);var fn=Rt.exports;const At=fn;vt.Beautify=At.Beautify;vt.Minify=At.Minify;vt.Uglify=At.Uglify;const Dt={master:`return {
  desc="\\
",
  hideminimap=false,
  id="ENDLESS",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    bananabush_portalrate="default",
    basicresource_regrowth="always",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="always",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="none",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_varg="default" 
  },
  playstyle="endless",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="\\
",
  settings_id="ENDLESS",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc="\\
",
  worldgen_id="ENDLESS",
  worldgen_name="" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc=" ",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="always",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="always",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="none",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc=" ",
  settings_id="DST_CAVE",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc=" ",
  worldgen_id="DST_CAVE",
  worldgen_name="" 
}`},Nt={master:`return {
  desc="",
  hideminimap=false,
  id="SURVIVAL_TOGETHER",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    bananabush_portalrate="default",
    basicresource_regrowth="none",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="none",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="default",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_varg="default" 
  },
  playstyle="survival",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="",
  settings_id="SURVIVAL_TOGETHER",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc="",
  worldgen_id="SURVIVAL_TOGETHER",
  worldgen_name="" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc=" ",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="none",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="none",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="default",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc=" ",
  settings_id="DST_CAVE",
  settings_name="",
  substitutes={  },
  version=4,
  worldgen_desc=" ",
  worldgen_id="DST_CAVE",
  worldgen_name="" 
}`},cn={class:"page-div"},mn={class:"card-header"},gn={class:"el-form-item-msg"},pn={style:{"font-weight":"bolder"}},hn={class:"item-container"},Tn={style:{"font-weight":"bolder"}},yn={class:"item-container"},_n={style:{"font-weight":"bolder"}},vn={class:"item-container"},kn={style:{"font-weight":"bolder"}},bn={class:"item-container"},Sn={style:{"font-weight":"bolder"}},Vn={class:"item-container"},Ln={style:{"font-weight":"bolder"}},Cn={class:"item-container"},wn={style:{"font-weight":"bolder"}},En={class:"item-container"},Fn={style:{"font-weight":"bolder"}},Rn={class:"item-container"},An={style:{"font-weight":"bolder"}},Bn={class:"item-container"},Gn={style:{"font-weight":"bolder"}},In={class:"item-container"},Un={style:{"font-weight":"bolder"}},Mn={class:"item-container"},Pn={style:{"font-weight":"bolder"}},zn={class:"item-container"},Dn={style:{"font-weight":"bolder"}},Nn={class:"item-container"},$n={style:{"font-weight":"bolder"}},On={class:"item-container"},xn={style:{"margin-top":"10px"}},Wn={style:{"font-weight":"bolder"}},qn={class:"item-container"},Kn={style:{"font-weight":"bolder"}},jn={class:"item-container"},Hn={style:{"font-weight":"bolder"}},Jn={class:"item-container"},Xn={style:{"font-weight":"bolder"}},Zn={class:"item-container"},Qn={style:{"font-weight":"bolder"}},Yn={class:"item-container"},el={style:{"font-weight":"bolder"}},tl={class:"item-container"},nl={style:{"font-weight":"bolder"}},ll={class:"item-container"},ol={style:{"font-weight":"bolder"}},al={class:"item-container"},il={style:{"font-weight":"bolder"}},rl={class:"item-container"},ul={style:{display:"flex","justify-content":"flex-end"}},sl={class:"card-header"},dl={class:"el-form-item-msg"},fl={class:"card-header"},cl={style:{"font-weight":"bolder"}},ml={class:"item-container"},gl={style:{"font-weight":"bolder"}},pl={class:"item-container"},hl={style:{"font-weight":"bolder"}},Tl={class:"item-container"},yl={style:{"font-weight":"bolder"}},_l={class:"item-container"},vl={style:{"font-weight":"bolder"}},kl={class:"item-container"},bl={style:{"font-weight":"bolder"}},Sl={class:"item-container"},Vl={style:{"font-weight":"bolder"}},Ll={class:"item-container"},Cl={style:{"font-weight":"bolder"}},wl={class:"item-container"},El={style:{"font-weight":"bolder"}},Fl={class:"item-container"},Rl={style:{"font-weight":"bolder"}},Al={class:"item-container"},Bl={style:{"font-weight":"bolder"}},Gl={class:"item-container"},Il={style:{"font-weight":"bolder"}},Ul={class:"item-container"},Ml={style:{"font-weight":"bolder"}},Pl={class:"item-container"},zl={style:{"font-weight":"bolder"}},Dl={class:"item-container"},Nl={style:{"font-weight":"bolder"}},$l={class:"item-container"},Ol={style:{"font-weight":"bolder"}},xl={class:"item-container"},Wl={style:{"font-weight":"bolder"}},ql={class:"item-container"},Kl={style:{"font-weight":"bolder"}},jl={class:"item-container"},Hl={style:{"font-weight":"bolder"}},Jl={class:"item-container"},Xl={style:{"font-weight":"bolder"}},Zl={class:"item-container"},Ql={style:{"font-weight":"bolder"}},Yl={class:"item-container"},eo={style:{"font-weight":"bolder"}},to={class:"item-container"},no={style:{"font-weight":"bolder"}},lo={class:"item-container"},oo={style:{display:"flex","justify-content":"flex-end"}},ao=sn({name:"settingsRoom"}),io=Object.assign(ao,{setup(lt){const{t:h}=ln();on(async()=>{await p(),await He()});const ge=Be(!1),{isMobile:k}=an(),N=rn(),Ve=un(()=>N.isDark),fe=Be(),ye=Be(),ee=Be(0),Ge=r=>{g.value?ee.value>r&&(ee.value=r):ee.value>r&&(r===1&&we(),r===2&&$e(),ee.value=r)},Ze=()=>{g.value||(ee.value===2&&we(),ee.value===3&&$e()),ee.value--},ft=async()=>{if(g.value){if(ee.value===0){if(se.value.groundSetting!==""&&_e.value.caveSetting!==""){await y(!1),ee.value=0,ct("");return}We.value.validate(r=>{r&&(L.value?(we(),ee.value++):($e(),ee.value++))})}if(ee.value===1&&We.value.validate(r=>{if(r)try{ut.parse(se.value.groundSetting),ee.value++}catch{ct(h("setting.luaError"))}}),ee.value===2&&Q.value)try{ut.parse(Q.value.modSetting),ee.value++}catch{ct(h("setting.luaError"))}}else if(ee.value===0)We.value.validate(r=>{if(r){if(R.value.masterPort===R.value.cavesPort){ct(h("setting.roomBaseFormRules.samePort"));return}we(),ee.value++}});else if(ee.value===1)De.value.validate(r=>{if(r)try{ut.parse(se.value.groundSetting),$e(),ee.value++}catch{ct(h("setting.luaError"))}});else if(ee.value===2)if(_e.value)try{ut.parse(_e.value.caveSetting),ee.value++}catch{ct(h("setting.luaError"))}else ee.value++;else if(ee.value===3)if(Q.value)try{ut.parse(Q.value.modSetting),ee.value++}catch{ct(h("setting.luaError"))}else ee.value++},We=Be(),R=Be({name:"",description:"",gameMode:"",pvp:!1,playerNum:6,backDays:10,vote:!0,password:"",token:"",masterPort:0,cavesPort:0,shardMasterPort:void 0,steamMasterPort:void 0,steamAuthenticationPort:void 0,shardMasterIp:void 0,clusterKey:void 0}),ze={name:[{required:!0,message:h("setting.roomBaseFormRules.name"),trigger:"blur"}],masterPort:[{required:!0,message:h("setting.roomBaseFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:h("setting.roomBaseFormRules.cavesPort"),trigger:"blur"}],gameMode:[{required:!0,message:h("setting.roomBaseFormRules.gameMode"),trigger:"change"}],token:[{required:!0,message:h("setting.roomBaseFormRules.token"),trigger:"blur"}]},De=Be(),se=Be({groundSetting:""}),Ke={groundSetting:[{required:!0,message:h("setting.roomGroundFormRules.groundSetting"),trigger:"blur"}]},Ne=Be(),_e=Be({caveSetting:""}),je={caveSetting:[{required:!0,message:h("setting.roomCaveFormRules.caveSetting"),trigger:"blur"}]},Qe=Be(),Q=Be({modSetting:""}),ue={modSetting:[{required:!0,message:h("setting.roomModFormRules.modSetting"),trigger:"blur"}]},le=(r,a)=>{r==="master"&&(a==="endless"&&(se.value.groundSetting=Dt.master),a==="survival"&&(se.value.groundSetting=Nt.master),we(),g.value&&(R.value.masterPort=11e3,R.value.cavesPort=0,R.value.shardMasterPort=10888,R.value.steamMasterPort=27018,R.value.steamAuthenticationPort=8768,R.value.shardMasterIp="127.0.0.1",R.value.clusterKey=void 0)),r==="caves"&&(a==="endless"&&(_e.value.caveSetting=Dt.caves),a==="survival"&&(_e.value.caveSetting=Nt.caves),$e(),g.value&&(R.value.masterPort=0,R.value.cavesPort=11001,R.value.shardMasterPort=10888,R.value.steamMasterPort=27019,R.value.steamAuthenticationPort=8769,R.value.shardMasterIp=void 0,R.value.clusterKey=void 0))},He=()=>{yt.room.get().then(r=>{R.value=r.data.base,se.value.groundSetting=r.data.ground,_e.value.caveSetting=r.data.cave,Q.value.modSetting=r.data.mod,se.value.groundSetting===""?L.value=!1:(_e.value.caveSetting,L.value=!0),R.value.masterPort===0&&(R.value.masterPort=11e3),R.value.cavesPort===0&&(R.value.cavesPort=11001)})},ot=r=>{switch(r){case"save":mt();break;case"saveAndRestart":at();break;case"generateNewWorld":it();break}},mt=()=>{const r={base:R.value,ground:se.value.groundSetting,cave:_e.value.caveSetting,mod:Q.value.modSetting};ge.value=!0,yt.save.post(r).then(a=>{Ft(a.message),ge.value=!1}).finally(()=>{ge.value=!1})},at=()=>{const r={base:R.value,ground:se.value.groundSetting,cave:_e.value.caveSetting,mod:Q.value.modSetting};ge.value=!0,yt.saveAndRestart.post(r).then(a=>{Ft(a.message),ge.value=!1}).finally(()=>{ge.value=!1})},it=()=>{const r={base:R.value,ground:se.value.groundSetting,cave:_e.value.caveSetting,mod:Q.value.modSetting};ge.value=!0,yt.saveAndGenerate.post(r).then(a=>{ge.value=!1,Ft(a.message)}).finally(()=>{ge.value=!1})},Ye=Be("Code"),re=Be("Code"),B=Be({}),we=()=>{if(se.value.groundSetting==="")return;const r=ut.parse(se.value.groundSetting),a=b(r);B.value=K(a)},$e=()=>{if(_e.value.caveSetting==="")return;const r=ut.parse(_e.value.caveSetting),a=b(r);B.value=K(a)};function b(r){const m=r.body[0].arguments[0];for(const w of m.fields)if(w.key.type==="Identifier"&&w.key.name==="overrides")return w.value;return null}function K(r){const a={};for(const m of r.fields){const w=m.key.name;a[w]=m.value.raw.replace(/"/g,"")}return a}const oe=r=>{const a=r.name,m=r.value,w=ut.parse(se.value.groundSetting),e=b(w);for(let s of e.fields)s.key.name===a&&(s.value.raw=`"${m}"`);const i=C(w);se.value.groundSetting=vt.Beautify(i,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1}),fe.value&&fe.value.refresh()},x=r=>{const a=r.name,m=r.value,w=ut.parse(_e.value.caveSetting),e=b(w);for(let s of e.fields)s.key.name===a&&(s.value.raw=`"${m}"`);const i=C(w);_e.value.caveSetting=vt.Beautify(i,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1}),ye.value&&ye.value.refresh()},C=(r,a=0)=>{const m="    ".repeat(a);switch(r.type){case"Chunk":return r.body.map(w=>C(w,a)).join(`
`);case"LocalStatement":return`${m}local ${r.variables.map(C).join(", ")} = ${r.init.map(C).join(", ")}`;case"FunctionDeclaration":return`${m}function ${C(r.identifier)}(${r.parameters.map(C).join(", ")}) 
${C(r.body,a+1)}
${m}end`;case"ReturnStatement":return`${m}return ${r.arguments.map(C).join(", ")}`;case"BinaryExpression":return`${C(r.left)} ${r.operator} ${C(r.right)}`;case"CallStatement":return`${m}${C(r.expression)}`;case"Identifier":return r.name;case"StringLiteral":return`${r.raw}`;case"NumericLiteral":return r.raw;case"VarargLiteral":return"...";case"TableConstructorExpression":return`${m}{ ${r.fields.map(w=>C(w,a+1)).join(`,
`+m)} }`;case"Field":return r.key?`${C(r.key)} = ${C(r.value)}`:C(r.value);case"AssignmentStatement":return`${m}${r.variables.map(C).join(", ")} = ${r.init.map(C).join(", ")}`;case"CallExpression":return`${C(r.base)}(${r.arguments.map(C).join(", ")})`;case"TableKeyString":return`${C(r.key)} = ${C(r.value)}`;case"BooleanLiteral":return r.raw;case"TableValue":return C(r.value);default:throw new Error(`Unsupported node type: ${r.type}`)}},g=Be(!1),p=async()=>{await yt.multihost.get().then(r=>{g.value=r.data})},y=r=>{yt.multihost.post({multiHost:!g.value}).then(a=>{g.value=!g.value,r&&n()})},L=Be(!0),n=()=>{se.value.groundSetting="",_e.value.caveSetting="",R.value.masterPort=void 0,R.value.cavesPort=void 0,R.value.shardMasterPort=void 0,R.value.steamMasterPort=void 0,R.value.steamAuthenticationPort=void 0,L.value?R.value.shardMasterIp="127.0.0.1":R.value.shardMasterIp=void 0,R.value.clusterKey=void 0},S={masterPort:[{required:!0,message:h("setting.roomWorldFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:h("setting.roomWorldFormRules.cavesPort"),trigger:"blur"}],shardMasterPort:[{required:!0,message:h("setting.roomWorldFormRules.shardMasterPort"),trigger:"blur"}],steamMasterPort:[{required:!0,message:h("setting.roomWorldFormRules.steamMasterPort"),trigger:"blur"}],steamAuthenticationPort:[{required:!0,message:h("setting.roomWorldFormRules.steamAuthenticationPort"),trigger:"blur"}],shardMasterIp:[{required:!0,message:h("setting.roomWorldFormRules.shardMasterIp"),trigger:"blur"}],clusterKey:[{required:!0,message:h("setting.roomWorldFormRules.clusterKey"),trigger:"blur"}]};return(r,a)=>{const m=Se("el-step"),w=Se("el-steps"),e=Se("el-card"),i=Se("el-col"),s=Se("el-row"),d=Se("el-button"),F=Se("el-input"),$=Se("el-form-item"),te=Se("el-tooltip"),Ee=Se("el-input-number"),Le=Se("el-radio"),de=Se("el-radio-group"),q=Se("el-switch"),Y=Se("el-slider"),ve=Se("el-link"),Oe=Se("el-form"),Ie=Se("el-tab-pane"),X=Se("el-divider"),xe=Se("el-tabs"),_t=Se("el-alert"),gt=Se("el-result"),pt=Se("arrow-down"),ht=Se("el-icon"),et=Se("el-dropdown-item"),qe=Se("el-dropdown-menu"),Je=Se("el-dropdown");return v(),P("div",cn,[g.value?be("",!0):(v(),P(ne,{key:0},[c(s,{gutter:10},{default:T(()=>[c(i,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:T(()=>[c(e,{shadow:"never"},{default:T(()=>[c(w,{active:ee.value,"align-center":"","finish-status":"success"},{default:T(()=>[c(m,{title:o(k)?r.$t("setting.roomSettingMobile"):r.$t("setting.roomSetting"),onClick:a[0]||(a[0]=t=>Ge(0))},null,8,["title"]),c(m,{title:o(k)?r.$t("setting.groundSettingMobile"):r.$t("setting.groundSetting"),onClick:a[1]||(a[1]=t=>Ge(1))},null,8,["title"]),c(m,{title:o(k)?r.$t("setting.caveSettingMobile"):r.$t("setting.caveSetting"),onClick:a[2]||(a[2]=t=>Ge(2))},null,8,["title"]),c(m,{title:o(k)?r.$t("setting.modSettingMobile"):r.$t("setting.modSetting"),onClick:a[3]||(a[3]=t=>Ge(3))},null,8,["title"]),c(m,{title:o(k)?r.$t("setting.finishSettingMobile"):r.$t("setting.finishSetting"),onClick:a[4]||(a[4]=t=>Ge(4))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),c(s,{gutter:10,style:{"margin-top":"5px"}},{default:T(()=>[c(i,{lg:24,md:24,sm:24,span:24,xs:24},{default:T(()=>[ee.value===0?(v(),j(e,{key:0,style:Xe(o(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:T(()=>[M("div",mn,[M("span",null,A(o(h)("setting.roomSetting")),1),M("div",null,[c(d,{link:"",type:"primary",onClick:a[5]||(a[5]=t=>y(!0))},{default:T(()=>[H(A(o(h)("setting.baseForm.changeMultiHostMode")),1)]),_:1})])])]),default:T(()=>[c(Oe,{ref_key:"roomBaseFormRef",ref:We,"label-position":o(k)?"top":"left","label-width":o(k)?"70":"auto",model:R.value,rules:ze,size:o(k)?"small":"large"},{default:T(()=>[c($,{label:o(h)("setting.baseForm.room"),prop:"name"},{default:T(()=>[c(F,{modelValue:R.value.name,"onUpdate:modelValue":a[6]||(a[6]=t=>R.value.name=t)},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.description"),prop:"description"},{default:T(()=>[c(F,{modelValue:R.value.description,"onUpdate:modelValue":a[7]||(a[7]=t=>R.value.description=t)},null,8,["modelValue"])]),_:1},8,["label"]),c($,{prop:"masterPort"},{label:T(()=>[c(te,{content:o(h)("setting.roomBaseFormPortToolTip"),effect:"light",placement:"top"},{default:T(()=>[H(A(o(h)("setting.baseForm.masterPort")),1)]),_:1},8,["content"])]),default:T(()=>[c(Ee,{modelValue:R.value.masterPort,"onUpdate:modelValue":a[8]||(a[8]=t=>R.value.masterPort=t),max:65535,min:1,size:o(k)?"small":"large","controls-position":"right"},null,8,["modelValue","size"])]),_:1}),c($,{prop:"cavesPort"},{label:T(()=>[c(te,{content:o(h)("setting.roomBaseFormPortToolTip"),effect:"light",placement:"top"},{default:T(()=>[H(A(o(h)("setting.baseForm.cavesPort")),1)]),_:1},8,["content"])]),default:T(()=>[c(Ee,{modelValue:R.value.cavesPort,"onUpdate:modelValue":a[9]||(a[9]=t=>R.value.cavesPort=t),max:65535,min:1,size:o(k)?"small":"large","controls-position":"right"},null,8,["modelValue","size"])]),_:1}),c($,{label:o(h)("setting.baseForm.gameMode.name"),prop:"gameMode"},{default:T(()=>[c(de,{modelValue:R.value.gameMode,"onUpdate:modelValue":a[10]||(a[10]=t=>R.value.gameMode=t)},{default:T(()=>[c(Le,{label:r.$t("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),c(Le,{label:r.$t("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),c(Le,{label:r.$t("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),c(Le,{label:r.$t("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.pvp"),prop:"pvp"},{default:T(()=>[c(q,{modelValue:R.value.pvp,"onUpdate:modelValue":a[11]||(a[11]=t=>R.value.pvp=t)},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.playerNum"),prop:"playerNum"},{default:T(()=>[c(Y,{modelValue:R.value.playerNum,"onUpdate:modelValue":a[12]||(a[12]=t=>R.value.playerNum=t),max:100,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.backDays"),prop:"backDays"},{default:T(()=>[c(Y,{modelValue:R.value.backDays,"onUpdate:modelValue":a[13]||(a[13]=t=>R.value.backDays=t),max:50,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.vote"),prop:"vote"},{default:T(()=>[c(q,{modelValue:R.value.vote,"onUpdate:modelValue":a[14]||(a[14]=t=>R.value.vote=t)},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.password")},{default:T(()=>[c(F,{modelValue:R.value.password,"onUpdate:modelValue":a[15]||(a[15]=t=>R.value.password=t),"show-password":"",autocomplete:"new-password"},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.token"),prop:"token"},{default:T(()=>[c(F,{modelValue:R.value.token,"onUpdate:modelValue":a[16]||(a[16]=t=>R.value.token=t),"show-password":""},null,8,["modelValue"]),M("div",gn,[c(ve,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:T(()=>[H(A(o(h)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["style"])):be("",!0),ee.value===1?(v(),j(e,{key:1,style:Xe(o(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:T(()=>[c(xe,{modelValue:Ye.value,"onUpdate:modelValue":a[20]||(a[20]=t=>Ye.value=t)},{default:T(()=>[c(Ie,{label:o(h)("setting.tabCode"),name:"Code"},{default:T(()=>[R.value.gameMode==="endless"?(v(),j(d,{key:0,type:"primary",onClick:a[17]||(a[17]=t=>le("master","endless"))},{default:T(()=>[H(A(o(h)("setting.luaImportButton.endless")),1)]),_:1})):be("",!0),R.value.gameMode==="survival"?(v(),j(d,{key:1,type:"primary",onClick:a[18]||(a[18]=t=>le("master","survival"))},{default:T(()=>[H(A(o(h)("setting.luaImportButton.survival")),1)]),_:1})):be("",!0),c(Oe,{ref_key:"roomGroundFormRef",ref:De,"label-width":o(k)?"70":"100",model:se.value,rules:Ke,size:o(k)?"small":"large",style:{"margin-top":"10px"}},{default:T(()=>[c($,{"label-position":"top",prop:"groundSetting"},{default:T(()=>[c(Tt,{ref_key:"editorGroundSettingRef",ref:fe,modelValue:se.value.groundSetting,"onUpdate:modelValue":a[19]||(a[19]=t=>se.value.groundSetting=t),height:o(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(R.value.gameMode==="endless"||R.value.gameMode==="survival")&&se.value.groundSetting!==""?(v(),j(Ie,{key:0,label:o(h)("setting.tabVisualization"),name:"Visualization"},{default:T(()=>[c(X,{"content-position":"center"},{default:T(()=>[M("span",pn,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),M("div",hn,[(v(!0),P(ne,null,ae(o(Ae).global,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Tn,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),M("div",yn,[(v(!0),P(ne,null,ae(o(Ae).events,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",_n,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),M("div",vn,[(v(!0),P(ne,null,ae(o(Ae).survivors,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",kn,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),M("div",bn,[(v(!0),P(ne,null,ae(o(Ae).world,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Sn,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),M("div",Vn,[(v(!0),P(ne,null,ae(o(Ae).resourceRegrowth,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Ln,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),M("div",Cn,[(v(!0),P(ne,null,ae(o(Ae).unnaturalPortalResource,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",wn,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),M("div",En,[(v(!0),P(ne,null,ae(o(Ae).creatures,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Fn,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),M("div",Rn,[(v(!0),P(ne,null,ae(o(Ae).hostileCreatures,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",An,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),M("div",Bn,[(v(!0),P(ne,null,ae(o(Ae).giants,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Gn,A(o(h)("setting.groundVisualizationGeneration")),1),H(" - "+A(o(h)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),M("div",In,[(v(!0),P(ne,null,ae(o(tt).global,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Un,A(o(h)("setting.groundVisualizationGeneration")),1),H(" - "+A(o(h)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),M("div",Mn,[(v(!0),P(ne,null,ae(o(tt).world,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Pn,A(o(h)("setting.groundVisualizationGeneration")),1),H(" - "+A(o(h)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),M("div",zn,[(v(!0),P(ne,null,ae(o(tt).resources,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Dn,A(o(h)("setting.groundVisualizationGeneration")),1),H(" - "+A(o(h)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),M("div",Nn,[(v(!0),P(ne,null,ae(o(tt).creaturesAndSpawners,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",$n,A(o(h)("setting.groundVisualizationGeneration")),1),H(" - "+A(o(h)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),M("div",On,[(v(!0),P(ne,null,ae(o(tt).hostileCreaturesAndSpawners,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):be("",!0)]),_:1},8,["modelValue"])]),_:1},8,["style"])):be("",!0),ee.value===2?(v(),j(e,{key:2,style:Xe(o(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:T(()=>[c(xe,{modelValue:re.value,"onUpdate:modelValue":a[24]||(a[24]=t=>re.value=t)},{default:T(()=>[c(Ie,{label:o(h)("setting.tabCode"),name:"Code"},{default:T(()=>[c(_t,{closable:!1,effect:Ve.value?"light":"dark",type:"success"},{default:T(()=>[H(A(o(h)("setting.cavesTip")),1)]),_:1},8,["effect"]),M("div",xn,[R.value.gameMode==="endless"?(v(),j(d,{key:0,type:"primary",onClick:a[21]||(a[21]=t=>le("caves","endless"))},{default:T(()=>[H(A(o(h)("setting.luaImportButton.endless")),1)]),_:1})):be("",!0),R.value.gameMode==="survival"?(v(),j(d,{key:1,type:"primary",onClick:a[22]||(a[22]=t=>le("caves","survival"))},{default:T(()=>[H(A(o(h)("setting.luaImportButton.survival")),1)]),_:1})):be("",!0)]),c(Oe,{ref_key:"roomCaveFormRef",ref:Ne,"label-width":o(k)?"70":"100",model:_e.value,rules:je,size:o(k)?"small":"large",style:{"margin-top":"10px"}},{default:T(()=>[c($,{"label-position":"top",prop:"caveSetting"},{default:T(()=>[c(Tt,{ref_key:"editorCavesSettingRef",ref:ye,modelValue:_e.value.caveSetting,"onUpdate:modelValue":a[23]||(a[23]=t=>_e.value.caveSetting=t),height:o(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(R.value.gameMode==="endless"||R.value.gameMode==="survival")&&_e.value.caveSetting!==""?(v(),j(Ie,{key:0,label:o(h)("setting.tabVisualization"),name:"Visualization"},{default:T(()=>[c(X,{"content-position":"center"},{default:T(()=>[M("span",Wn,A(o(h)("setting.cavesVisualizationRule")),1),H(" - "+A(o(h)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),M("div",qn,[(v(!0),P(ne,null,ae(o(nt).world,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Kn,A(o(h)("setting.cavesVisualizationRule")),1),H(" - "+A(o(h)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),M("div",jn,[(v(!0),P(ne,null,ae(o(nt).resourceRegrowth,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Hn,A(o(h)("setting.cavesVisualizationRule")),1),H(" - "+A(o(h)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),M("div",Jn,[(v(!0),P(ne,null,ae(o(nt).creatures,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Xn,A(o(h)("setting.cavesVisualizationRule")),1),H(" - "+A(o(h)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),M("div",Zn,[(v(!0),P(ne,null,ae(o(nt).hostileCreatures,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Qn,A(o(h)("setting.cavesVisualizationRule")),1),H(" - "+A(o(h)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),M("div",Yn,[(v(!0),P(ne,null,ae(o(nt).giants,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",el,A(o(h)("setting.cavesVisualizationGeneration")),1),H(" - "+A(o(h)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),M("div",tl,[(v(!0),P(ne,null,ae(o(st).world,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(dt)[t].configs,customConfigsValue:o(dt)[t].customConfigsValue,i18n:o(dt)[t].i18n,image:o(dt)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",nl,A(o(h)("setting.cavesVisualizationGeneration")),1),H(" - "+A(o(h)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),M("div",ll,[(v(!0),P(ne,null,ae(o(st).resources,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",ol,A(o(h)("setting.cavesVisualizationGeneration")),1),H(" - "+A(o(h)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),M("div",al,[(v(!0),P(ne,null,ae(o(st).creaturesAndSpawners,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",il,A(o(h)("setting.cavesVisualizationGeneration")),1),H(" - "+A(o(h)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),M("div",rl,[(v(!0),P(ne,null,ae(o(st).hostileCreaturesAndSpawners,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):be("",!0)]),_:1},8,["modelValue"])]),_:1},8,["style"])):be("",!0),ee.value===3?(v(),j(e,{key:3,style:Xe(o(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:T(()=>[c(Oe,{ref_key:"roomModFormRef",ref:Qe,"label-width":o(k)?"70":"100",model:Q.value,rules:ue,size:o(k)?"small":"large"},{default:T(()=>[c($,{"label-position":"top",prop:"modSetting"},{default:T(()=>[c(Tt,{ref:"editor",modelValue:Q.value.modSetting,"onUpdate:modelValue":a[25]||(a[25]=t=>Q.value.modSetting=t),height:o(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["style"])):be("",!0),ee.value===4?(v(),j(e,{key:4,style:Xe(o(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:T(()=>[M("div",{style:Xe(o(k)?"min-height: 360px":"min-height: 560px"),class:"fcc"},[c(gt,{"sub-title":r.$t("setting.finish.description"),title:r.$t("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1},8,["style"])):be("",!0)]),_:1})]),_:1}),c(s,{gutter:10},{default:T(()=>[c(i,{lg:24,md:24,sm:24,span:24,xs:24},{default:T(()=>[c(e,{shadow:"never"},{default:T(()=>[M("div",ul,[ee.value>0?(v(),j(d,{key:0,onClick:Ze},{default:T(()=>[H(A(o(h)("setting.button.prev")),1)]),_:1})):be("",!0),ee.value<4?(v(),j(d,{key:1,type:"primary",onClick:ft},{default:T(()=>[H(A(o(h)("setting.button.next")),1)]),_:1})):be("",!0),ee.value===4?(v(),j(Je,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:ot},{dropdown:T(()=>[c(qe,null,{default:T(()=>[c(et,{command:"save"},{default:T(()=>[H(A(o(h)("setting.button.save")),1)]),_:1}),c(et,{command:"saveAndRestart"},{default:T(()=>[H(A(o(h)("setting.button.saveAndRestart")),1)]),_:1}),c(et,{command:"generateNewWorld"},{default:T(()=>[H(A(o(h)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:T(()=>[c(d,{loading:ge.value,type:"warning"},{default:T(()=>[H(A(o(h)("setting.button.actions"))+" ",1),c(ht,{class:"el-icon--right"},{default:T(()=>[c(pt)]),_:1})]),_:1},8,["loading"])]),_:1})):be("",!0)])]),_:1})]),_:1})]),_:1})],64)),g.value?(v(),P(ne,{key:1},[c(s,{gutter:10},{default:T(()=>[c(i,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:T(()=>[c(e,{shadow:"never"},{default:T(()=>[c(w,{active:ee.value,"align-center":"","finish-status":"success"},{default:T(()=>[c(m,{title:o(k)?r.$t("setting.roomSettingMobile"):r.$t("setting.roomSetting"),onClick:a[26]||(a[26]=t=>Ge(0))},null,8,["title"]),c(m,{title:o(k)?r.$t("setting.worldSettingMobile"):r.$t("setting.worldSetting"),onClick:a[27]||(a[27]=t=>Ge(1))},null,8,["title"]),c(m,{title:o(k)?r.$t("setting.modSettingMobile"):r.$t("setting.modSetting"),onClick:a[28]||(a[28]=t=>Ge(3))},null,8,["title"]),c(m,{title:o(k)?r.$t("setting.finishSettingMobile"):r.$t("setting.finishSetting"),onClick:a[29]||(a[29]=t=>Ge(2))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),c(s,{gutter:10,style:{"margin-top":"5px"}},{default:T(()=>[c(i,{lg:24,md:24,sm:24,span:24,xs:24},{default:T(()=>[ee.value===0?(v(),j(e,{key:0,style:Xe(o(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:T(()=>[M("div",sl,[M("span",null,A(o(h)("setting.roomSetting")),1),M("div",null,[c(d,{link:"",type:"primary",onClick:a[30]||(a[30]=t=>y(!1))},{default:T(()=>[H(A(o(h)("setting.baseForm.changeSingleHostMode")),1)]),_:1})])])]),default:T(()=>[c(Oe,{ref_key:"roomBaseFormRef",ref:We,"label-position":o(k)?"top":"left","label-width":o(k)?"70":"auto",model:R.value,rules:ze,size:o(k)?"small":"large"},{default:T(()=>[c($,{label:o(h)("setting.baseForm.room"),prop:"name"},{default:T(()=>[c(F,{modelValue:R.value.name,"onUpdate:modelValue":a[31]||(a[31]=t=>R.value.name=t)},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.description"),prop:"description"},{default:T(()=>[c(F,{modelValue:R.value.description,"onUpdate:modelValue":a[32]||(a[32]=t=>R.value.description=t)},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.gameMode.name"),prop:"gameMode"},{default:T(()=>[c(de,{modelValue:R.value.gameMode,"onUpdate:modelValue":a[33]||(a[33]=t=>R.value.gameMode=t)},{default:T(()=>[c(Le,{label:r.$t("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),c(Le,{label:r.$t("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),c(Le,{label:r.$t("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),c(Le,{label:r.$t("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.pvp"),prop:"pvp"},{default:T(()=>[c(q,{modelValue:R.value.pvp,"onUpdate:modelValue":a[34]||(a[34]=t=>R.value.pvp=t)},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.playerNum"),prop:"playerNum"},{default:T(()=>[c(Y,{modelValue:R.value.playerNum,"onUpdate:modelValue":a[35]||(a[35]=t=>R.value.playerNum=t),max:100,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.backDays"),prop:"backDays"},{default:T(()=>[c(Y,{modelValue:R.value.backDays,"onUpdate:modelValue":a[36]||(a[36]=t=>R.value.backDays=t),max:50,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.vote"),prop:"vote"},{default:T(()=>[c(q,{modelValue:R.value.vote,"onUpdate:modelValue":a[37]||(a[37]=t=>R.value.vote=t)},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.password")},{default:T(()=>[c(F,{modelValue:R.value.password,"onUpdate:modelValue":a[38]||(a[38]=t=>R.value.password=t),"show-password":"",autocomplete:"new-password"},null,8,["modelValue"])]),_:1},8,["label"]),c($,{label:o(h)("setting.baseForm.token"),prop:"token"},{default:T(()=>[c(F,{modelValue:R.value.token,"onUpdate:modelValue":a[39]||(a[39]=t=>R.value.token=t),"show-password":""},null,8,["modelValue"]),M("div",dl,[c(ve,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:T(()=>[H(A(o(h)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["style"])):be("",!0),ee.value===1?(v(),j(e,{key:1,style:Xe(o(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:T(()=>[M("div",fl,[M("div",null,[c(de,{modelValue:L.value,"onUpdate:modelValue":a[40]||(a[40]=t=>L.value=t),onChange:n},{default:T(()=>[c(Le,{value:!0,size:"small"},{default:T(()=>[H(A(o(h)("setting.groundSettingMobile")),1)]),_:1}),c(Le,{value:!1,size:"small"},{default:T(()=>[H(A(o(h)("setting.caveSettingMobile")),1)]),_:1})]),_:1},8,["modelValue"])])])]),default:T(()=>[L.value?(v(),j(xe,{key:0,modelValue:Ye.value,"onUpdate:modelValue":a[50]||(a[50]=t=>Ye.value=t)},{default:T(()=>[c(Ie,{label:o(h)("setting.tabCode"),name:"Code"},{default:T(()=>[R.value.gameMode==="endless"?(v(),j(d,{key:0,type:"primary",onClick:a[41]||(a[41]=t=>le("master","endless"))},{default:T(()=>[H(A(o(h)("setting.luaImportButton.endless")),1)]),_:1})):be("",!0),R.value.gameMode==="survival"?(v(),j(d,{key:1,type:"primary",onClick:a[42]||(a[42]=t=>le("master","survival"))},{default:T(()=>[H(A(o(h)("setting.luaImportButton.survival")),1)]),_:1})):be("",!0),c(Oe,{ref_key:"roomBaseFormRef",ref:We,model:R.value,inline:"","label-width":o(k)?"70":"100","label-position":"top",rules:S,size:o(k)?"small":"large",style:{"margin-top":"10px"}},{default:T(()=>[c(te,{effect:"light","show-after":500,content:"server.ini - [NETWORK] - server_port",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.masterPort"),prop:"masterPort"},{default:T(()=>[c(F,{modelValue:R.value.masterPort,"onUpdate:modelValue":a[43]||(a[43]=t=>R.value.masterPort=t),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - master_port",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.shardMasterPort"),prop:"shardMasterPort"},{default:T(()=>[c(F,{modelValue:R.value.shardMasterPort,"onUpdate:modelValue":a[44]||(a[44]=t=>R.value.shardMasterPort=t),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(te,{effect:"light","show-after":500,content:"server.ini - [STEAM] - server_master_port",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.steamMasterPort"),prop:"steamMasterPort"},{default:T(()=>[c(F,{modelValue:R.value.steamMasterPort,"onUpdate:modelValue":a[45]||(a[45]=t=>R.value.steamMasterPort=t),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(te,{effect:"light","show-after":500,content:"server.ini - [STEAM] - authentication_port",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.steamAuthenticationPort"),prop:"steamAuthenticationPort"},{default:T(()=>[c(F,{modelValue:R.value.steamAuthenticationPort,"onUpdate:modelValue":a[46]||(a[46]=t=>R.value.steamAuthenticationPort=t),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - master_ip",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:"Master IP",prop:"shardMasterIp"},{default:T(()=>[c(F,{modelValue:R.value.shardMasterIp,"onUpdate:modelValue":a[47]||(a[47]=t=>R.value.shardMasterIp=t),disabled:"",size:"default"},null,8,["modelValue"])]),_:1})]),_:1}),c(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - cluster_key",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.clusterKey"),prop:"clusterKey"},{default:T(()=>[c(F,{modelValue:R.value.clusterKey,"onUpdate:modelValue":a[48]||(a[48]=t=>R.value.clusterKey=t),type:"password","show-password":"",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","label-width","size"]),c(Oe,{ref_key:"roomGroundFormRef",ref:De,"label-width":o(k)?"70":"100",model:se.value,rules:Ke,size:o(k)?"small":"large",style:{"margin-top":"10px"}},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.groundSetting"),prop:"groundSetting"},{default:T(()=>[c(Tt,{ref_key:"editorGroundSettingRef",ref:fe,modelValue:se.value.groundSetting,"onUpdate:modelValue":a[49]||(a[49]=t=>se.value.groundSetting=t),height:o(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1},8,["label"])]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(R.value.gameMode==="endless"||R.value.gameMode==="survival")&&se.value.groundSetting!==""?(v(),j(Ie,{key:0,label:o(h)("setting.tabVisualization"),name:"Visualization"},{default:T(()=>[c(X,{"content-position":"center"},{default:T(()=>[M("span",cl,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),M("div",ml,[(v(!0),P(ne,null,ae(o(Ae).global,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",gl,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),M("div",pl,[(v(!0),P(ne,null,ae(o(Ae).events,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",hl,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),M("div",Tl,[(v(!0),P(ne,null,ae(o(Ae).survivors,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",yl,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),M("div",_l,[(v(!0),P(ne,null,ae(o(Ae).world,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",vl,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),M("div",kl,[(v(!0),P(ne,null,ae(o(Ae).resourceRegrowth,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",bl,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),M("div",Sl,[(v(!0),P(ne,null,ae(o(Ae).unnaturalPortalResource,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Vl,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),M("div",Ll,[(v(!0),P(ne,null,ae(o(Ae).creatures,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Cl,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),M("div",wl,[(v(!0),P(ne,null,ae(o(Ae).hostileCreatures,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",El,A(o(h)("setting.groundVisualizationRule")),1),H(" - "+A(o(h)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),M("div",Fl,[(v(!0),P(ne,null,ae(o(Ae).giants,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Rl,A(o(h)("setting.groundVisualizationGeneration")),1),H(" - "+A(o(h)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),M("div",Al,[(v(!0),P(ne,null,ae(o(tt).global,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Bl,A(o(h)("setting.groundVisualizationGeneration")),1),H(" - "+A(o(h)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),M("div",Gl,[(v(!0),P(ne,null,ae(o(tt).world,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Il,A(o(h)("setting.groundVisualizationGeneration")),1),H(" - "+A(o(h)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),M("div",Ul,[(v(!0),P(ne,null,ae(o(tt).resources,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Ml,A(o(h)("setting.groundVisualizationGeneration")),1),H(" - "+A(o(h)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),M("div",Pl,[(v(!0),P(ne,null,ae(o(tt).creaturesAndSpawners,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",zl,A(o(h)("setting.groundVisualizationGeneration")),1),H(" - "+A(o(h)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),M("div",Dl,[(v(!0),P(ne,null,ae(o(tt).hostileCreaturesAndSpawners,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:oe},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):be("",!0)]),_:1},8,["modelValue"])):(v(),j(xe,{key:1,modelValue:re.value,"onUpdate:modelValue":a[60]||(a[60]=t=>re.value=t)},{default:T(()=>[c(Ie,{label:o(h)("setting.tabCode"),name:"Code"},{default:T(()=>[M("div",null,[R.value.gameMode==="endless"?(v(),j(d,{key:0,type:"primary",onClick:a[51]||(a[51]=t=>le("caves","endless"))},{default:T(()=>[H(A(o(h)("setting.luaImportButton.endless")),1)]),_:1})):be("",!0),R.value.gameMode==="survival"?(v(),j(d,{key:1,type:"primary",onClick:a[52]||(a[52]=t=>le("caves","survival"))},{default:T(()=>[H(A(o(h)("setting.luaImportButton.survival")),1)]),_:1})):be("",!0)]),c(Oe,{ref_key:"roomBaseFormRef",ref:We,model:R.value,inline:"","label-width":o(k)?"70":"100","label-position":"top",rules:S,size:o(k)?"small":"large",style:{"margin-top":"10px"}},{default:T(()=>[c(te,{effect:"light","show-after":500,content:"server.ini - [NETWORK] - server_port",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.cavesPort"),prop:"cavesPort"},{default:T(()=>[c(F,{modelValue:R.value.cavesPort,"onUpdate:modelValue":a[53]||(a[53]=t=>R.value.cavesPort=t),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - master_port",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.shardMasterPort"),prop:"shardMasterPort"},{default:T(()=>[c(F,{modelValue:R.value.shardMasterPort,"onUpdate:modelValue":a[54]||(a[54]=t=>R.value.shardMasterPort=t),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(te,{effect:"light","show-after":500,content:"server.ini - [STEAM] - server_master_port",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.steamMasterPort"),prop:"steamMasterPort"},{default:T(()=>[c(F,{modelValue:R.value.steamMasterPort,"onUpdate:modelValue":a[55]||(a[55]=t=>R.value.steamMasterPort=t),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(te,{effect:"light","show-after":500,content:"server.ini - [STEAM] - authentication_port",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.steamAuthenticationPort"),prop:"steamAuthenticationPort"},{default:T(()=>[c(F,{modelValue:R.value.steamAuthenticationPort,"onUpdate:modelValue":a[56]||(a[56]=t=>R.value.steamAuthenticationPort=t),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - master_ip",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:"Master IP",prop:"shardMasterIp"},{default:T(()=>[c(F,{modelValue:R.value.shardMasterIp,"onUpdate:modelValue":a[57]||(a[57]=t=>R.value.shardMasterIp=t),size:"default"},null,8,["modelValue"])]),_:1})]),_:1}),c(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - cluster_key",placement:"top"},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.clusterKey"),prop:"clusterKey"},{default:T(()=>[c(F,{modelValue:R.value.clusterKey,"onUpdate:modelValue":a[58]||(a[58]=t=>R.value.clusterKey=t),type:"password","show-password":"",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","label-width","size"]),c(Oe,{ref_key:"roomCaveFormRef",ref:Ne,"label-width":o(k)?"70":"100",model:_e.value,rules:je,size:o(k)?"small":"large",style:{"margin-top":"10px"}},{default:T(()=>[c($,{"label-position":"top",label:o(h)("setting.roomWorldForm.caveSetting"),prop:"caveSetting"},{default:T(()=>[c(Tt,{ref_key:"editorCavesSettingRef",ref:ye,modelValue:_e.value.caveSetting,"onUpdate:modelValue":a[59]||(a[59]=t=>_e.value.caveSetting=t),height:o(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1},8,["label"])]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(R.value.gameMode==="endless"||R.value.gameMode==="survival")&&_e.value.caveSetting!==""?(v(),j(Ie,{key:0,label:o(h)("setting.tabVisualization"),name:"Visualization"},{default:T(()=>[c(X,{"content-position":"center"},{default:T(()=>[M("span",Nl,A(o(h)("setting.cavesVisualizationRule")),1),H(" - "+A(o(h)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),M("div",$l,[(v(!0),P(ne,null,ae(o(nt).world,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Ol,A(o(h)("setting.cavesVisualizationRule")),1),H(" - "+A(o(h)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),M("div",xl,[(v(!0),P(ne,null,ae(o(nt).resourceRegrowth,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Wl,A(o(h)("setting.cavesVisualizationRule")),1),H(" - "+A(o(h)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),M("div",ql,[(v(!0),P(ne,null,ae(o(nt).creatures,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Kl,A(o(h)("setting.cavesVisualizationRule")),1),H(" - "+A(o(h)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),M("div",jl,[(v(!0),P(ne,null,ae(o(nt).hostileCreatures,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Hl,A(o(h)("setting.cavesVisualizationRule")),1),H(" - "+A(o(h)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),M("div",Jl,[(v(!0),P(ne,null,ae(o(nt).giants,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Xl,A(o(h)("setting.cavesVisualizationGeneration")),1),H(" - "+A(o(h)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),M("div",Zl,[(v(!0),P(ne,null,ae(o(st).world,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(dt)[t].configs,customConfigsValue:o(dt)[t].customConfigsValue,i18n:o(dt)[t].i18n,image:o(dt)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",Ql,A(o(h)("setting.cavesVisualizationGeneration")),1),H(" - "+A(o(h)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),M("div",Yl,[(v(!0),P(ne,null,ae(o(st).resources,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",eo,A(o(h)("setting.cavesVisualizationGeneration")),1),H(" - "+A(o(h)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),M("div",to,[(v(!0),P(ne,null,ae(o(st).creaturesAndSpawners,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))]),c(X,{"content-position":"center"},{default:T(()=>[M("span",no,A(o(h)("setting.cavesVisualizationGeneration")),1),H(" - "+A(o(h)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),M("div",lo,[(v(!0),P(ne,null,ae(o(st).hostileCreaturesAndSpawners,t=>(v(),P("div",null,[(v(),j(ie,{modelValue:B.value[t],"onUpdate:modelValue":f=>B.value[t]=f,configs:o(_)[t].configs,customConfigsValue:o(_)[t].customConfigsValue,i18n:o(_)[t].i18n,image:o(_)[t].image,name:t,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):be("",!0)]),_:1},8,["modelValue"]))]),_:1},8,["style"])):be("",!0),ee.value===2?(v(),j(e,{key:2,style:Xe(o(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:T(()=>[c(Oe,{ref_key:"roomModFormRef",ref:Qe,"label-width":o(k)?"70":"100",model:Q.value,rules:ue,size:o(k)?"small":"large"},{default:T(()=>[c($,{"label-position":"top",prop:"modSetting"},{default:T(()=>[c(Tt,{ref:"editor",modelValue:Q.value.modSetting,"onUpdate:modelValue":a[61]||(a[61]=t=>Q.value.modSetting=t),height:o(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["style"])):be("",!0),ee.value===3?(v(),j(e,{key:3,style:Xe(o(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:T(()=>[M("div",{style:Xe(o(k)?"min-height: 360px":"min-height: 560px"),class:"fcc"},[c(gt,{"sub-title":r.$t("setting.finish.description"),title:r.$t("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1},8,["style"])):be("",!0)]),_:1})]),_:1}),c(s,{gutter:10},{default:T(()=>[c(i,{lg:24,md:24,sm:24,span:24,xs:24},{default:T(()=>[c(e,{shadow:"never"},{default:T(()=>[M("div",oo,[ee.value>0?(v(),j(d,{key:0,onClick:Ze},{default:T(()=>[H(A(o(h)("setting.button.prev")),1)]),_:1})):be("",!0),ee.value<3?(v(),j(d,{key:1,type:"primary",onClick:ft},{default:T(()=>[H(A(o(h)("setting.button.next")),1)]),_:1})):be("",!0),ee.value===3?(v(),j(Je,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:ot},{dropdown:T(()=>[c(qe,null,{default:T(()=>[c(et,{command:"save"},{default:T(()=>[H(A(o(h)("setting.button.save")),1)]),_:1}),c(et,{command:"saveAndRestart"},{default:T(()=>[H(A(o(h)("setting.button.saveAndRestart")),1)]),_:1}),c(et,{command:"generateNewWorld"},{default:T(()=>[H(A(o(h)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:T(()=>[c(d,{loading:ge.value,type:"warning"},{default:T(()=>[H(A(o(h)("setting.button.actions"))+" ",1),c(ht,{class:"el-icon--right"},{default:T(()=>[c(pt)]),_:1})]),_:1},8,["loading"])]),_:1})):be("",!0)])]),_:1})]),_:1})]),_:1})],64)):be("",!0)])}}}),co=nn(io,[["__scopeId","data-v-97a5bfb4"]]);export{co as default};
