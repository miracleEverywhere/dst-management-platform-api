import{h as T,_ as vt,o as gt,u as yt,a as bt,g as wt,b as kt,c as Re,s as q,r as v,d as Ct,e as xt,w as zt,f as r,i as z,F as P,j as l,k as t,l as e,m as d,t as s,n as p,p as G,q as u,v as g,x as be,y as we,z as Dt,A as qe,B as W,E as Pe,C as Ge,D as ke,G as It,H as St,I as Vt,J as We,K as c,L as Oe}from"./index-5FXYdO3K.js";import{e as Y}from"./index-CsMLd1Gf.js";const S={roomInfo:{url:"/home/room_info",get:async function(b){return await T.get(this.url,b)}},sysInfo:{url:"/home/sys_info",get:async function(b){return await T.get(this.url,b)}},worldInfo:{url:"/home/world_info",get:async function(b){return await T.get(this.url,b)}},exec:{url:"/home/exec",post:async function(b){return await T.post(this.url,b)}},allScreens:{url:"/home/cluster/all_screens",get:async function(b){return await T.get(this.url,b)}},screenKill:{url:"/home/cluster/screen_kill",post:async function(b){return await T.post(this.url,b)}},interface:{announce:{url:"/home/announce",post:async function(b){return await T.post(this.url,b)}},console:{url:"/home/console",post:async function(b){return await T.post(this.url,b)}}}},Tt={class:"page-div"},Nt={class:"card-header"},Lt={key:1,class:"fcc",style:{height:"150px"}},Ut={class:"card-header"},$t={class:"fcc"},Ft={class:"fcc"},Bt={class:"percentage-value"},Mt={class:"percentage-value"},At={class:"percentage-label"},Et={class:"card-header"},Kt={key:0},Rt={key:1,class:"fcc",style:{height:"150px"}},qt={class:"card-header"},Pt={key:0},Gt={class:"fcc"},Wt={style:{"margin-right":"10px"}},Ot={key:1,class:"fcc",style:{height:"150px"}},jt={class:"card-header"},Ht={style:{display:"flex","align-items":"center"}},Qt={key:1,class:"fcc",style:{height:"300px"}},Jt={class:"fcc",style:{height:"67vh"}},Yt={class:"fcc",style:{height:"67vh"}},Xt={class:"tip_warning"},Zt={class:"tip"},el={style:{margin:"20px"}},tl={class:"tip"},ll={class:"tip_success"},ol={style:{display:"flex","align-items":"center"}},al={style:{display:"flex","align-items":"center"}},nl={style:{display:"flex","align-items":"center"}},sl={style:{display:"flex","align-items":"center"}},ul={style:{display:"flex","align-items":"center"}},rl={style:{display:"flex","align-items":"center"}},il={__name:"index",setup(b){gt(()=>{Ze(),Ye(),Xe(),le(!1),tt(),Qe()});const{t:o}=yt(),{isMobile:M}=bt(),_=wt(),je=kt(),X=Re(()=>_.isDark),y=Re(()=>_.language),He=je.userInfo,Qe=async()=>{var i;await q(2e3),_.needTour=(((i=_.dstClusters)==null?void 0:i.length)||0)===0};v(!1);const Z=v(!1),ee=v(!1),N=v({server:0,local:0}),A=v(""),O=v(""),j=v(!1),Je=()=>{O.value=_.customConnectionCode,j.value=!0},Ce=()=>{_.customConnectionCode=O.value,j.value=!1,W(y.value==="zh"?"更新成功":"Update Success"),Fe()},Ye=()=>{Z.value=!0,Y.dstVersion.get().then(i=>{N.value=i.data}).finally(()=>{Z.value=!1})},Xe=async()=>{_.customConnectionCode!==""?A.value=_.customConnectionCode:(ee.value=!0,_.selectedDstCluster||await q(1e3),Y.connectionCode.get({clusterName:_.selectedDstCluster}).then(i=>{A.value=i.data}).finally(()=>{ee.value=!1}))},f=v({clusterSetting:{},seasonInfo:{season:{},cycles:0,elapsedDays:0,seasonLength:{summer:15,autumn:20,spring:20,winter:15},phase:{}},modsCount:0,playerNum:0}),Ze=async()=>{_.selectedDstCluster||await q(1e3),S.roomInfo.get({clusterName:_.selectedDstCluster}).then(i=>{f.value=i.data})},xe=i=>f.value.seasonInfo.cycles>-1?`(${f.value.seasonInfo.elapsedDays}/${f.value.seasonInfo.seasonLength[i]})`:"",te=v({cpu:0,memory:0}),H=v([{id:"",stat:!1,world:"",type:"",cpu:0,mem:0,memSize:0,diskUsed:0}]),et=()=>{S.sysInfo.get().then(i=>{te.value=i.data})},le=async(i=!0)=>{if(f.value.clusterSetting.name==="")return;i||_.selectedDstCluster||await q(1e3);const n={clusterName:_.selectedDstCluster};S.worldInfo.get(n).then(I=>{H.value=I.data})},ze=[{color:"#5cb87a",percentage:20},{color:"#1989fa",percentage:40},{color:"#e6a23c",percentage:60},{color:"#f56c6c",percentage:80},{color:"#6f7ad3",percentage:100}];let Q=null,oe=null;const tt=()=>{Q=setInterval(()=>{et()},2e3),oe=setInterval(()=>{_.selectedDstCluster&&le()},1e4)},De=()=>{Q&&(clearInterval(Q),clearInterval(oe),Q=null,oe=null)},ae=v(!1),lt=i=>{const n={clusterName:_.selectedDstCluster,worldName:i,type:"switch",extraData:""};ae.value=!0,S.exec.post(n).finally(async()=>{await le(),await q(1500),ae.value=!1})},w=(i,n)=>{const I={startup:{en:"STARTUP",zh:"启动"},rollback:{en:"ROLLBACK",zh:"回档"},shutdown:{en:"SHUTDOWN",zh:"关闭"},restart:{en:"RESTART",zh:"重启"},update:{en:"UPDATE GAME",zh:"更新游戏"},reset:{en:"RESET GAME",zh:"重置游戏"},delete:{en:"DELETE GAME",zh:"删除世界"}};Pe.confirm(y.value==="zh"?`将执行 ${I[i].zh} 操作，是否继续？`:`The ${I[i].en} operation will be performed. Do you want to continue?`,y.value==="zh"?"请确认您的操作":"Please confirm your operation",{confirmButtonText:y.value==="zh"?"确定":"confirm",cancelButtonText:y.value==="zh"?"取消":"cancel",type:"warning",beforeClose:(k,m,x)=>{if(k==="confirm"){m.confirmButtonLoading=!0;const $={type:i,extraData:n,clusterName:_.selectedDstCluster,worldName:""};S.exec.post($).then(h=>{W(h.message),x()}).catch(()=>{}).finally(()=>{m.confirmButtonLoading=!1})}else x()}}).then(()=>{}).catch(()=>{Ge(o("home.canceled"))})},ne=v(!1),E=v({message:""}),Ie=()=>{if(E.value.message===""){ke(y.value==="zh"?"请输入要宣告的内容":"Please enter the content to be announced");return}ne.value=!0;const i={type:"announce",extraData:E.value.message,clusterName:_.selectedDstCluster,worldName:""};S.exec.post(i).then(n=>{W(n.message),E.value.message=""}).finally(()=>{ne.value=!1})},se=v(!1),D=v({cmd:"",world:""}),Se=()=>{if(D.value.world===""){ke(y.value==="zh"?"请选择地面或洞穴":"Please select a world from ground and cave");return}if(D.value.cmd===""){ke(y.value==="zh"?"请输入要执行的命令":"Please enter the command to execute");return}se.value=!0;const i={type:"console",extraData:D.value.cmd,clusterName:_.selectedDstCluster,worldName:D.value.world};S.exec.post(i).then(n=>{W(n.message),D.value.cmd=""}).finally(()=>{se.value=!1})},ue=v(!1),re=v(!1),Ve=v([]),ot=()=>{ue.value=!0,re.value=!0;const i={clusterName:_.selectedDstCluster};Y.modInfo.get(i).then(n=>{Ve.value=n.data}).finally(()=>{re.value=!1})},ie=v(!1),Te=v([]),de=v(!1),Ne=()=>{de.value=!0,ie.value=!0;const i={clusterName:_.selectedDstCluster};S.allScreens.get(i).then(n=>{Te.value=n.data}).finally(()=>{ie.value=!1}),Le()},at=i=>{Pe.confirm(y.value==="zh"?"将执行 关闭进程 操作，是否继续？":"The shutdown operation will be performed. Do you want to continue?",y.value==="zh"?"请确认您的操作":"Please confirm your operation",{confirmButtonText:y.value==="zh"?"确定":"confirm",cancelButtonText:y.value==="zh"?"取消":"cancel",type:"warning",beforeClose:(n,I,k)=>{if(n==="confirm"){I.confirmButtonLoading=!0;const m={screenName:i};S.screenKill.post(m).then(x=>{W(x.message),Ne(),k()}).catch(()=>{}).finally(()=>{I.confirmButtonLoading=!1})}else k()}}).then(()=>{}).catch(()=>{Ge(o("home.canceled"))})},nt=[{label:"ap-southeast-1",value:"ap-southeast-1"},{label:"ap-east-1",value:"ap-east-1"},{label:"us-east-1",value:"us-east-1"},{label:"eu-central-1",value:"eu-central-1"}],ce=v(["ap-southeast-1","ap-east-1"]),me=v(!1),U=v(!1),Le=()=>{U.value=!0;const i={clusterName:_.selectedDstCluster,regions:ce.value};Y.checkLobby.post(i).then(n=>{me.value=n.data}).finally(()=>{U.value=!1})},J=It();St();const Ue=Ct(),$e=Vt("refresh"),Fe=()=>{setTimeout(()=>{J.meta.isKeepAlive&&Ue.removeKeepAliveName(J.name),$e(!1),We(()=>{J.meta.isKeepAlive&&Ue.addKeepAliveName(J.name),$e(!0)})},0)};return xt(()=>{De(),window.removeEventListener("beforeunload",De)}),zt(()=>_.selectedDstCluster,i=>{i&&We(()=>{Fe()})},{immediate:!1}),(i,n)=>{const I=c("DocumentCopy"),k=c("el-icon"),m=c("el-button"),x=c("el-descriptions-item"),$=c("el-tooltip"),h=c("el-tag"),st=c("el-descriptions"),F=c("el-result"),L=c("el-card"),V=c("el-col"),Be=c("QuestionFilled"),Me=c("el-progress"),pe=c("el-row"),K=c("el-form-item"),fe=c("el-form"),_e=c("el-input"),Ae=c("el-option"),Ee=c("el-select"),C=c("el-table-column"),ut=c("el-switch"),he=c("el-table"),rt=c("el-image"),ve=c("el-dialog"),it=c("Loading"),ge=c("el-alert"),dt=c("MilkTea"),B=c("el-tour-step"),ct=c("Sugar"),mt=c("ColdDrink"),pt=c("Dessert"),ft=c("Fries"),_t=c("IceDrink"),ht=c("el-tour"),Ke=Oe("copy"),ye=Oe("loading");return r(),z("div",Tt,[N.value.local!==-1?(r(),z(P,{key:0},[l(_).dstClusters?(r(),z(P,{key:0},[t(pe,{gutter:10},{default:e(()=>[t(V,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{shadow:"never",style:{"min-height":"250px"}},{header:e(()=>[d("div",Nt,s(l(o)("home.roomInfo")),1)]),default:e(()=>[f.value.clusterSetting.name!==""?(r(),p(st,{key:0,column:l(M)?1:2},{default:e(()=>[t(x,{label:l(o)("home.roomName")},{default:e(()=>[G((r(),p(m,{link:"",type:"primary"},{default:e(()=>[u(s(f.value.clusterSetting.name)+" ",1),t(k,{style:{"margin-left":"3px"}},{default:e(()=>[t(I)]),_:1})]),_:1})),[[Ke,f.value.clusterSetting.name]])]),_:1},8,["label"]),t(x,{label:l(o)("home.connectionCode")},{default:e(()=>[t($,{content:A.value,effect:"light",placement:"top"},{default:e(()=>[G((r(),p(m,{disabled:A.value==="",loading:ee.value,link:"",type:"primary"},{default:e(()=>[u(s(l(o)("home.copy")),1)]),_:1},8,["disabled","loading"])),[[Ke,A.value]])]),_:1},8,["content"]),t(m,{link:"",type:"info",onClick:Je},{default:e(()=>[u(s(l(o)("home.customConnectionCode")),1)]),_:1})]),_:1},8,["label"]),t(x,{label:l(o)("home.cycles")},{default:e(()=>[t(h,{type:f.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(s(f.value.seasonInfo.cycles),1)]),_:1},8,["type"])]),_:1},8,["label"]),t(x,{label:l(o)("home.phase")},{default:e(()=>[y.value==="en"?(r(),p(h,{key:0,type:f.value.seasonInfo.phase.en==="Failed to retrieve"?"danger":"success"},{default:e(()=>[u(s(f.value.seasonInfo.phase.en),1)]),_:1},8,["type"])):g("",!0),y.value==="zh"?(r(),p(h,{key:1,type:f.value.seasonInfo.phase.zh==="获取失败"?"danger":"success"},{default:e(()=>[u(s(f.value.seasonInfo.phase.zh),1)]),_:1},8,["type"])):g("",!0)]),_:1},8,["label"]),t(x,{label:l(o)("home.season")},{default:e(()=>[y.value==="en"?(r(),p(h,{key:0,type:f.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(s(f.value.seasonInfo.season.en)+" "+s(xe(f.value.seasonInfo.season.en)),1)]),_:1},8,["type"])):g("",!0),y.value==="zh"?(r(),p(h,{key:1,type:f.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[u(s(f.value.seasonInfo.season.zh)+" "+s(xe(f.value.seasonInfo.season.en)),1)]),_:1},8,["type"])):g("",!0)]),_:1},8,["label"]),t(x,{label:l(o)("home.mods")},{default:e(()=>[t(h,null,{default:e(()=>[u(s(f.value.modsCount),1)]),_:1}),t(m,{link:"",style:{"margin-left":"10px"},type:"primary",onClick:ot},{default:e(()=>[u(s(l(o)("home.modsButton")),1)]),_:1})]),_:1},8,["label"]),t(x,{label:l(o)("home.version")},{default:e(()=>[G((r(),p(h,{type:N.value.local===N.value.server?"success":"danger"},{default:e(()=>[u(" ("+s(N.value.local)+"/"+s(N.value.server)+") ",1)]),_:1},8,["type"])),[[ye,Z.value]])]),_:1},8,["label"]),t(x,{label:l(o)("home.playerNum")},{default:e(()=>[t(h,{type:"primary"},{default:e(()=>[u(s(f.value.playerNum),1)]),_:1})]),_:1},8,["label"])]),_:1},8,["column"])):g("",!0),f.value.clusterSetting.name===""?(r(),z("div",Lt,[t(F,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])])):g("",!0)]),_:1})]),_:1}),t(V,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{shadow:"never",style:{"min-height":"250px"}},{header:e(()=>[d("div",Ut,[d("div",$t,[u(s(l(o)("home.sysInfo"))+" ",1),t($,{content:l(o)("home.sysInfoTip"),effect:"light",placement:"top"},{default:e(()=>[t(k,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[t(Be)]),_:1})]),_:1},8,["content"])])])]),default:e(()=>[d("div",Ft,[t(Me,{color:ze,percentage:te.value.cpu,type:"dashboard"},{default:e(({percentage:a})=>[d("span",Bt,s(a.toFixed(1)),1),n[25]||(n[25]=d("span",{class:"percentage-label"},"CPU",-1))]),_:1},8,["percentage"]),t(Me,{color:ze,percentage:te.value.memory,style:{"margin-left":"10%"},type:"dashboard"},{default:e(({percentage:a})=>[d("span",Mt,s(a.toFixed(1)),1),d("span",At,s(l(o)("home.mem")),1)]),_:1},8,["percentage"])])]),_:1})]),_:1})]),_:1}),t(pe,{gutter:10},{default:e(()=>[t(V,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{style:{"min-height":"300px"},shadow:"never"},{header:e(()=>[d("div",Et,s(l(o)("home.control")),1)]),default:e(()=>[f.value.clusterSetting.name!==""?(r(),z("div",Kt,[t(fe,{size:"large"},{default:e(()=>[t(K,{label:l(o)("home.rollback")},{default:e(()=>[l(M)?(r(),p(V,{key:0},{default:e(()=>[t(m,{size:"small",onClick:n[0]||(n[0]=a=>w("rollback",1))},{default:e(()=>[u("1"+s(l(o)("home.day")),1)]),_:1}),t(m,{size:"small",onClick:n[1]||(n[1]=a=>w("rollback",2))},{default:e(()=>[u(" 2"+s(l(o)("home.days")),1)]),_:1}),t(m,{size:"small",onClick:n[2]||(n[2]=a=>w("rollback",3))},{default:e(()=>[u(" 3"+s(l(o)("home.days")),1)]),_:1})]),_:1})):g("",!0),l(M)?(r(),p(V,{key:1},{default:e(()=>[t(m,{size:"small",onClick:n[3]||(n[3]=a=>w("rollback",4))},{default:e(()=>[u(" 4"+s(l(o)("home.days")),1)]),_:1}),t(m,{size:"small",onClick:n[4]||(n[4]=a=>w("rollback",5))},{default:e(()=>[u(" 5"+s(l(o)("home.days")),1)]),_:1})]),_:1})):g("",!0),l(M)?g("",!0):(r(),p(V,{key:2},{default:e(()=>[t(m,{size:"small",onClick:n[5]||(n[5]=a=>w("rollback",1))},{default:e(()=>[u("1"+s(l(o)("home.day")),1)]),_:1}),t(m,{size:"small",onClick:n[6]||(n[6]=a=>w("rollback",2))},{default:e(()=>[u(" 2"+s(l(o)("home.days")),1)]),_:1}),t(m,{size:"small",onClick:n[7]||(n[7]=a=>w("rollback",3))},{default:e(()=>[u(" 3"+s(l(o)("home.days")),1)]),_:1}),t(m,{size:"small",onClick:n[8]||(n[8]=a=>w("rollback",4))},{default:e(()=>[u(" 4"+s(l(o)("home.days")),1)]),_:1}),t(m,{size:"small",onClick:n[9]||(n[9]=a=>w("rollback",5))},{default:e(()=>[u(" 5"+s(l(o)("home.days")),1)]),_:1})]),_:1}))]),_:1},8,["label"])]),_:1}),t(fe,{size:"large"},{default:e(()=>[t(K,null,{default:e(()=>[t(m,{size:"default",type:"success",onClick:n[10]||(n[10]=a=>w("startup",0))},{default:e(()=>[u(s(l(o)("home.startup")),1)]),_:1}),t(m,{size:"default",type:"primary",onClick:n[11]||(n[11]=a=>w("restart",0))},{default:e(()=>[u(s(l(o)("home.restart")),1)]),_:1}),t(m,{disabled:l(He).role!=="admin",size:"default",type:"warning",onClick:n[12]||(n[12]=a=>w("update",0))},{default:e(()=>[u(s(l(o)("home.update")),1)]),_:1},8,["disabled"])]),_:1}),t(K,null,{default:e(()=>[t(m,{size:"default",type:"warning",onClick:n[13]||(n[13]=a=>w("shutdown",0))},{default:e(()=>[u(s(l(o)("home.shutdown")),1)]),_:1}),t(m,{size:"default",type:"danger",onClick:n[14]||(n[14]=a=>w("reset",0))},{default:e(()=>[u(s(l(o)("home.reset")),1)]),_:1}),t($,{content:l(o)("home.deleteTips"),effect:"light",placement:"top"},{default:e(()=>[t(m,{color:"#626aef",size:"default",onClick:n[15]||(n[15]=a=>w("delete",0))},{default:e(()=>[u(s(l(o)("home.delete")),1)]),_:1})]),_:1},8,["content"])]),_:1})]),_:1})])):g("",!0),f.value.clusterSetting.name===""?(r(),z("div",Rt,[t(F,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])])):g("",!0)]),_:1})]),_:1}),t(V,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{style:{"min-height":"300px"},shadow:"never"},{header:e(()=>[d("div",qt,s(l(o)("home.interface")),1)]),default:e(()=>[f.value.clusterSetting.name!==""?(r(),z("div",Pt,[t(fe,{"label-position":"top"},{default:e(()=>[t(K,{label:l(o)("home.announcement")},{default:e(()=>[t(_e,{modelValue:E.value.message,"onUpdate:modelValue":n[16]||(n[16]=a=>E.value.message=a),onKeyup:be(Ie,["enter"])},{append:e(()=>[t(m,{loading:ne.value,onClick:Ie},{default:e(()=>[u(s(l(o)("home.send")),1)]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(K,{label:"Console"},{default:e(()=>[t(_e,{modelValue:D.value.cmd,"onUpdate:modelValue":n[18]||(n[18]=a=>D.value.cmd=a),onKeyup:be(Se,["enter"])},{prepend:e(()=>[t(Ee,{modelValue:D.value.world,"onUpdate:modelValue":n[17]||(n[17]=a=>D.value.world=a),style:{width:"115px"}},{default:e(()=>[(r(!0),z(P,null,we(H.value,a=>(r(),p(Ae,{disabled:!a.stat,label:a.world,value:a.world},{default:e(()=>[d("div",Gt,[d("span",Wt,s(a.world),1),a.type==="forest"?(r(),p(h,{key:0,type:"success"},{default:e(()=>n[26]||(n[26]=[u("地面")])),_:1})):g("",!0),a.type==="cave"?(r(),p(h,{key:1,type:"warning"},{default:e(()=>n[27]||(n[27]=[u("洞穴")])),_:1})):g("",!0),a.type==="None"?(r(),p(h,{key:2,type:"danger"},{default:e(()=>n[28]||(n[28]=[u("未识别")])),_:1})):g("",!0)])]),_:2},1032,["disabled","label","value"]))),256))]),_:1},8,["modelValue"])]),append:e(()=>[t(m,{loading:se.value,onClick:Se},{default:e(()=>[u(s(l(o)("home.execute")),1)]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1})]),_:1})])):g("",!0),f.value.clusterSetting.name===""?(r(),z("div",Ot,[t(F,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])])):g("",!0)]),_:1})]),_:1})]),_:1}),t(pe,{gutter:10},{default:e(()=>[t(V,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{style:Dt(l(M)?"min-height: 300px":"height: 400px"),shadow:"never"},{header:e(()=>[d("div",jt,[d("span",null,s(y.value==="zh"?"世界信息":"World Info"),1),t(m,{link:"",type:"primary",onClick:Ne},{default:e(()=>[u(s(y.value==="zh"?"检查世界":"Check World"),1)]),_:1})])]),default:e(()=>[H.value?(r(),p(he,{key:0,data:H.value,border:""},{default:e(()=>[t(C,{label:"ID",prop:"id"},{default:e(a=>[t(h,{type:"info"},{default:e(()=>[u(s(a.row.id),1)]),_:2},1024)]),_:1}),t(C,{label:l(o)("home.worldName"),prop:"world"},{default:e(a=>[t(h,{type:"primary"},{default:e(()=>[u(s(a.row.world),1)]),_:2},1024)]),_:1},8,["label"]),t(C,{label:l(o)("home.type"),prop:"type"},{default:e(a=>[a.row.type==="forest"?(r(),p(h,{key:0,type:"success"},{default:e(()=>[u(s(y.value==="zh"?"地面":"Ground"),1)]),_:1})):g("",!0),a.row.type==="cave"?(r(),p(h,{key:1,type:"warning"},{default:e(()=>[u(s(y.value==="zh"?"洞穴":"Cave"),1)]),_:1})):g("",!0),a.row.type==="None"?(r(),p(h,{key:2,type:"danger"},{default:e(()=>[u(s(y.value==="zh"?"未识别":"Undefined"),1)]),_:1})):g("",!0)]),_:1},8,["label"]),t(C,{label:l(o)("home.isMaster"),prop:"isMaster"},{default:e(a=>[a.row.isMaster?(r(),p(h,{key:0,type:"primary"},{default:e(()=>[u(s(y.value==="zh"?"是":"Yes"),1)]),_:1})):(r(),p(h,{key:1,type:"info"},{default:e(()=>[u(s(y.value==="zh"?"否":"No"),1)]),_:1}))]),_:1},8,["label"]),t(C,{prop:"cpu"},{header:e(()=>[d("div",Ht,[n[29]||(n[29]=d("span",null,"CPU",-1)),t($,{content:l(o)("home.cpuTip"),effect:"light",placement:"top"},{default:e(()=>[t(k,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[t(Be)]),_:1})]),_:1},8,["content"])])]),default:e(a=>[t(h,{type:"info"},{default:e(()=>[u(s(a.row.cpu.toFixed(2))+"%",1)]),_:2},1024)]),_:1}),t(C,{label:l(o)("home.memory")+"(MiB)",prop:"mem"},{default:e(a=>[t(h,{type:"info"},{default:e(()=>[u(s(a.row.memSize.toFixed(0))+" ["+s(a.row.mem.toFixed(0))+"%]",1)]),_:2},1024)]),_:1},8,["label"]),t(C,{label:l(o)("home.disk"),prop:"diskUsed"},{default:e(a=>[t(h,{type:"info"},{default:e(()=>[u(s(l(qe)(a.row.diskUsed,0)),1)]),_:2},1024)]),_:1},8,["label"]),t(C,{label:l(o)("home.status"),prop:"stat"},{default:e(a=>[t(ut,{modelValue:a.row.stat,"onUpdate:modelValue":R=>a.row.stat=R,"inline-prompt":"","active-text":l(o)("home.running"),"inactive-text":l(o)("home.terminated"),loading:ae.value,onChange:R=>lt(a.row.world)},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text","loading","onChange"])]),_:1},8,["label"])]),_:1},8,["data"])):(r(),z("div",Qt,[t(F,{title:l(o)("home.noServer"),icon:"warning"},null,8,["title"])]))]),_:1},8,["style"])]),_:1})]),_:1})],64)):(r(),p(L,{key:1,shadow:"never"},{default:e(()=>[d("div",Jt,[t(F,{title:"请创建集群后再使用本平台功能",icon:"warning"})])]),_:1}))],64)):g("",!0),N.value.local===-1?(r(),p(L,{key:1,shadow:"never"},{default:e(()=>[d("div",Yt,[t(F,{title:"请先安装游戏后再使用本平台功能","sub-title":"请前往 工具-安装游戏 页面，或使用脚本进行手动安装",icon:"warning"})])]),_:1})):g("",!0),t(ve,{modelValue:ue.value,"onUpdate:modelValue":n[19]||(n[19]=a=>ue.value=a),"close-on-click-modal":!1,title:l(o)("home.modsTable.title"),width:"80%"},{default:e(()=>[G((r(),p(he,{data:Ve.value,border:"",height:"70vh",size:"small",style:{width:"100%"},"tooltip-effect":"light"},{default:e(()=>[t(C,{label:l(o)("home.modsTable.name"),prop:"name"},null,8,["label"]),t(C,{label:l(o)("home.modsTable.pics"),prop:"preview_url",width:"120px"},{default:e(a=>[t(rt,{src:a.row.preview_url,fit:"fill",style:{width:"100px",height:"100px"}},null,8,["src"])]),_:1},8,["label"]),t(C,{label:l(o)("home.modsTable.size"),prop:"size"},{default:e(a=>[u(s(l(qe)(a.row.size)),1)]),_:1},8,["label"]),t(C,{label:l(o)("home.modsTable.id"),prop:"id"},null,8,["label"]),t(C,{label:l(o)("home.modsTable.tags"),prop:"tags"},{default:e(a=>[(r(!0),z(P,null,we(a.row.tags,R=>(r(),p(h,{style:{margin:"0 5px 5px 0"}},{default:e(()=>[u(s(R.display_name),1)]),_:2},1024))),256))]),_:1},8,["label"])]),_:1},8,["data"])),[[ye,re.value]])]),_:1},8,["modelValue","title"]),t(ve,{modelValue:de.value,"onUpdate:modelValue":n[21]||(n[21]=a=>de.value=a),width:"60%"},{header:e(()=>[u(s(l(o)("home.screenDialog.title")),1)]),default:e(()=>[t(Ee,{modelValue:ce.value,"onUpdate:modelValue":n[20]||(n[20]=a=>ce.value=a),multiple:"",disabled:U.value,onChange:Le,style:{margin:"20px 0"}},{default:e(()=>[(r(),z(P,null,we(nt,a=>t(Ae,{label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"]),U.value?(r(),p(ge,{key:0,closable:!1,type:"info","show-icon":"",effect:X.value?"light":"dark"},{icon:e(()=>[t(k,{class:"is-loading"},{default:e(()=>[t(it)]),_:1})]),default:e(()=>[u(" "+s(l(o)("home.screenDialog.tip3")),1)]),_:1},8,["effect"])):g("",!0),me.value&&!U.value?(r(),p(ge,{key:1,closable:!1,type:"success","show-icon":"",effect:X.value?"light":"dark"},{default:e(()=>[u(s(l(o)("home.screenDialog.tip4")),1)]),_:1},8,["effect"])):g("",!0),!me.value&&!U.value?(r(),p(ge,{key:2,closable:!1,type:"error","show-icon":"",effect:X.value?"light":"dark"},{default:e(()=>[u(s(l(o)("home.screenDialog.tip5")),1)]),_:1},8,["effect"])):g("",!0),d("div",Xt,s(l(o)("home.screenDialog.tip1")),1),d("div",Zt,s(l(o)("home.screenDialog.tip2")),1),G((r(),p(he,{data:Te.value,border:""},{default:e(()=>[t(C,{label:l(o)("home.screenDialog.column1"),prop:"screenName"},{default:e(a=>[t(h,{type:"primary"},{default:e(()=>[u(s(a.row.screenName),1)]),_:2},1024)]),_:1},8,["label"]),t(C,{label:l(o)("home.screenDialog.column2")},{default:e(a=>[t(m,{type:"danger",size:"small",onClick:R=>at(a.row.screenName)},{default:e(()=>[u(s(l(o)("home.screenDialog.stop")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[ye,ie.value]])]),_:1},8,["modelValue"]),t(ve,{modelValue:j.value,"onUpdate:modelValue":n[23]||(n[23]=a=>j.value=a),width:"60%"},{default:e(()=>[d("div",el,[d("div",tl,s(l(o)("home.customConnectionCodeTip")),1),d("div",ll,s(l(o)("home.customConnectionCodeTip2")),1),t(_e,{modelValue:O.value,"onUpdate:modelValue":n[22]||(n[22]=a=>O.value=a),onKeyup:be(Ce,["enter"])},{append:e(()=>[t(m,{onClick:Ce},{default:e(()=>[u(s(l(o)("home.submit")),1)]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),t(ht,{modelValue:l(_).needTour,"onUpdate:modelValue":n[24]||(n[24]=a=>l(_).needTour=a)},{default:e(()=>[t(B,{title:l(o)("home.tour.one.title")},{default:e(()=>[d("div",ol,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(dt)]),_:1}),d("span",null,s(l(o)("home.tour.one.desc")),1)])]),_:1},8,["title"]),t(B,{target:"#tourUser",title:l(o)("home.tour.two.title")},{default:e(()=>[d("div",al,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(ct)]),_:1}),d("span",null,s(l(o)("home.tour.two.desc")),1)])]),_:1},8,["title"]),t(B,{target:"#tourClusterSelect",title:l(o)("home.tour.three.title")},{default:e(()=>[d("div",nl,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(mt)]),_:1}),d("span",null,s(l(o)("home.tour.three.desc")),1)])]),_:1},8,["title"]),t(B,{target:"#tourMessage",title:l(o)("home.tour.four.title")},{default:e(()=>[d("div",sl,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(pt)]),_:1}),d("span",null,s(l(o)("home.tour.four.desc")),1)])]),_:1},8,["title"]),t(B,{target:"#tourGithub",title:l(o)("home.tour.five.title")},{default:e(()=>[d("div",ul,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(ft)]),_:1}),d("span",null,s(l(o)("home.tour.five.desc")),1)])]),_:1},8,["title"]),t(B,{title:l(o)("home.tour.six.title")},{default:e(()=>[d("div",rl,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(_t)]),_:1}),d("span",null,s(l(o)("home.tour.six.desc")),1)])]),_:1},8,["title"])]),_:1},8,["modelValue"])])}}},ml=vt(il,[["__scopeId","data-v-cd7616ed"]]);export{ml as default};
