import{a as A,u as M,c as b,r as y,K as l,f as V,i as P,k as e,l as t,m as a,q as s,t as i,j as d,z as E,A as K,n as O,v as R,F as $,a2 as G,B as H}from"./index-DbQcEWlc.js";const J={style:{display:"flex","align-items":"center",margin:"5px",width:"280px"}},L={style:{width:"200px"}},Q={class:"fcc"},W={style:{margin:"5px 0"},class:"fcc"},X={class:"fcc"},Y={style:{"min-height":"50vh","margin-top":"20px"}},Z={class:"fcc"},ee={class:"fcc"},te={class:"fcc"},oe={style:{"margin-top":"20px"}},ne={__name:"modInfo",props:{mod:{type:Object,default:{}}},setup(F){const{isMobile:r}=A(),{t:f}=M(),o=F,u=b(()=>parseFloat((o.mod.vote_data.score*5).toFixed(2))),S=b(()=>o.mod.name.length>20?o.mod.name.slice(0,20)+"...":o.mod.name),h=y(!1),k=y(!1),z=()=>{const g={id:o.mod.id,file_url:o.mod.file_url};G.mod.download.post(g).then(n=>{H(n.message)})};return(g,n)=>{const v=l("el-image"),m=l("el-tag"),B=l("el-tooltip"),w=l("el-rate"),x=l("el-button"),C=l("el-card"),D=l("PictureFilled"),p=l("el-icon"),c=l("el-descriptions-item"),N=l("sc-icon-ThumbUpFill"),T=l("sc-icon-ThumbDownFill"),U=l("sc-icon-StarFill"),I=l("el-descriptions"),j=l("el-scrollbar"),q=l("el-dialog");return V(),P($,null,[e(C,{shadow:"never"},{default:t(()=>[a("div",J,[e(v,{src:o.mod.preview_url,fit:"fill",style:{width:"80px",height:"80px"}},null,8,["src"]),a("div",L,[a("div",Q,[e(B,{effect:"light","show-after":500,content:o.mod.name,placement:"top"},{default:t(()=>[e(m,{size:"small"},{default:t(()=>[s(i(S.value),1)]),_:1})]),_:1},8,["content"])]),a("div",W,[e(w,{modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=_=>u.value=_),max:5,disabled:"","allow-half":"","show-score":""},null,8,["modelValue"])]),a("div",X,[e(x,{type:"primary",size:"small",onClick:n[1]||(n[1]=_=>h.value=!0)},{default:t(()=>[s(i(d(f)("setting.mod.download.detail")),1)]),_:1}),e(x,{type:"success",size:"small",loading:k.value,onClick:z},{default:t(()=>[s(i(d(f)("setting.mod.download.download")),1)]),_:1},8,["loading"])])])])]),_:1}),e(q,{modelValue:h.value,"onUpdate:modelValue":n[3]||(n[3]=_=>h.value=_),title:o.mod.name,width:"80vw"},{default:t(()=>[a("div",Y,[e(I,{column:2,border:"",direction:d(r)?"vertical":"horizontal"},{default:t(()=>[e(c,{rowspan:d(r)?1:2,width:140,align:"center"},{label:t(()=>[e(p,null,{default:t(()=>[e(D)]),_:1})]),default:t(()=>[e(v,{style:E(d(r)?"width: 60px; height: 60px":"width: 120px; height: 120px"),src:o.mod.preview_url},null,8,["style","src"])]),_:1},8,["rowspan"]),e(c,{label:"ID",align:"center"},{default:t(()=>[e(m,{type:"info"},{default:t(()=>[s(i(o.mod.id),1)]),_:1})]),_:1}),e(c,{label:d(f)("setting.mod.download.size"),align:"center"},{default:t(()=>[e(m,{type:"info"},{default:t(()=>[s(i(d(K)(o.mod.size)),1)]),_:1})]),_:1},8,["label"]),e(c,{align:"center"},{label:t(()=>[a("div",Z,[e(p,null,{default:t(()=>[e(N)]),_:1})])]),default:t(()=>[e(m,{type:"info"},{default:t(()=>[s(i(o.mod.vote_data.votes_up),1)]),_:1})]),_:1}),d(r)?(V(),O(c,{key:0})):R("",!0),e(c,{align:"center"},{label:t(()=>[a("div",ee,[e(p,null,{default:t(()=>[e(T)]),_:1})])]),default:t(()=>[e(m,{type:"info"},{default:t(()=>[s(i(o.mod.vote_data.votes_down),1)]),_:1})]),_:1}),e(c,null,{label:t(()=>[a("div",te,[e(p,null,{default:t(()=>[e(U)]),_:1})])]),default:t(()=>[e(w,{modelValue:u.value,"onUpdate:modelValue":n[2]||(n[2]=_=>u.value=_),max:5,disabled:"","allow-half":"","show-score":"","score-template":"({value}/5)"},null,8,["modelValue"])]),_:1})]),_:1},8,["direction"]),a("div",oe,[e(j,{"max-height":"20vh"},{default:t(()=>[s(i(o.mod.file_description),1)]),_:1})])])]),_:1},8,["modelValue","title"])],64)}}};export{ne as default};
